[{"filePath":"D:\\cb-hr-gpt\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ConfirmationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ErrorLogHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ErrorLogItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ErrorLogModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ErrorToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\Layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\Progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\SettingsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\Status.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\StatusConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\TestErrorComponent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ToastConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ToastContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\animation\\AnimatedList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\animation\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\HighlightedText.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\Icon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\IconButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\Modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\common\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\dashboard\\DepartmentPerformanceChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\dashboard\\GrowthTrendChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\dashboard\\RadarChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\dashboard\\ScoreDistributionChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\dashboard\\WordCloud.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\AdminEvaluationTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\AdminEvaluationToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\AnnualScoreSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\EvaluationTableBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\NoResultView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\UserCompletedList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\evaluation\\UserEvaluationCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\LibraryEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\LibraryListMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\LibraryToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\TemplateCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isSelected' is assigned a value but never used.","line":41,"column":67,"nodeType":null,"messageId":"unusedVar","endLine":41,"endColumn":77},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used. Allowed unused args must match /^_/u.","line":57,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Award, GraduationCap, LucideIcon, Settings, UserCheck, Users } from 'lucide-react';\nimport React, { memo, useMemo } from 'react';\nimport { EvaluationTemplate } from '../../constants';\nimport { HighlightedText } from '../common/HighlightedText';\nimport { TemplateCardActions } from './TemplateCardActions';\n\ninterface TemplateCardProps {\n    template: EvaluationTemplate;\n    onEdit: (id: string) => void;\n    onArchive: (id: string) => void;\n    onRestore: (id: string) => void;\n    onDuplicate: (id: string) => void;\n    onPreview: (template: EvaluationTemplate) => void;\n    onToggleFavorite: (id: string) => void;\n    isBusy: boolean;\n    isSelectionMode?: boolean;\n    isSelected?: boolean;\n    onToggleSelect?: (id: string) => void;\n    searchTerm?: string;\n}\n\nconst CATEGORY_ICONS: Record<string, LucideIcon> = {\n    본인평가: UserCheck,\n    역량평가: UserCheck,\n    수습평가: GraduationCap,\n    다면평가: Users,\n    리더십평가: Award,\n    기타: Settings,\n};\n\nconst CATEGORY_COLORS: Record<string, { color: string; bg: string }> = {\n    본인평가: { color: 'text-sky-600', bg: 'bg-sky-100' },\n    역량평가: { color: 'text-sky-600', bg: 'bg-sky-100' },\n    수습평가: { color: 'text-green-600', bg: 'bg-green-100' },\n    다면평가: { color: 'text-primary', bg: 'bg-primary/10' },\n    리더십평가: { color: 'text-amber-600', bg: 'bg-amber-100' },\n    기타: { color: 'text-slate-600', bg: 'bg-slate-100' },\n};\n\nfunction useTemplateCardLogic(props: TemplateCardProps) {\n    const { template, onPreview, isSelectionMode, onToggleSelect, isSelected } = props;\n\n    const normalizedType = useMemo(() => template.type.replace(/\\s+/g, ''), [template.type]);\n    const style = useMemo(() => CATEGORY_COLORS[normalizedType] || CATEGORY_COLORS['기타'], [normalizedType]);\n    const Icon = CATEGORY_ICONS[normalizedType] || CATEGORY_ICONS['기타'];\n\n    const itemCount = useMemo(\n        () => (template.items ? template.items.length : template.questions || 0),\n        [template.items, template.questions]\n    );\n\n    const versionLabel = `v${template.version ?? 1}`;\n    const tags = template.tags?.slice(0, 3) || [];\n    const isArchived = Boolean(template.archived);\n    const isFavorite = Boolean(template.favorite);\n\n    const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n        if (isSelectionMode && !isArchived && onToggleSelect) {\n            onToggleSelect(template.id);\n        } else {\n            onPreview(template);\n        }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            handleClick(e);\n        }\n    };\n\n    return {\n        style,\n        Icon,\n        itemCount,\n        versionLabel,\n        tags,\n        isArchived,\n        isFavorite,\n        handleClick,\n        handleKeyDown,\n    };\n}\n\nexport const TemplateCard = memo((props: TemplateCardProps) => {\n    const {\n        template,\n        onEdit,\n        onArchive,\n        onRestore,\n        onDuplicate,\n        onToggleFavorite,\n        isBusy,\n        isSelectionMode = false,\n        isSelected = false,\n        onToggleSelect,\n        searchTerm = '',\n    } = props;\n\n    const { style, Icon, itemCount, versionLabel, tags, isArchived, isFavorite, handleClick, handleKeyDown } =\n        useTemplateCardLogic(props);\n\n    const cardClassName = `bg-white rounded-xl shadow-sm hover:shadow-lg transition-all flex flex-col group cursor-pointer ${\n        isArchived ? 'opacity-60' : ''\n    } ${isSelected ? 'ring-2 ring-sky-500' : ''}`;\n\n    return (\n        <div\n            onClick={handleClick as any}\n            className={cardClassName}\n            role=\"button\"\n            tabIndex={0}\n            onKeyDown={handleKeyDown}\n        >\n            <div className=\"p-6 flex-grow\">\n                <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                        {/* Selection mode checkbox */}\n                        {isSelectionMode && !isArchived && (\n                            <input\n                                type=\"checkbox\"\n                                checked={isSelected}\n                                onChange={(e) => {\n                                    e.stopPropagation();\n                                    onToggleSelect?.(template.id);\n                                }}\n                                onClick={(e) => e.stopPropagation()}\n                                className=\"h-5 w-5 rounded border-slate-300 text-sky-600 focus:ring-sky-500 cursor-pointer\"\n                            />\n                        )}\n                        <div className={`p-2 rounded-lg ${style.bg}`}>\n                            <Icon className={`w-6 h-6 ${style.color}`} strokeWidth={1.5} />\n                        </div>\n                    </div>\n\n                    <TemplateCardActions\n                        templateId={template.id}\n                        isFavorite={isFavorite}\n                        isArchived={isArchived}\n                        isBusy={isBusy}\n                        onToggleFavorite={onToggleFavorite}\n                        onDuplicate={onDuplicate}\n                        onEdit={onEdit}\n                        onRestore={onRestore}\n                        onArchive={onArchive}\n                    />\n                </div>\n                <h3 className=\"mt-4 text-lg font-bold text-slate-900\">\n                    <HighlightedText text={template.name} searchTerm={searchTerm} />\n                </h3>\n                <p className=\"mt-1 text-sm text-slate-500\">\n                    {template.type} · {template.category || '미지정'}\n                </p>\n                {isArchived && (\n                    <span className=\"mt-2 inline-flex text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full\">\n                        보관됨\n                    </span>\n                )}\n                {tags.length > 0 && (\n                    <div className=\"mt-3 flex flex-wrap gap-2\">\n                        {tags.map((tag) => (\n                            <span key={tag} className=\"text-xs text-slate-600 bg-slate-100 px-2 py-0.5 rounded-full\">\n                                {tag}\n                            </span>\n                        ))}\n                    </div>\n                )}\n            </div>\n            <div className=\"px-6 py-4 bg-slate-50 rounded-b-xl border-t border-slate-200 text-xs text-slate-600 flex justify-between items-center\">\n                <span>항목 {itemCount}개</span>\n                <span>\n                    {versionLabel} · {template.lastUpdated}\n                </span>\n            </div>\n        </div>\n    );\n});\n\nTemplateCard.displayName = 'TemplateCard';\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\TemplateCardActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\TemplateGridView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\TemplateListRow.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (211). Maximum allowed is 100.","line":20,"column":5,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":242,"endColumn":6},{"ruleId":"complexity","severity":1,"message":"Arrow function has a complexity of 20. Maximum allowed is 15.","line":32,"column":30,"nodeType":"ArrowFunctionExpression","messageId":"complex","endLine":32,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used. Allowed unused args must match /^_/u.","line":37,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":37,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ArchiveRestore, Copy, Pencil, Star, Trash2 } from 'lucide-react';\nimport React, { memo } from 'react';\nimport { EvaluationTemplate } from '../../constants';\n\ninterface TemplateListRowProps {\n    template: EvaluationTemplate;\n    onEdit: (id: string | number) => void;\n    onArchive: (id: string | number) => void;\n    onRestore: (id: string | number) => void;\n    onDuplicate: (id: string | number) => void;\n    onPreview: (template: EvaluationTemplate) => void;\n    onToggleFavorite: (id: string | number) => void;\n    isBusy: boolean;\n    isSelectionMode?: boolean;\n    isSelected: boolean;\n    onToggleSelect?: (id: string | number) => void;\n}\n\nexport const TemplateListRow = memo(\n    ({\n        template,\n        onEdit,\n        onArchive,\n        onRestore,\n        onDuplicate,\n        onPreview,\n        onToggleFavorite,\n        isBusy,\n        isSelectionMode = false,\n        isSelected,\n        onToggleSelect,\n    }: TemplateListRowProps) => {\n        const isArchived = Boolean(template.archived);\n        const isFavorite = Boolean(template.favorite);\n        const itemCount = template.items ? template.items.length : template.questions || 0;\n\n        const handleClick = (e: React.MouseEvent) => {\n            if (isSelectionMode && !isArchived && onToggleSelect) {\n                onToggleSelect(template.id);\n            } else {\n                onPreview(template);\n            }\n        };\n\n        const handleKeyDown = (e: React.KeyboardEvent) => {\n            if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                if (isSelectionMode && !isArchived && onToggleSelect) {\n                    onToggleSelect(template.id);\n                } else {\n                    onPreview(template);\n                }\n            }\n        };\n\n        return (\n            <div\n                onClick={handleClick}\n                className={`flex flex-col md:flex-row md:items-center px-4 py-3 hover:bg-slate-50 cursor-pointer transition-colors group ${isArchived ? 'opacity-60' : ''} ${isSelected ? 'bg-sky-50' : ''}`}\n                role=\"button\"\n                tabIndex={0}\n                onKeyDown={handleKeyDown}\n            >\n                {/* 선택 체크박스 */}\n                {isSelectionMode && (\n                    <div className=\"hidden md:flex w-10 items-center\">\n                        {!isArchived && (\n                            <input\n                                type=\"checkbox\"\n                                checked={isSelected}\n                                onChange={(e) => {\n                                    e.stopPropagation();\n                                    onToggleSelect?.(template.id);\n                                }}\n                                onClick={(e) => e.stopPropagation()}\n                                className=\"h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500 cursor-pointer\"\n                            />\n                        )}\n                    </div>\n                )}\n\n                {/* 즐겨찾기 */}\n                <div className=\"hidden md:flex w-10 items-center\">\n                    <button\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            onToggleFavorite(template.id);\n                        }}\n                        disabled={isArchived}\n                        className={`p-1 rounded-full ${isFavorite ? 'text-amber-500' : 'text-slate-300 hover:text-amber-400'} ${isArchived ? 'opacity-50 cursor-not-allowed' : ''}`}\n                        title={isFavorite ? '즐겨찾기 해제' : '즐겨찾기'}\n                    >\n                        <Star className={`w-4 h-4 ${isFavorite ? 'fill-current' : ''}`} strokeWidth={1.5} />\n                    </button>\n                </div>\n\n                {/* 이름 */}\n                <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2\">\n                        <span className=\"font-medium text-slate-900 truncate\">{template.name}</span>\n                        {isArchived && (\n                            <span className=\"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full\">보관됨</span>\n                        )}\n                        {isFavorite && (\n                            <span className=\"md:hidden text-amber-500\">\n                                <Star className=\"w-4 h-4 fill-current\" strokeWidth={1.5} />\n                            </span>\n                        )}\n                    </div>\n                    {/* 모바일 추가 정보 */}\n                    <div className=\"md:hidden text-xs text-slate-500 mt-1\">\n                        {template.type} · {template.category || '미지정'} · 항목 {itemCount}개\n                    </div>\n                </div>\n\n                {/* 유형 */}\n                <div className=\"hidden md:block w-28 text-sm text-slate-600\">{template.type}</div>\n\n                {/* 카테고리 */}\n                <div className=\"hidden md:block w-24 text-sm text-slate-600\">{template.category || '미지정'}</div>\n\n                {/* 항목 수 */}\n                <div className=\"hidden md:block w-20 text-sm text-slate-600 text-center\">{itemCount}</div>\n\n                {/* 작성자 */}\n                <div className=\"hidden md:block w-24 text-sm text-slate-600 truncate\">{template.author}</div>\n\n                {/* 수정일 */}\n                <div className=\"hidden md:block w-28 text-sm text-slate-500\">{template.lastUpdated}</div>\n\n                {/* 액션 버튼 */}\n                <div className=\"hidden md:flex w-32 items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    {!isArchived && (\n                        <>\n                            <button\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    onDuplicate(template.id);\n                                }}\n                                disabled={isBusy}\n                                className=\"p-1.5 text-slate-500 hover:text-slate-800 rounded-full hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50\"\n                                title=\"복제\"\n                            >\n                                <Copy className=\"w-4 h-4\" strokeWidth={1.5} />\n                            </button>\n                            <button\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    onEdit(template.id);\n                                }}\n                                disabled={isBusy}\n                                className=\"p-1.5 text-slate-500 hover:text-slate-800 rounded-full hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50\"\n                                title=\"수정\"\n                            >\n                                <Pencil className=\"w-4 h-4\" strokeWidth={1.5} />\n                            </button>\n                        </>\n                    )}\n                    {isArchived ? (\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onRestore(template.id);\n                            }}\n                            disabled={isBusy}\n                            className=\"p-1.5 text-slate-500 hover:text-sky-600 rounded-full hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50\"\n                            title=\"복원\"\n                        >\n                            <ArchiveRestore className=\"w-4 h-4\" strokeWidth={1.5} />\n                        </button>\n                    ) : (\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onArchive(template.id);\n                            }}\n                            disabled={isBusy}\n                            className=\"p-1.5 text-slate-500 hover:text-red-600 rounded-full hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50\"\n                            title=\"보관\"\n                        >\n                            <Trash2 className=\"w-4 h-4\" strokeWidth={1.5} />\n                        </button>\n                    )}\n                </div>\n\n                {/* 모바일 액션 버튼 */}\n                <div className=\"md:hidden flex items-center justify-end gap-2 mt-2\">\n                    {!isArchived && (\n                        <>\n                            <button\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    onDuplicate(template.id);\n                                }}\n                                disabled={isBusy}\n                                className=\"p-2 text-slate-500 hover:text-slate-800 rounded-lg hover:bg-slate-100\"\n                                title=\"복제\"\n                            >\n                                <Copy className=\"w-5 h-5\" strokeWidth={1.5} />\n                            </button>\n                            <button\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    onEdit(template.id);\n                                }}\n                                disabled={isBusy}\n                                className=\"p-2 text-slate-500 hover:text-slate-800 rounded-lg hover:bg-slate-100\"\n                                title=\"수정\"\n                            >\n                                <Pencil className=\"w-5 h-5\" strokeWidth={1.5} />\n                            </button>\n                        </>\n                    )}\n                    {isArchived ? (\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onRestore(template.id);\n                            }}\n                            disabled={isBusy}\n                            className=\"p-2 text-slate-500 hover:text-sky-600 rounded-lg hover:bg-slate-100\"\n                            title=\"복원\"\n                        >\n                            <ArchiveRestore className=\"w-5 h-5\" strokeWidth={1.5} />\n                        </button>\n                    ) : (\n                        <button\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onArchive(template.id);\n                            }}\n                            disabled={isBusy}\n                            className=\"p-2 text-slate-500 hover:text-red-600 rounded-lg hover:bg-slate-100\"\n                            title=\"보관\"\n                        >\n                            <Trash2 className=\"w-5 h-5\" strokeWidth={1.5} />\n                        </button>\n                    )}\n                </div>\n            </div>\n        );\n    }\n);\n\nTemplateListRow.displayName = 'TemplateListRow';\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\toolbar\\ToolbarFilterRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\library\\toolbar\\ToolbarSecondaryRow.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (133). Maximum allowed is 100.","line":41,"column":5,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":180,"endColumn":6}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ArrowDown, ArrowUp, CheckSquare, Download, LayoutGrid, List as ListIcon, Trash2, Upload } from 'lucide-react';\nimport { memo, RefObject } from 'react';\n\nexport type ViewMode = 'grid' | 'table';\nexport type SortField = 'name' | 'lastUpdated' | 'questions' | 'author';\nexport type SortOrder = 'asc' | 'desc';\n\ninterface ToolbarSecondaryRowProps {\n    fileInputRef: RefObject<HTMLInputElement>;\n    onFileChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\n    // Selection Mode\n    isSelectionMode: boolean;\n    onToggleSelectionMode: () => void;\n    selectedCount: number;\n    selectableCount: number;\n    onSelectAll: () => void;\n    onDeselectAll: () => void;\n    onBatchArchive: () => void;\n    onBatchExport: () => void;\n    isBusy: boolean;\n\n    // View Mode\n    viewMode: ViewMode;\n    onViewModeChange: (mode: ViewMode) => void;\n\n    // Sort\n    sortField: SortField;\n    onSortFieldChange: (field: SortField) => void;\n    sortOrder: SortOrder;\n    onToggleSortOrder: () => void;\n\n    // Import/Export\n    onImportClick: () => void;\n    onExport: () => void;\n    canExport: boolean;\n    importError: string | null;\n}\n\nexport const ToolbarSecondaryRow = memo(\n    ({\n        fileInputRef,\n        onFileChange,\n        isSelectionMode,\n        onToggleSelectionMode,\n        selectedCount,\n        selectableCount,\n        onSelectAll,\n        onDeselectAll,\n        onBatchArchive,\n        onBatchExport,\n        isBusy,\n        viewMode,\n        onViewModeChange,\n        sortField,\n        onSortFieldChange,\n        sortOrder,\n        onToggleSortOrder,\n        onImportClick,\n        onExport,\n        canExport,\n        importError,\n    }: ToolbarSecondaryRowProps) => {\n        return (\n            <div className=\"mt-4 flex flex-wrap items-center gap-3 pt-4 border-t border-slate-100\">\n                {/* Hidden file input */}\n                <input ref={fileInputRef} type=\"file\" accept=\".json\" className=\"hidden\" onChange={onFileChange} />\n\n                {/* Selection mode toggle */}\n                <button\n                    onClick={onToggleSelectionMode}\n                    className={`flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-lg transition-all ${isSelectionMode ? 'bg-sky-100 text-sky-700' : 'text-slate-600 hover:text-slate-800 hover:bg-slate-100'}`}\n                    title={isSelectionMode ? '선택 모드 종료' : '선택 모드'}\n                >\n                    <CheckSquare className=\"w-4 h-4\" strokeWidth={1.5} />\n                    <span className=\"hidden sm:inline\">{isSelectionMode ? '선택 해제' : '선택'}</span>\n                </button>\n\n                {/* Selection mode controls */}\n                {isSelectionMode && (\n                    <>\n                        <div className=\"h-6 w-px bg-slate-200\" />\n                        <span className=\"text-sm text-slate-600\">\n                            {selectedCount}/{selectableCount}개 선택\n                        </span>\n                        <button\n                            onClick={selectedCount === selectableCount ? onDeselectAll : onSelectAll}\n                            className=\"text-sm text-sky-600 hover:text-sky-700\"\n                        >\n                            {selectedCount === selectableCount ? '전체 해제' : '전체 선택'}\n                        </button>\n                        <button\n                            onClick={onBatchArchive}\n                            disabled={selectedCount === 0 || isBusy}\n                            className=\"flex items-center gap-1 px-2 py-1 text-sm text-slate-600 hover:text-red-600 hover:bg-red-50 rounded transition-all disabled:opacity-50\"\n                        >\n                            <Trash2 className=\"w-4 h-4\" strokeWidth={1.5} />\n                            보관\n                        </button>\n                        <button\n                            onClick={onBatchExport}\n                            disabled={selectedCount === 0}\n                            className=\"flex items-center gap-1 px-2 py-1 text-sm text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded transition-all disabled:opacity-50\"\n                        >\n                            <Download className=\"w-4 h-4\" strokeWidth={1.5} />\n                            내보내기\n                        </button>\n                    </>\n                )}\n\n                {/* View mode toggle */}\n                <div className=\"flex items-center bg-slate-100 rounded-lg p-1\">\n                    <button\n                        onClick={() => onViewModeChange('grid')}\n                        className={`p-2 rounded-md transition-all ${viewMode === 'grid' ? 'bg-white shadow-sm text-sky-600' : 'text-slate-500 hover:text-slate-700'}`}\n                        title=\"그리드 뷰\"\n                    >\n                        <LayoutGrid className=\"w-4 h-4\" strokeWidth={1.5} />\n                    </button>\n                    <button\n                        onClick={() => onViewModeChange('table')}\n                        className={`p-2 rounded-md transition-all ${viewMode === 'table' ? 'bg-white shadow-sm text-sky-600' : 'text-slate-500 hover:text-slate-700'}`}\n                        title=\"리스트 뷰\"\n                    >\n                        <ListIcon className=\"w-4 h-4\" strokeWidth={1.5} />\n                    </button>\n                </div>\n\n                {/* Sort options */}\n                <div className=\"flex items-center gap-1\">\n                    <select\n                        value={sortField}\n                        onChange={(e) => onSortFieldChange(e.target.value as SortField)}\n                        className=\"border border-slate-300 rounded-lg px-2 py-1.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-sky-500\"\n                    >\n                        <option value=\"name\">이름순</option>\n                        <option value=\"lastUpdated\">수정일순</option>\n                        <option value=\"questions\">항목수순</option>\n                        <option value=\"author\">작성자순</option>\n                    </select>\n                    <button\n                        onClick={onToggleSortOrder}\n                        className=\"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-all\"\n                        title={sortOrder === 'asc' ? '오름차순' : '내림차순'}\n                    >\n                        {sortOrder === 'asc' ? (\n                            <ArrowUp className=\"w-4 h-4\" strokeWidth={1.5} />\n                        ) : (\n                            <ArrowDown className=\"w-4 h-4\" strokeWidth={1.5} />\n                        )}\n                    </button>\n                </div>\n\n                <div className=\"flex-1\" />\n\n                {/* Import/Export buttons */}\n                <button\n                    onClick={onImportClick}\n                    disabled={isBusy}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 text-sm text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-lg transition-all disabled:opacity-50\"\n                >\n                    <Upload className=\"w-4 h-4\" strokeWidth={1.5} />\n                    <span className=\"hidden sm:inline\">가져오기</span>\n                </button>\n                <button\n                    onClick={onExport}\n                    disabled={isBusy || !canExport}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 text-sm text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-lg transition-all disabled:opacity-50\"\n                >\n                    <Download className=\"w-4 h-4\" strokeWidth={1.5} />\n                    <span className=\"hidden sm:inline\">내보내기</span>\n                </button>\n\n                {/* Error message */}\n                {importError && (\n                    <div className=\"text-sm text-red-600 bg-red-50 px-3 py-1.5 rounded-lg\">{importError}</div>\n                )}\n            </div>\n        );\n    }\n);\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\HeadquarterActionModal.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (142). Maximum allowed is 100.","line":14,"column":78,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":165,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useMemo } from 'react';\r\nimport { InputField } from '../common';\r\nimport { ModalActions } from '../common/Button';\r\nimport { CloseButton } from '../common/index';\r\nimport { Headquarter } from '../../constants';\r\n\r\ninterface HeadquarterActionModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    headquarter: Headquarter | null;\r\n    onSave: (payload: { id: string; leader: Headquarter['leader']; name?: string; description?: string }) => void;\r\n}\r\n\r\nexport const HeadquarterActionModal: React.FC<HeadquarterActionModalProps> = ({ isOpen, onClose, headquarter, onSave }) => {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        description: '',\r\n        leaderName: '',\r\n        leaderRole: '',\r\n        leaderEmail: '',\r\n        leaderAvatar: '',\r\n    });\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (isOpen && headquarter) {\r\n            setFormData({\r\n                name: headquarter.name,\r\n                description: headquarter.description ?? '',\r\n                leaderName: headquarter.leader.name,\r\n                leaderRole: headquarter.leader.role,\r\n                leaderEmail: headquarter.leader.email,\r\n                leaderAvatar: headquarter.leader.avatar,\r\n            });\r\n        }\r\n    }, [isOpen, headquarter]);\r\n\r\n    const isValid = useMemo(() => formData.leaderName.trim().length > 0 && formData.leaderEmail.trim().length > 0, [formData.leaderName, formData.leaderEmail]);\r\n\r\n    if (!isOpen || !headquarter) {\r\n        return null;\r\n    }\r\n\r\n    const handleChange: React.ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement> = event => {\r\n        const { name, value } = event.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n        setError(null);\r\n    };\r\n\r\n    const handleSave = () => {\r\n        if (!isValid) {\r\n            setError('본부장 이름과 이메일을 입력해 주세요.');\r\n            return;\r\n        }\r\n\r\n        onSave({\r\n            id: headquarter.id,\r\n            name: formData.name.trim() || headquarter.name,\r\n            description: formData.description.trim(),\r\n            leader: {\r\n                name: formData.leaderName.trim(),\r\n                role: formData.leaderRole.trim() || headquarter.leader.role,\r\n                email: formData.leaderEmail.trim(),\r\n                avatar: formData.leaderAvatar.trim() || headquarter.leader.avatar,\r\n            },\r\n        });\r\n    };\r\n\r\n    const handleSubmit: React.FormEventHandler<HTMLFormElement> = event => {\r\n        event.preventDefault();\r\n        handleSave();\r\n    };\r\n\r\n    return (\r\n        <div className='fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4' onClick={event => event.target === event.currentTarget && onClose()}>\r\n            <div className='bg-white rounded-2xl shadow-2xl w-full max-w-xl'>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className='flex items-center justify-between border-b border-slate-200 p-6'>\r\n                        <div>\r\n                            <p className='text-sm font-medium text-slate-500'>본부장 지정</p>\r\n                            <h2 className='text-xl font-bold text-slate-900'>{headquarter.name}</h2>\r\n                        </div>\r\n                        <CloseButton onClick={onClose} />\r\n                    </div>\r\n\r\n                    <div className='p-8 space-y-6'>\r\n                        {error && (\r\n                            <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                        <InputField\r\n                            label='본부명'\r\n                            id='hqName'\r\n                            name='name'\r\n                            type='text'\r\n                            value={formData.name}\r\n                            onChange={handleChange}\r\n                            placeholder='본부명을 입력하세요'\r\n                        />\r\n                        <InputField\r\n                            label='본부 설명'\r\n                            id='hqDescription'\r\n                            name='description'\r\n                            as='textarea'\r\n                            type='text'\r\n                            value={formData.description}\r\n                            onChange={handleChange}\r\n                            placeholder='본부에 대한 설명을 입력하세요'\r\n                        />\r\n                        <div className='grid gap-4 md:grid-cols-2'>\r\n                            <InputField\r\n                                label='본부장 이름'\r\n                                id='leaderName'\r\n                                name='leaderName'\r\n                                type='text'\r\n                                value={formData.leaderName}\r\n                                onChange={handleChange}\r\n                                placeholder='예: 홍길동'\r\n                            />\r\n                            <InputField\r\n                                label='본부장 직책'\r\n                                id='leaderRole'\r\n                                name='leaderRole'\r\n                                type='text'\r\n                                value={formData.leaderRole}\r\n                                onChange={handleChange}\r\n                                placeholder='예: 본부장'\r\n                            />\r\n                            <InputField\r\n                                label='이메일'\r\n                                id='leaderEmail'\r\n                                name='leaderEmail'\r\n                                type='email'\r\n                                value={formData.leaderEmail}\r\n                                onChange={handleChange}\r\n                                placeholder='예: leader@example.com'\r\n                            />\r\n                            <InputField\r\n                                label='프로필 이미지 URL'\r\n                                id='leaderAvatar'\r\n                                name='leaderAvatar'\r\n                                type='url'\r\n                                value={formData.leaderAvatar}\r\n                                onChange={handleChange}\r\n                                placeholder='https://...'\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='border-t border-slate-200 bg-slate-50 p-6'>\r\n                        <ModalActions\r\n                            onCancel={onClose}\r\n                            onConfirm={handleSave}\r\n                            cancelText='취소'\r\n                            confirmText='저장'\r\n                            confirmVariant='primary'\r\n                            className='justify-end'\r\n                        />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HeadquarterActionModal;\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\HeadquarterSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\InactiveMemberList.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (123). Maximum allowed is 100.","line":54,"column":75,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":192,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useMemo, useCallback } from 'react';\nimport { Member } from '../../constants';\nimport { ConfirmationModal } from '../ConfirmationModal';\nimport { ChevronDown, ChevronUp, UserPlus, Trash2 } from 'lucide-react';\n\nconst calculateServiceDuration = (hireDateStr: string, baseDateStr: string): string => {\n    if (!hireDateStr || !baseDateStr) return '';\n    const hireDate = new Date(hireDateStr);\n    const baseDate = new Date(baseDateStr);\n\n    if (isNaN(hireDate.getTime()) || isNaN(baseDate.getTime()) || hireDate > baseDate) {\n        return '';\n    }\n    \n    const effectiveBaseDate = new Date(baseDate);\n    effectiveBaseDate.setDate(effectiveBaseDate.getDate() + 1);\n\n    let years = effectiveBaseDate.getFullYear() - hireDate.getFullYear();\n    let months = effectiveBaseDate.getMonth() - hireDate.getMonth();\n    let days = effectiveBaseDate.getDate() - hireDate.getDate();\n\n    if (days < 0) {\n        months--;\n        const lastDayOfPrevMonth = new Date(effectiveBaseDate.getFullYear(), effectiveBaseDate.getMonth(), 0).getDate();\n        days += lastDayOfPrevMonth;\n    }\n\n    if (months < 0) {\n        years--;\n        months += 12;\n    }\n\n    const parts = [];\n    if (years > 0) parts.push(`${years}년`);\n    if (months > 0) parts.push(`${months}개월`);\n    if (days > 0) parts.push(`${days}일`);\n    \n    if (parts.length === 0) {\n        return '(1일)';\n    }\n\n    return `(${parts.join(' ')})`;\n};\n\ninterface InactiveMemberListProps {\n    title: string;\n    type: 'on_leave' | 'resigned';\n    members: Member[];\n    onReinstate: (member: Member) => void;\n    onDelete: (member: Member) => void;\n    baseDate: string;\n}\n\nexport const InactiveMemberList: React.FC<InactiveMemberListProps> = memo(({ title, type, members, onReinstate, onDelete, baseDate }) => {\n    // 확인 모달 상태\n    const [confirmation, setConfirmation] = React.useState({\n        isOpen: false,\n        title: '',\n        message: '',\n        onConfirm: () => {}\n    });\n    \n    // 리스트 접기/펼치기 상태\n    const [isCollapsed, setIsCollapsed] = React.useState(false);\n    \n    // 확인 모달 열기\n    const openConfirmation = useCallback((title: string, message: string, onConfirm: () => void) => {\n        setConfirmation({\n            isOpen: true,\n            title,\n            message,\n            onConfirm\n        });\n    }, []);\n    \n    // 확인 모달 닫기\n    const closeConfirmation = useCallback(() => {\n        setConfirmation(prev => ({\n            ...prev,\n            isOpen: false\n        }));\n    }, []);\n\n    const handleReinstate = useCallback((member: Member) => {\n        onReinstate(member);\n    }, [onReinstate]);\n\n    const handleDelete = useCallback((member: Member) => {\n        if (type === 'resigned') {\n            openConfirmation(\n                '기록 영구 삭제',\n                `${member.name}님의 퇴사 기록을 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`,\n                () => {\n                    onDelete(member);\n                    closeConfirmation();\n                }\n            );\n        } else {\n            onDelete(member);\n        }\n    }, [type, onDelete, openConfirmation, closeConfirmation]);\n    \n    // 리스트 접기/펼치기 토글 함수\n    const toggleCollapse = useCallback(() => {\n        setIsCollapsed(prev => !prev);\n    }, []);\n    \n    // 성능 최적화: 멤버별 상세 정보 계산 메모이제이션\n    const memberDetails = useMemo(() => \n        members.map(member => ({\n            ...member,\n            duration: calculateServiceDuration(member.hireDate, baseDate)\n        }))\n    , [members, baseDate]);\n    \n    if (members.length === 0) return (\n        <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n             <h2 className=\"text-xl font-bold text-slate-900 mb-4\">{title} (0명)</h2>\n             <p className=\"text-center text-slate-500 py-8\">해당하는 인원이 없습니다.</p>\n        </div>\n    );\n    \n    return (\n        <>\n            <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                <div className=\"flex items-start sm:items-center justify-between px-1 sm:px-2 py-1 gap-2\">\n                    <h2 className=\"text-xl font-bold text-slate-900 mb-4\">{title} ({members.length}명)</h2>\n                    <div className=\"flex-shrink-0 flex items-center gap-1\">\n                        <button \n                            onClick={toggleCollapse}\n                            className=\"p-2 text-slate-500 hover:bg-slate-200 rounded-full transition-colors touch-manipulation\"\n                        >\n                            {isCollapsed ? <ChevronDown className=\"w-5 h-5\" strokeWidth={1.5} /> : <ChevronUp className=\"w-5 h-5\" strokeWidth={1.5} />}\n                        </button>\n                    </div>\n                </div>\n                {!isCollapsed && (\n                    <div className=\"space-y-2 max-h-96 overflow-y-auto pr-2\">\n                        {memberDetails.map(memberWithDuration => {\n                            const { duration, ...member } = memberWithDuration;\n                            return (\n                                <div key={member.id} className=\"flex items-center p-3 bg-slate-50 rounded-md justify-between group\">\n                                     <div className=\"flex items-center min-w-0\">\n                                        <img className=\"h-10 w-10 rounded-full object-cover flex-shrink-0\" src={member.avatar} alt={`${member.name} avatar`} />\n                                        <div className=\"ml-4 min-w-0\">\n                                            <p className=\"font-semibold text-slate-800 text-sm truncate\">{member.name} <span className=\"font-normal text-slate-600\">({member.role})</span></p>\n                                            <p className=\"text-xs text-slate-500 truncate\">{`${member.teamName} / ${member.partName}`}</p>\n                                            <p className=\"text-xs text-slate-500 flex items-center flex-wrap mt-0.5\">\n                                                {member.hireDate && <span>{member.hireDate}</span>}\n                                                {duration && <span className=\"ml-1.5 text-slate-400 font-normal\">{duration}</span>}\n                                            </p>\n                                            {member.email && (\n                                                <p className=\"text-xs text-slate-500 truncate mt-0.5\" title={member.email}>\n                                                    {member.email}\n                                                </p>\n                                            )}\n                                        </div>\n                                     </div>\n                                     <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-4\">\n                                        {type === 'on_leave' && (\n                                            <button onClick={() => handleReinstate(member)} className=\"flex items-center text-sm font-medium bg-white border border-slate-300 text-slate-700 hover:bg-slate-100 px-3 py-1 rounded-md shadow-sm\">\n                                                <UserPlus className=\"w-4 h-4 mr-2\" strokeWidth={1.5} />\n                                                복직 처리\n                                            </button>\n                                        )}\n                                         {type === 'resigned' && (\n                                            <button onClick={() => handleDelete(member)} className=\"flex items-center text-sm font-medium bg-white border border-slate-300 text-red-600 hover:bg-red-50 px-3 py-1 rounded-md shadow-sm\">\n                                                <Trash2 className=\"w-4 h-4 mr-2\" strokeWidth={1.5} />\n                                                기록 삭제\n                                            </button>\n                                        )}\n                                     </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                )}\n            </div>\n            \n            {/* 확인 모달 */}\n            <ConfirmationModal\n                isOpen={confirmation.isOpen}\n                onClose={closeConfirmation}\n                onConfirm={confirmation.onConfirm}\n                title={confirmation.title}\n                message={confirmation.message}\n                confirmButtonText=\"영구 삭제\"\n                confirmButtonColor=\"destructive\"\n            />\n        </>\n    );\n});\n\nInactiveMemberList.displayName = 'InactiveMemberList';\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\Member.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\MemberActionModal.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (117). Maximum allowed is 100.","line":25,"column":68,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":153,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { Member, Team } from '../../constants';\n// import 'react-datepicker/dist/react-datepicker.css'; // Assuming imported globally or in component if needed. It was in original file.\n// Ideally should be imported in CSS or App root, but for now I will add it here if not already present.\nimport { format } from 'date-fns';\nimport { useMemberForm } from '../../hooks/organization/useMemberForm';\nimport { ModalActions } from '../common/Button';\nimport { CloseButton } from '../common/index';\nimport { ConfirmationModal } from '../ConfirmationModal';\nimport { MemberFormFields } from './MemberFormFields';\n\ninterface MemberActionModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onSave: (\n        data: Member & { teamId: string; partId: string },\n        isEditing: boolean,\n        options?: { keepOpen?: boolean; onSuccess?: () => void; setTeamLead?: boolean; clearTeamLead?: boolean }\n    ) => void;\n    teams: Team[];\n    memberData: Member | null;\n    context: { teamId: string; partId: string } | null;\n}\n\nexport const MemberActionModal: React.FC<MemberActionModalProps> = ({\n    isOpen,\n    onClose,\n    onSave,\n    teams,\n    memberData,\n    context,\n}) => {\n    const {\n        formData,\n        setFormData,\n        displayEmail,\n        showConfirmation,\n        setShowConfirmation,\n        keepAdding,\n        setKeepAdding,\n        assignTeamLead,\n        setAssignTeamLead,\n        handleChange,\n        handleEmailChange,\n        handleTeamChange,\n        handleCloseRequest,\n        handleConfirmClose,\n        resetForm,\n    } = useMemberForm(isOpen, teams, memberData, context, onClose);\n\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        handleSave();\n    };\n\n    const handleSave = () => {\n        const submissionData = { ...formData };\n        if (!memberData) {\n            // New member ID generation if not present (handled by memberStateUtils too but nice to have here for avatar)\n            if (!submissionData.id) submissionData.id = `mem_${Date.now()}`;\n            if (!submissionData.avatar)\n                submissionData.avatar = `https://ui-avatars.com/api/?name=${encodeURIComponent(submissionData.name)}&background=random&color=fff`;\n        }\n\n        const shouldKeepOpen = !memberData && keepAdding;\n        const shouldAssignLead = assignTeamLead && submissionData.status !== 'resigned';\n        const teamLead = teams.find((team) => team.id === formData.teamId)?.lead || '';\n        const memberWasLead = memberData ? teamLead === memberData.name : false;\n        const shouldClearLead = memberWasLead && !assignTeamLead;\n\n        onSave(submissionData as Member & { teamId: string; partId: string }, !!memberData, {\n            keepOpen: shouldKeepOpen,\n            setTeamLead: shouldAssignLead,\n            clearTeamLead: shouldClearLead,\n            onSuccess: () => {\n                if (shouldKeepOpen) {\n                    resetForm();\n                }\n            },\n        });\n    };\n\n    const handleDateChange = (date: Date | null) => {\n        setFormData((prev) => ({\n            ...prev,\n            hireDate: date ? format(date, 'yyyy-MM-dd') : '',\n        }));\n    };\n\n    // Background click\n    const handleBackdropClick = (e: React.MouseEvent) => {\n        if (e.target === e.currentTarget) {\n            handleCloseRequest();\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <>\n            <div\n                className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\"\n                onClick={handleBackdropClick}\n            >\n                <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-lg\">\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"p-6 border-b border-slate-200 flex items-center justify-between\">\n                            <h2 className=\"text-xl font-bold text-slate-900\">\n                                {memberData ? '멤버 정보 수정' : '새 멤버 추가'}\n                            </h2>\n                            <CloseButton onClick={handleCloseRequest} />\n                        </div>\n\n                        <MemberFormFields\n                            formData={formData}\n                            displayEmail={displayEmail}\n                            teams={teams}\n                            onChange={handleChange}\n                            onEmailChange={handleEmailChange}\n                            onTeamChange={handleTeamChange}\n                            onDateChange={handleDateChange}\n                            assignTeamLead={assignTeamLead}\n                            onAssignTeamLeadChange={setAssignTeamLead}\n                            keepAdding={keepAdding}\n                            onKeepAddingChange={setKeepAdding}\n                            isEditing={!!memberData}\n                        />\n\n                        <div className=\"p-6 bg-slate-50 border-t border-slate-200\">\n                            <ModalActions\n                                onCancel={handleCloseRequest}\n                                onConfirm={handleSave}\n                                cancelText=\"취소\"\n                                confirmText=\"저장\"\n                                confirmVariant=\"primary\"\n                                className=\"justify-end\"\n                            />\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <ConfirmationModal\n                isOpen={showConfirmation}\n                onClose={() => setShowConfirmation(false)}\n                onConfirm={handleConfirmClose}\n                title=\"변경사항 취소\"\n                message=\"정말 닫으시겠습니까? 입력한 내용은 저장되지 않습니다.\"\n                confirmButtonText=\"네, 닫습니다\"\n                confirmButtonColor=\"destructive\"\n            />\n        </>\n    );\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\MemberFormFields.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (150). Maximum allowed is 100.","line":35,"column":66,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":185,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { parse } from 'date-fns';\nimport { ko } from 'date-fns/locale';\nimport React from 'react';\nimport DatePicker from 'react-datepicker';\nimport { Member, Team } from '../../constants';\nimport { Checkbox, InputField } from '../common';\n\ninterface MemberFormData {\n    id: string;\n    name: string;\n    role: string;\n    avatar: string;\n    hireDate: string;\n    email: string;\n    status: Member['status'];\n    teamId: string;\n    partId: string;\n}\n\ninterface MemberFormFieldsProps {\n    formData: MemberFormData;\n    displayEmail: string;\n    teams: Team[];\n    onChange: (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => void;\n    onEmailChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n    onTeamChange: (e: React.ChangeEvent<HTMLSelectElement>) => void;\n    onDateChange: (date: Date | null) => void;\n    assignTeamLead: boolean;\n    onAssignTeamLeadChange: (checked: boolean) => void;\n    keepAdding: boolean;\n    onKeepAddingChange: (checked: boolean) => void;\n    isEditing: boolean;\n}\n\nexport const MemberFormFields: React.FC<MemberFormFieldsProps> = ({\n    formData,\n    displayEmail,\n    teams,\n    onChange,\n    onEmailChange,\n    onTeamChange,\n    onDateChange,\n    assignTeamLead,\n    onAssignTeamLeadChange,\n    keepAdding,\n    onKeepAddingChange,\n    isEditing,\n}) => {\n    const availableParts = teams.find((t) => t.id === formData.teamId)?.parts || [];\n\n    return (\n        <div className=\"p-8 space-y-6\">\n            <InputField\n                label=\"이름\"\n                id=\"name\"\n                name=\"name\"\n                type=\"text\"\n                value={formData.name || ''}\n                onChange={onChange}\n                placeholder=\"이름 입력\"\n            />\n            <InputField\n                label=\"직책\"\n                id=\"role\"\n                name=\"role\"\n                type=\"text\"\n                value={formData.role || ''}\n                onChange={onChange}\n                placeholder=\"직책 입력\"\n            />\n            <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    이메일\n                </label>\n                <div className=\"relative rounded-md shadow-sm\">\n                    <input\n                        type=\"text\"\n                        name=\"email\"\n                        id=\"email\"\n                        className=\"block w-full px-3 py-2 border border-slate-300 rounded-md placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm pr-28\"\n                        value={displayEmail}\n                        onChange={onEmailChange}\n                        placeholder=\"이메일 아이디\"\n                    />\n                    <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3\">\n                        <span className=\"text-slate-500 sm:text-sm\">\n                            {displayEmail.includes('@') ? '' : '@forcs.com'}\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <label htmlFor=\"hireDate\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    입사일\n                </label>\n                <DatePicker\n                    id=\"hireDate\"\n                    selected={formData.hireDate ? parse(formData.hireDate, 'yyyy-MM-dd', new Date()) : null}\n                    onChange={onDateChange}\n                    dateFormat=\"yyyy-MM-dd\"\n                    locale={ko}\n                    showYearDropdown\n                    showMonthDropdown\n                    dropdownMode=\"select\"\n                    placeholderText=\"YYYY-MM-DD\"\n                    className=\"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm\"\n                    wrapperClassName=\"w-full\"\n                />\n            </div>\n            <div>\n                <label htmlFor=\"teamId\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    소속 팀\n                </label>\n                <select\n                    id=\"teamId\"\n                    name=\"teamId\"\n                    value={formData.teamId || ''}\n                    onChange={onTeamChange}\n                    className=\"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm\"\n                >\n                    {teams.map((team) => (\n                        <option key={team.id} value={team.id}>\n                            {team.name}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            <div>\n                <label htmlFor=\"partId\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    소속 파트\n                </label>\n                <select\n                    id=\"partId\"\n                    name=\"partId\"\n                    value={formData.partId || ''}\n                    onChange={onChange}\n                    className=\"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm\"\n                    disabled={!formData.teamId}\n                >\n                    {availableParts.map((part) => (\n                        <option key={part.id} value={part.id}>\n                            {part.title}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            <div>\n                <label htmlFor=\"status\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    상태\n                </label>\n                <select\n                    id=\"status\"\n                    name=\"status\"\n                    value={formData.status || 'active'}\n                    onChange={onChange}\n                    className=\"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm\"\n                >\n                    <option value=\"active\">재직</option>\n                    <option value=\"intern\">인턴</option>\n                    <option value=\"on_leave\">휴직</option>\n                    <option value=\"resigned\">퇴사</option>\n                </select>\n            </div>\n            <label className=\"flex items-center gap-2 text-sm text-slate-600\">\n                <Checkbox\n                    checked={assignTeamLead}\n                    indeterminate={false}\n                    onChange={(e) => onAssignTeamLeadChange(e.target.checked)}\n                    disabled={formData.status === 'resigned'}\n                />\n                이 멤버를 팀장으로 지정\n            </label>\n            {!isEditing && (\n                <label className=\"flex items-center gap-2 text-sm text-slate-600\">\n                    <Checkbox\n                        checked={keepAdding}\n                        indeterminate={false}\n                        onChange={(e) => onKeepAddingChange(e.target.checked)}\n                    />\n                    저장 후 계속 추가\n                </label>\n            )}\n        </div>\n    );\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\MemberMoveModal.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (118). Maximum allowed is 100.","line":13,"column":64,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":145,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback } from 'react';\r\nimport { Team, Member } from '../../constants';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface MemberMoveModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onMove: (memberId: string, targetTeamId: string, targetPartId: string) => void;\r\n    member: Member | null;\r\n    teams: Team[];\r\n}\r\n\r\nexport const MemberMoveModal: React.FC<MemberMoveModalProps> = ({ \r\n    isOpen, \r\n    onClose, \r\n    onMove,\r\n    member,\r\n    teams\r\n}) => {\r\n    console.log('MemberMoveModal rendered with:', { isOpen, member, teams });\r\n    \r\n    const [selectedTeamId, setSelectedTeamId] = useState<string>('');\r\n    const [selectedPartId, setSelectedPartId] = useState<string>('');\r\n\r\n    // 팀 선택 시 파트 목록 업데이트\r\n    const handleTeamChange = useCallback((teamId: string) => {\r\n        setSelectedTeamId(teamId);\r\n        setSelectedPartId('');\r\n    }, []);\r\n\r\n    // 이동 처리\r\n    const handleMove = useCallback(() => {\r\n        if (member && selectedTeamId && selectedPartId) {\r\n            onMove(member.id, selectedTeamId, selectedPartId);\r\n            onClose();\r\n        }\r\n    }, [member, selectedTeamId, selectedPartId, onMove, onClose]);\r\n\r\n    // 모달 외부 클릭 시 닫기\r\n    const handleBackdropClick = (e: React.MouseEvent) => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    if (!isOpen || !member) return null;\r\n\r\n    // 선택된 팀의 파트 목록\r\n    const selectedTeam = teams.find(team => team.id === selectedTeamId);\r\n    const parts = selectedTeam ? selectedTeam.parts : [];\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n            onClick={handleBackdropClick}\r\n        >\r\n            <div className=\"bg-white rounded-xl shadow-xl w-full max-w-md transform transition-all\">\r\n                <div className=\"p-6\">\r\n                    <div className=\"flex items-center justify-between mb-6\">\r\n                        <h2 className=\"text-xl font-bold text-slate-900\">멤버 이동</h2>\r\n                        <button \r\n                            onClick={onClose}\r\n                            className=\"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" strokeWidth={1.5} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4 mb-6 p-4 bg-slate-50 rounded-lg\">\r\n                        <img \r\n                            className=\"h-12 w-12 rounded-full object-cover\" \r\n                            src={member.avatar} \r\n                            alt={`${member.name} avatar`} \r\n                        />\r\n                        <div>\r\n                            <p className=\"font-semibold text-slate-800\">{member.name}</p>\r\n                            <p className=\"text-sm text-slate-500\">{member.role}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                                이동할 팀\r\n                            </label>\r\n                            <select\r\n                                value={selectedTeamId}\r\n                                onChange={(e) => handleTeamChange(e.target.value)}\r\n                                className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 transition-all\"\r\n                            >\r\n                                <option value=\"\">팀을 선택하세요</option>\r\n                                {teams.map(team => (\r\n                                    <option key={team.id} value={team.id}>\r\n                                        {team.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {selectedTeamId && (\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                                    이동할 파트\r\n                                </label>\r\n                                <select\r\n                                    value={selectedPartId}\r\n                                    onChange={(e) => setSelectedPartId(e.target.value)}\r\n                                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 transition-all\"\r\n                                    disabled={!selectedTeamId}\r\n                                >\r\n                                    <option value=\"\">파트를 선택하세요</option>\r\n                                    {parts.map(part => (\r\n                                        <option key={part.id} value={part.id}>\r\n                                            {part.title}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-3 mt-8\">\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"flex-1 px-4 py-3 text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg font-medium transition-colors\"\r\n                        >\r\n                            취소\r\n                        </button>\r\n                        <button\r\n                            onClick={handleMove}\r\n                            disabled={!selectedTeamId || !selectedPartId}\r\n                            className={`flex-1 px-4 py-3 text-white rounded-lg font-medium transition-colors ${\r\n                                selectedTeamId && selectedPartId\r\n                                    ? 'bg-sky-500 hover:bg-sky-600'\r\n                                    : 'bg-slate-300 cursor-not-allowed'\r\n                            }`}\r\n                        >\r\n                            이동\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrgEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrgStatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrgStatsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrgToolbar.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (152). Maximum allowed is 100.","line":34,"column":32,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":192,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { memo } from 'react';\r\nimport { Search, X, Calendar, Plus, ChevronDown, LayoutGrid, List, ArrowUpAZ, ArrowDown10, Users } from 'lucide-react';\r\nimport { Button } from '../common';\r\n\r\ninterface Tab {\r\n    id: string;\r\n    label: string;\r\n}\r\n\r\ninterface OrgToolbarProps {\r\n    // Search\r\n    searchTerm: string;\r\n    onSearchChange: (value: string) => void;\r\n    // Date\r\n    baseDate: string;\r\n    onBaseDateChange: (value: string) => void;\r\n    // Tabs\r\n    tabs: Tab[];\r\n    activeTab: string;\r\n    onTabChange: (tabId: string) => void;\r\n    // Sort\r\n    sortOption: 'name_asc' | 'members_desc';\r\n    onSortChange: (option: 'name_asc' | 'members_desc') => void;\r\n    // View\r\n    viewMode: 'grid' | 'list';\r\n    onViewModeChange: (mode: 'grid' | 'list') => void;\r\n    // Actions\r\n    onAddTeam: () => void;\r\n    // Stats\r\n    totalCount: number;\r\n    searchResultCount: number;\r\n}\r\n\r\nexport const OrgToolbar = memo(({\r\n    searchTerm,\r\n    onSearchChange,\r\n    baseDate,\r\n    onBaseDateChange,\r\n    tabs,\r\n    activeTab,\r\n    onTabChange,\r\n    sortOption,\r\n    onSortChange,\r\n    viewMode,\r\n    onViewModeChange,\r\n    onAddTeam,\r\n    totalCount,\r\n    searchResultCount,\r\n}: OrgToolbarProps) => (\r\n    <div className=\"card-premium p-4 sm:p-6 mb-6 space-y-6 transition-all\">\r\n\r\n        {/* 1. Search & Filter Row */}\r\n        <div className=\"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center\">\r\n            <div className=\"flex-1 w-full md:max-w-xl flex gap-2\">\r\n                <div className=\"relative flex-1\">\r\n                    <Search className=\"w-5 h-5 text-muted-foreground absolute top-1/2 left-4 -translate-y-1/2 pointer-events-none\" strokeWidth={1.5} />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"구성원 이름, 부서로 검색...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => onSearchChange(e.target.value)}\r\n                        className=\"w-full pl-12 pr-10 py-3 text-base bg-background border-2 border-input text-foreground rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all placeholder:text-muted-foreground\"\r\n                    />\r\n                    {searchTerm && (\r\n                        <button\r\n                            onClick={() => onSearchChange('')}\r\n                            className=\"absolute top-1/2 right-3 -translate-y-1/2 p-1 text-muted-foreground hover:text-foreground transition-colors\"\r\n                            aria-label=\"검색어 지우기\"\r\n                        >\r\n                            <X className=\"w-5 h-5\" strokeWidth={1.5} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <Button\r\n                    variant=\"primary\"\r\n                    className=\"shadow-sm shrink-0\"\r\n                    aria-label=\"검색\"\r\n                >\r\n                    검색\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4 shrink-0 self-stretch md:self-auto justify-end\">\r\n                <div className=\"flex items-center gap-3 text-sm font-medium text-foreground bg-muted/50 border border-border rounded-xl px-4 py-3\">\r\n                    <Calendar className=\"w-5 h-5 text-muted-foreground\" strokeWidth={1.5} />\r\n                    <label htmlFor=\"baseDate\" className=\"font-semibold whitespace-nowrap\">기준일:</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        id=\"baseDate\"\r\n                        value={baseDate}\r\n                        onChange={(e) => onBaseDateChange(e.target.value)}\r\n                        className=\"bg-transparent border-none text-foreground p-0 ml-1 focus:outline-none focus:ring-0 cursor-pointer text-right min-w-[120px]\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Add Team Button */}\r\n                <Button\r\n                    onClick={onAddTeam}\r\n                    variant=\"primary\"\r\n                    className=\"gap-2 px-5 py-3 rounded-xl shadow-sm hover:shadow-md active:scale-95 shrink-0\"\r\n                >\r\n                    <Plus className=\"w-5 h-5\" strokeWidth={1.5} />\r\n                    <span className=\"hidden sm:inline\">팀 추가</span>\r\n                    <span className=\"sm:hidden\">추가</span>\r\n                </Button>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Search Result Count */}\r\n        {searchTerm && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground pb-2\">\r\n                <Users className=\"w-4 h-4\" strokeWidth={1.5} />\r\n                <span>\r\n                    <strong className=\"text-foreground\">{totalCount}</strong>명 중\r\n                    <strong className=\"text-primary ml-1\">{searchResultCount}</strong>명 검색됨\r\n                </span>\r\n            </div>\r\n        )}\r\n\r\n        {/* 2. Actions & Navigation Toolbar */}\r\n        <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-border pt-4 mt-2\">\r\n            {/* Left: Tabs */}\r\n            <nav className=\"flex space-x-1 bg-muted p-1 rounded-lg\" aria-label=\"Tabs\">\r\n                {tabs.map(tab => (\r\n                    <button\r\n                        key={tab.id}\r\n                        onClick={() => onTabChange(tab.id)}\r\n                        className={`${activeTab === tab.id\r\n                            ? 'bg-primary/10 text-primary font-bold shadow-sm ring-1 ring-primary/20'\r\n                            : 'text-muted-foreground hover:text-foreground hover:bg-muted'\r\n                            } whitespace-nowrap px-4 py-2 rounded-md font-medium text-sm transition-all`}\r\n                    >\r\n                        {tab.label}\r\n                    </button>\r\n                ))}\r\n            </nav>\r\n\r\n            {/* Right: Actions Group */}\r\n            <div className=\"flex items-center gap-3 w-full sm:w-auto justify-end\">\r\n                {/* Sort Dropdown */}\r\n                <div className=\"relative group\">\r\n                    <Button variant=\"outline\" className=\"gap-2 px-3 py-2 text-sm font-medium shadow-sm hover:border-primary/50 hover:text-primary group-hover:ring-1 group-hover:ring-primary/20 bg-background text-foreground\">\r\n                        {sortOption === 'name_asc' ? <ArrowUpAZ className=\"w-4 h-4 text-muted-foreground group-hover:text-primary\" strokeWidth={1.5} /> : <ArrowDown10 className=\"w-4 h-4 text-muted-foreground group-hover:text-primary\" strokeWidth={1.5} />}\r\n                        <span>{sortOption === 'name_asc' ? '이름순' : '인원순'}</span>\r\n                        <ChevronDown className=\"w-3.5 h-3.5 text-muted-foreground group-hover:text-primary\" strokeWidth={1.5} />\r\n                    </Button>\r\n                    <div className=\"absolute right-0 top-full mt-1 w-32 z-10 hidden group-hover:block\">\r\n                        <div className=\"absolute -top-2 left-0 w-full h-2 bg-transparent\"></div>\r\n                        <div className=\"bg-popover border border-border rounded-lg shadow-lg py-1\">\r\n                            <button\r\n                                onClick={() => onSortChange('name_asc')}\r\n                                className={`w-full text-left px-3 py-2 text-sm ${sortOption === 'name_asc' ? 'text-primary bg-primary/10 font-bold' : 'text-foreground hover:bg-muted'}`}\r\n                            >\r\n                                이름순\r\n                            </button>\r\n                            <button\r\n                                onClick={() => onSortChange('members_desc')}\r\n                                className={`w-full text-left px-3 py-2 text-sm ${sortOption === 'members_desc' ? 'text-primary bg-primary/10 font-bold' : 'text-foreground hover:bg-muted'}`}\r\n                            >\r\n                                인원순\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* View Toggle */}\r\n                <div className=\"flex items-center gap-1 bg-muted rounded-lg p-1 border border-border\">\r\n                    <button\r\n                        onClick={() => onViewModeChange('grid')}\r\n                        className={`flex items-center justify-center w-9 h-9 rounded-md transition-all ${viewMode === 'grid'\r\n                            ? 'bg-background text-primary shadow-sm ring-1 ring-primary/20 font-bold'\r\n                            : 'text-muted-foreground hover:text-foreground hover:bg-background/50'\r\n                            }`}\r\n                        title=\"그리드 뷰\"\r\n                    >\r\n                        <LayoutGrid className=\"w-5 h-5\" strokeWidth={1.5} />\r\n                    </button>\r\n                    <button\r\n                        onClick={() => onViewModeChange('list')}\r\n                        className={`flex items-center justify-center w-9 h-9 rounded-md transition-all ${viewMode === 'list'\r\n                            ? 'bg-background text-primary shadow-sm ring-1 ring-primary/20 font-bold'\r\n                            : 'text-muted-foreground hover:text-foreground hover:bg-background/50'\r\n                            }`}\r\n                        title=\"리스트 뷰\"\r\n                    >\r\n                        <List className=\"w-5 h-5\" strokeWidth={1.5} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n));\r\n\r\nOrgToolbar.displayName = 'OrgToolbar';\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrganizationContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrganizationMainContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrganizationModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrganizationPageHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\OrganizationStatusOverlays.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\PartActionModal.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleCloseRequest'. Either include it or remove the dependency array.","line":31,"column":8,"nodeType":"ArrayExpression","endLine":31,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [handleCloseRequest, isOpen]","fix":{"range":[1065,1073],"text":"[handleCloseRequest, isOpen]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\nimport { InputField, Modal, Button } from '../common';\nimport { ConfirmationModal } from '../ConfirmationModal';\n\ninterface PartActionModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onSave: (data: { name: string }) => void;\n    mode: 'add' | 'edit';\n    initialName?: string;\n}\n\nexport const PartActionModal: React.FC<PartActionModalProps> = ({ isOpen, onClose, onSave, mode, initialName = '' }) => {\n    const [name, setName] = useState(initialName);\n    const [showConfirmation, setShowConfirmation] = useState(false);\n    const [hasChanges, setHasChanges] = useState(false);\n\n    // ESC 키로 모달 닫기\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Escape' && isOpen) {\n                handleCloseRequest();\n            }\n        };\n\n        if (isOpen) {\n            document.addEventListener('keydown', handleKeyDown);\n            return () => document.removeEventListener('keydown', handleKeyDown);\n        }\n        return undefined;\n    }, [isOpen]);\n\n    useEffect(() => {\n        if (isOpen) {\n            setName(initialName);\n            setHasChanges(false);\n        }\n    }, [isOpen, initialName]);\n\n    if (!isOpen) return null;\n\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        handleSave();\n    };\n\n    const handleSave = () => {\n        onSave({ name });\n        setHasChanges(false);\n        onClose();\n    };\n\n    const handleCloseRequest = () => {\n        // 변경사항이 있으면 확인 모달 표시\n        if (hasChanges) {\n            setShowConfirmation(true);\n        } else {\n            onClose();\n        }\n    };\n\n    const handleConfirmClose = () => {\n        setShowConfirmation(false);\n        setHasChanges(false);\n        onClose();\n    };\n\n    const titleText = mode === 'add' ? '새 파트 추가' : '파트명 변경';\n\n    return (\n        <>\n            <Modal\n                open={isOpen}\n                onOpenChange={(open) => !open && handleCloseRequest()}\n                title={titleText}\n                maxWidth=\"sm:max-w-md\"\n                footer={\n                    <>\n                        <Button variant=\"outline\" onClick={handleCloseRequest}>\n                            취소\n                        </Button>\n                        <Button variant=\"primary\" onClick={handleSave}>\n                            저장\n                        </Button>\n                    </>\n                }\n            >\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <InputField\n                        label=\"파트 이름\"\n                        id=\"partName\"\n                        name=\"partName\"\n                        type=\"text\"\n                        value={name}\n                        onChange={(e) => {\n                            setName(e.target.value);\n                            setHasChanges(e.target.value !== initialName || !!e.target.value);\n                        }}\n                        placeholder=\"파트 이름 입력\"\n                        autoFocus\n                    />\n                </form>\n            </Modal>\n            <ConfirmationModal\n                isOpen={showConfirmation}\n                onClose={() => setShowConfirmation(false)}\n                onConfirm={handleConfirmClose}\n                title=\"변경사항 취소\"\n                message=\"정말 닫으시겠습니까? 입력한 내용은 저장되지 않습니다.\"\n                confirmButtonText=\"네, 닫습니다\"\n                confirmButtonColor=\"destructive\"\n            />\n        </>\n    );\n}","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\PartEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\PartHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\PartSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamActionModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamCardCompact.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamCardCompactContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamCardCompactHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamCardHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\TeamForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\organization\\UnassignedTeamsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\date-picker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\constants\\icons.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\constants\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\constants\\mockData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\constants\\presets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\constants\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\contexts\\ErrorContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\contexts\\RoleContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\contexts\\ThemeContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\examples\\ComponentExamples.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\AnnualEvaluationSettingsModal.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (113). Maximum allowed is 100.","line":15,"column":85,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":139,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport React, { useState, useEffect } from 'react';\nimport { InputField } from '../../components/common';\nimport { ModalActions } from '../../components/common/Button';\nimport { CloseButton } from '../../components/common/index';\nimport { AlertTriangle } from 'lucide-react';\n\ninterface AnnualEvaluationSettingsModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onSave: (weights: { firstHalf: number, secondHalf: number, peerReview: number }) => void;\n    weights: { firstHalf: number, secondHalf: number, peerReview: number };\n}\n\nconst AnnualEvaluationSettingsModal: React.FC<AnnualEvaluationSettingsModalProps> = ({\n    isOpen,\n    onClose,\n    onSave,\n    weights,\n}) => {\n    const [localWeights, setLocalWeights] = useState(weights);\n\n    // ESC 키로 모달 닫기\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Escape' && isOpen) {\n                onClose();\n            }\n        };\n\n        if (isOpen) {\n            document.addEventListener('keydown', handleKeyDown);\n            return () => document.removeEventListener('keydown', handleKeyDown);\n        }\n        return undefined;\n    }, [isOpen, onClose]);\n\n    useEffect(() => {\n        if (isOpen) {\n            setLocalWeights(weights);\n        }\n    }, [isOpen, weights]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { name, value } = e.target;\n        setLocalWeights(prev => ({\n            ...prev,\n            [name]: value === '' ? 0 : parseInt(value, 10),\n        }));\n    };\n\n    const totalWeight = localWeights.firstHalf + localWeights.secondHalf + localWeights.peerReview;\n    const isValid = totalWeight === 100;\n\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        if (isValid) {\n            handleSave();\n        }\n    };\n\n    const handleSave = () => {\n        onSave(localWeights);\n        onClose();\n    };\n\n    // 배경 클릭으로 모달 닫기\n    const handleBackdropClick = (e: React.MouseEvent) => {\n        if (e.target === e.currentTarget) {\n            onClose();\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fade-in\" onClick={handleBackdropClick}>\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-lg\">\n                <form onSubmit={handleSubmit}>\n                    <div className=\"p-6 border-b border-slate-200 flex items-center justify-between\">\n                        <h2 className=\"text-xl font-bold text-slate-900\">종합 평가 기준 설정</h2>\n                        <CloseButton onClick={onClose} />\n                    </div>\n                    <div className=\"p-8 space-y-6\">\n                        <p className=\"text-sm text-slate-600\">연간 종합 평가 점수에 반영될 각 평가 항목의 가중치를 설정합니다. 가중치의 총 합은 반드시 100%가 되어야 합니다.</p>\n                        <InputField\n                            label=\"상반기 평가 가중치 (%)\"\n                            id=\"firstHalf\"\n                            name=\"firstHalf\"\n                            type=\"number\"\n                            value={String(localWeights.firstHalf)}\n                            onChange={handleChange}\n                            placeholder=\"예: 40\"\n                        />\n                        <InputField\n                            label=\"하반기 평가 가중치 (%)\"\n                            id=\"secondHalf\"\n                            name=\"secondHalf\"\n                            type=\"number\"\n                            value={String(localWeights.secondHalf)}\n                            onChange={handleChange}\n                            placeholder=\"예: 40\"\n                        />\n                        <InputField\n                            label=\"다면 평가 가중치 (%)\"\n                            id=\"peerReview\"\n                            name=\"peerReview\"\n                            type=\"number\"\n                            value={String(localWeights.peerReview)}\n                            onChange={handleChange}\n                            placeholder=\"예: 20\"\n                        />\n                        <div className={`p-4 rounded-lg flex items-center justify-between text-lg font-bold ${isValid ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}`}>\n                            <span>가중치 총 합:</span>\n                            <span>{totalWeight}%</span>\n                        </div>\n                        {!isValid && (\n                            <div className=\"flex items-center text-sm text-red-600\">\n                                <AlertTriangle className=\"w-5 h-5 mr-2\" strokeWidth={1.5} />\n                                <p>가중치의 총 합은 100%여야 합니다.</p>\n                            </div>\n                        )}\n                    </div>\n                    <div className=\"p-6 bg-slate-50 border-t border-slate-200\">\n                        <ModalActions\n                            onCancel={onClose}\n                            onConfirm={handleSave}\n                            cancelText=\"취소\"\n                            confirmText=\"설정 저장\"\n                            confirmVariant=\"primary\"\n                            confirmDisabled={!isValid}\n                            className=\"justify-end\"\n                        />\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default AnnualEvaluationSettingsModal;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\CampaignMonitoringModal.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (162). Maximum allowed is 100.","line":22,"column":80,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":212,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState } from 'react';\r\nimport { Evaluation, Team, Member } from '../../constants';\r\nimport { ProgressBar } from '../../components/Progress';\r\nimport { CloseButton } from '../../components/common/index';\r\nimport { Bell } from 'lucide-react';\r\nimport { sendEvaluationReminder, getWebhookUrl } from '../../utils/notificationService';\r\n\r\ninterface CampaignMonitoringModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    evaluation: Evaluation;\r\n    teams: Team[];\r\n}\r\n\r\ninterface ParticipantStatus {\r\n    name: string;\r\n    team: string;\r\n    status: 'completed' | 'in_progress' | 'not_started';\r\n    progress: number;\r\n}\r\n\r\nexport const CampaignMonitoringModal: React.FC<CampaignMonitoringModalProps> = ({ isOpen, onClose, evaluation, teams }) => {\r\n    const [remindSending, setRemindSending] = useState(false);\r\n    const [remindResult, setRemindResult] = useState<'idle' | 'success' | 'error' | 'no_webhook'>('idle');\r\n\r\n    // Mock-up logic to generate participant status based on evaluation progress\r\n    // In a real app, this would come from the backend API\r\n    const participants: ParticipantStatus[] = useMemo(() => {\r\n        // Collect all potential members (simplified for demo)\r\n        const allMembers: Member[] = teams.flatMap(t => {\r\n            // Check if 'members' exists directly (Team) or via 'parts' (Team structure)\r\n            if ('members' in t) return (t as any).members;\r\n            if ('parts' in t) return t.parts.flatMap(p => p.members);\r\n            return [];\r\n        }).filter(m => m.status === 'active');\r\n\r\n        // Deterministically mock statuses based on evaluation ID to keep it consistent re-renders\r\n        return allMembers.map((m, idx) => {\r\n            const seed = evaluation.id.toString().charCodeAt(0) + idx;\r\n            // Roughly match the overall evaluation progress\r\n            const isCompleted = (seed % 100) < evaluation.progress;\r\n\r\n            let status: ParticipantStatus['status'] = 'not_started';\r\n            let progress = 0;\r\n\r\n            if (isCompleted) {\r\n                status = 'completed';\r\n                progress = 100;\r\n            } else {\r\n                // If not completed, some are in progress, some not started\r\n                const isInProgress = (seed % 100) < (evaluation.progress + 20);\r\n                if (isInProgress) {\r\n                    status = 'in_progress';\r\n                    progress = (seed % 80) + 10;\r\n                }\r\n            }\r\n\r\n            return {\r\n                name: m.name,\r\n                team: m.role || 'Team Member', // Fallback if role is empty, essentially showing position/team info\r\n                status,\r\n                progress\r\n            };\r\n        }).slice(0, 15); // Limit to 15 for UI demo\r\n    }, [evaluation, teams]);\r\n\r\n    const stats = useMemo(() => {\r\n        const total = participants.length;\r\n        const completed = participants.filter(p => p.status === 'completed').length;\r\n        const inProgress = participants.filter(p => p.status === 'in_progress').length;\r\n        const notStarted = participants.filter(p => p.status === 'not_started').length;\r\n        return { total, completed, inProgress, notStarted };\r\n    }, [participants]);\r\n\r\n    const handleRemindAll = async () => {\r\n        // Check if webhook URL is configured\r\n        if (!getWebhookUrl()) {\r\n            setRemindResult('no_webhook');\r\n            setTimeout(() => setRemindResult('idle'), 3000);\r\n            return;\r\n        }\r\n\r\n        setRemindSending(true);\r\n        setRemindResult('idle');\r\n\r\n        // Collect names of incomplete participants\r\n        const incompleteUsers = participants\r\n            .filter(p => p.status !== 'completed')\r\n            .map(p => p.name);\r\n\r\n        // Format due date\r\n        const dueDate = evaluation.endDate || '미정';\r\n\r\n        // Send notification via Google Chat Webhook\r\n        const success = await sendEvaluationReminder(evaluation.name, dueDate, incompleteUsers);\r\n\r\n        setRemindSending(false);\r\n        setRemindResult(success ? 'success' : 'error');\r\n        setTimeout(() => setRemindResult('idle'), 3000);\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-full max-h-[85vh] flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"p-6 border-b border-slate-200 flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-bold text-slate-900\">평가 캠페인 모니터링</h2>\r\n                        <p className=\"text-sm text-slate-500 mt-1\">{evaluation.name}</p>\r\n                    </div>\r\n                    <CloseButton onClick={onClose} />\r\n                </div>\r\n\r\n                {/* Dashboard Stats */}\r\n                <div className=\"p-6 bg-slate-50 border-b border-slate-200 grid grid-cols-4 gap-4\">\r\n                    <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center\">\r\n                        <div className=\"text-2xl font-bold text-slate-900\">{stats.total}</div>\r\n                        <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wide mt-1\">총 대상자</div>\r\n                    </div>\r\n                    <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center\">\r\n                        <div className=\"text-2xl font-bold text-green-600\">{stats.completed}</div>\r\n                        <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wide mt-1\">완료</div>\r\n                    </div>\r\n                    <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center\">\r\n                        <div className=\"text-2xl font-bold text-blue-600\">{stats.inProgress}</div>\r\n                        <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wide mt-1\">진행 중</div>\r\n                    </div>\r\n                    <div className=\"bg-white p-4 rounded-xl border border-slate-200 shadow-sm text-center\">\r\n                        <div className=\"text-2xl font-bold text-red-500\">{stats.notStarted}</div>\r\n                        <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wide mt-1\">미시작</div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Participant List */}\r\n                <div className=\"flex-1 overflow-y-auto p-6\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <h3 className=\"text-lg font-bold text-slate-800\">참여자 상세 현황</h3>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            {remindResult === 'success' && (\r\n                                <span className=\"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded\">✓ 발송 완료!</span>\r\n                            )}\r\n                            {remindResult === 'error' && (\r\n                                <span className=\"text-xs font-medium text-red-600 bg-red-50 px-2 py-1 rounded\">✗ 발송 실패</span>\r\n                            )}\r\n                            {remindResult === 'no_webhook' && (\r\n                                <span className=\"text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded\">⚠ Webhook 미설정</span>\r\n                            )}\r\n                            <button\r\n                                onClick={handleRemindAll}\r\n                                disabled={stats.notStarted === 0 && stats.inProgress === 0 || remindSending}\r\n                                className=\"bg-primary/10 text-primary hover:bg-primary/20 px-4 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                {remindSending ? (\r\n                                    <span>발송 중...</span>\r\n                                ) : (\r\n                                    <>\r\n                                        <Bell className=\"w-4 h-4 mr-2\" strokeWidth={1.5} />\r\n                                        미완료자 전체 독촉\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"border border-slate-200 rounded-lg overflow-hidden\">\r\n                        <table className=\"min-w-full divide-y divide-slate-200\">\r\n                            <thead className=\"bg-slate-50\">\r\n                                <tr>\r\n                                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider\">이름 / 소속</th>\r\n                                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider\">상태</th>\r\n                                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider\">진행률</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-slate-200\">\r\n                                {participants.map((p, idx) => (\r\n                                    <tr key={idx} className=\"hover:bg-slate-50\">\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                            <div className=\"font-medium text-slate-900\">{p.name}</div>\r\n                                            <div className=\"text-xs text-slate-500\">{p.team}</div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                            {p.status === 'completed' && <span className=\"px-2 py-1 text-xs font-bold rounded-full bg-green-100 text-green-700\">완료</span>}\r\n                                            {p.status === 'in_progress' && <span className=\"px-2 py-1 text-xs font-bold rounded-full bg-blue-100 text-blue-700\">진행 중</span>}\r\n                                            {p.status === 'not_started' && <span className=\"px-2 py-1 text-xs font-bold rounded-full bg-slate-100 text-slate-600\">미시작</span>}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 whitespace-nowrap w-1/3\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-full\">\r\n                                                    <ProgressBar progress={p.progress} />\r\n                                                </div>\r\n                                                <span className=\"text-xs font-medium text-slate-500 w-8 text-right\">{p.progress}%</span>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"p-4 border-t border-slate-200 flex justify-end\">\r\n                    <button onClick={onClose} className=\"bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg transition-colors\">\r\n                        닫기\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\CreateCampaignModal.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (154). Maximum allowed is 100.","line":27,"column":70,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":189,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo, memo } from 'react';\nimport { EvaluationTemplate, Team, Evaluation } from '../../constants';\nimport { CheckCircle } from 'lucide-react';\nimport { CloseButton } from '../../components/common/index';\nimport { useCampaignForm } from '../../hooks/evaluation/useCampaignForm';\nimport {\n    CampaignBasicInfo,\n    CampaignTemplateSelect,\n    CampaignTargetSelector,\n    CampaignReview\n} from './components';\n\ninterface LaunchData extends Omit<Evaluation, 'id' | 'status' | 'progress' | 'score'> {\n    templateSnapshot: EvaluationTemplate;\n}\n\ninterface CreateCampaignModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onLaunch: (data: LaunchData) => void;\n    templates: EvaluationTemplate[];\n    teams: Team[];\n}\n\nconst STEPS = ['기본 정보', '템플릿 선택', '대상자 지정', '검토 및 시작'];\n\nconst CreateCampaignModal: React.FC<CreateCampaignModalProps> = memo(({\n    isOpen,\n    onClose,\n    onLaunch,\n    templates,\n    teams\n}) => {\n    const {\n        step,\n        formData,\n        selectedMembers,\n        today,\n        periodOptions,\n        canProceed,\n        updateField,\n        handleTimingChange,\n        resetForm,\n        goToNextStep,\n        goToPrevStep,\n        toggleMember,\n        toggleGroup,\n        getGroupMembers,\n        getGroupSelectionState,\n        sortedSelectedMembers,\n    } = useCampaignForm({ onClose });\n\n    const handleLaunch = useCallback(() => {\n        const template = templates.find(t => t.id === formData.templateId);\n        if (!template) return;\n\n        onLaunch({\n            name: formData.name,\n            type: template.type,\n            period: formData.period,\n            subject: `${selectedMembers.size} 명`,\n            startDate: formData.timing === 'now' ? today : formData.startDate,\n            endDate: formData.endDate,\n            templateSnapshot: template\n        });\n        resetForm();\n    }, [templates, formData, selectedMembers.size, onLaunch, resetForm, today]);\n\n    const handleTemplateSelect = useCallback((templateId: string | number) => {\n        updateField('templateId', templateId);\n    }, [updateField]);\n\n    const renderStepContent = useMemo(() => {\n        switch (step) {\n            case 1:\n                return (\n                    <CampaignBasicInfo\n                        formData={formData}\n                        today={today}\n                        periodOptions={periodOptions}\n                        updateField={updateField}\n                        handleTimingChange={handleTimingChange}\n                    />\n                );\n            case 2:\n                return (\n                    <CampaignTemplateSelect\n                        templates={templates}\n                        selectedTemplateId={formData.templateId}\n                        onSelectTemplate={handleTemplateSelect}\n                    />\n                );\n            case 3:\n                return (\n                    <CampaignTargetSelector\n                        teams={teams}\n                        selectedMembers={selectedMembers}\n                        sortedSelectedMembers={sortedSelectedMembers}\n                        toggleMember={toggleMember}\n                        toggleGroup={toggleGroup}\n                        getGroupMembers={getGroupMembers}\n                        getGroupSelectionState={getGroupSelectionState}\n                    />\n                );\n            case 4:\n                return (\n                    <CampaignReview\n                        formData={formData}\n                        today={today}\n                        selectedMembersCount={selectedMembers.size}\n                        templates={templates}\n                    />\n                );\n            default:\n                return null;\n        }\n    }, [\n        step, formData, today, periodOptions, updateField, handleTimingChange,\n        templates, handleTemplateSelect, teams, selectedMembers, sortedSelectedMembers,\n        toggleMember, toggleGroup, getGroupMembers, getGroupSelectionState\n    ]);\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-full max-h-[90vh] flex flex-col\">\n                {/* Header */}\n                <div className=\"p-6 border-b border-slate-200 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-bold text-slate-900\">새 평가 캠페인 생성</h2>\n                    <CloseButton onClick={resetForm} />\n                </div>\n\n                {/* Content */}\n                <div className=\"p-8 flex-grow overflow-y-auto\">\n                    {/* Step Indicator */}\n                    <ol className=\"flex items-center w-full text-sm font-medium text-center text-slate-500 mb-8\">\n                        {STEPS.map((s, index) => (\n                            <li\n                                key={s}\n                                className={`flex items-center ${index < STEPS.length - 1\n                                    ? \"w-full after:content-[''] after:w-full after:h-px after:border-b after:border-slate-200 after:inline-block mx-2\"\n                                    : \"\"\n                                    } ${step > index + 1 ? 'text-sky-600' : ''}`}\n                            >\n                                <span className={`flex items-center justify-center w-10 h-10 rounded-full lg:h-12 lg:w-12 mr-2 shrink-0 ${step >= index + 1 ? 'bg-sky-100 text-sky-600' : 'bg-slate-100'\n                                    }`}>\n                                    {step > index + 1 ? <CheckCircle className=\"w-5 h-5\" strokeWidth={1.5} /> : index + 1}\n                                </span>\n                                <span className=\"hidden md:inline-block whitespace-nowrap\">{s}</span>\n                            </li>\n                        ))}\n                    </ol>\n\n                    {renderStepContent}\n                </div>\n\n                {/* Footer */}\n                <div className=\"p-6 bg-slate-50 border-t border-slate-200 flex justify-between items-center\">\n                    <div>\n                        {step > 1 && (\n                            <button onClick={goToPrevStep} className=\"font-bold py-2 px-4 rounded-lg\">\n                                이전\n                            </button>\n                        )}\n                    </div>\n                    <div>\n                        {step < 4 ? (\n                            <button\n                                onClick={goToNextStep}\n                                disabled={!canProceed}\n                                className=\"bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all disabled:bg-slate-300 disabled:cursor-not-allowed\"\n                            >\n                                다음\n                            </button>\n                        ) : (\n                            <button\n                                onClick={handleLaunch}\n                                className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all\"\n                            >\n                                캠페인 생성 완료\n                            </button>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nCreateCampaignModal.displayName = 'CreateCampaignModal';\n\nexport default CreateCampaignModal;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\EvaluationExecution.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (214). Maximum allowed is 100.","line":26,"column":65,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":261,"endColumn":2},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'answers'. Either include it or remove the dependency array.","line":45,"column":8,"nodeType":"ArrayExpression","endLine":45,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [answers, template.items]","fix":{"range":[1471,1487],"text":"[answers, template.items]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Evaluation, EvaluationTemplate } from '../../constants';\r\nimport { Check } from 'lucide-react';\r\n\r\nexport interface EvaluationExecutionResult {\r\n    evaluationId: string | number;\r\n    answers: ItemScoreState[];\r\n    totalScore: number;\r\n    completedAt: string;\r\n}\r\n\r\ninterface EvaluationExecutionProps {\r\n    evaluation: Evaluation;\r\n    template: EvaluationTemplate;\r\n    onSave: (executionResult: EvaluationExecutionResult) => void;\r\n    onCancel: () => void;\r\n}\r\n\r\ninterface ItemScoreState {\r\n    itemId: number;\r\n    score: number;\r\n    grade?: string | undefined;\r\n    comment: string;\r\n}\r\n\r\nconst EvaluationExecution: React.FC<EvaluationExecutionProps> = ({ evaluation, template, onSave, onCancel }) => {\r\n    const [answers, setAnswers] = useState<Record<number, ItemScoreState>>({});\r\n    const [totalScore, setTotalScore] = useState(0);\r\n\r\n    // Initial load/setup\r\n    useEffect(() => {\r\n        // Initialize answers if empty\r\n        if (Object.keys(answers).length === 0 && template.items) {\r\n            const initialAnswers: Record<number, ItemScoreState> = {};\r\n            template.items.forEach(item => {\r\n                initialAnswers[item.id] = {\r\n                    itemId: item.id,\r\n                    score: 0,\r\n                    grade: undefined,\r\n                    comment: ''\r\n                };\r\n            });\r\n            setAnswers(initialAnswers);\r\n        }\r\n    }, [template.items]);\r\n\r\n    // Calculate total score whenever answers change\r\n    useEffect(() => {\r\n        let calculatedTotal = 0;\r\n        let totalWeight = 0;\r\n\r\n        if (!template.items || template.items.length === 0) return;\r\n\r\n        template.items.forEach(item => {\r\n            const answer = answers[item.id];\r\n            if (answer && answer.score > 0) {\r\n                // Calculate weighted score\r\n                if (template.items && template.items.some(i => i.weight > 0)) {\r\n                    calculatedTotal += (answer.score * item.weight) / 100;\r\n                    totalWeight += item.weight;\r\n                } else {\r\n                    // Simple average for unweighted templates\r\n                    calculatedTotal += answer.score / (template.items?.length || 1);\r\n                }\r\n            }\r\n        });\r\n\r\n        if (totalWeight > 0) {\r\n            // Normalize to 100 if weights are used\r\n            setTotalScore(Math.round((calculatedTotal / totalWeight) * 100 * 10) / 10);\r\n        } else {\r\n            setTotalScore(Math.round(calculatedTotal * 10) / 10);\r\n        }\r\n    }, [answers, template.items]);\r\n\r\n    const handleScoreChange = (itemId: number, score: number, grade?: string | undefined) => {\r\n        setAnswers(prev => ({\r\n            ...prev,\r\n            [itemId]: {\r\n                ...prev[itemId],\r\n                itemId,\r\n                score,\r\n                grade\r\n            }\r\n        }));\r\n    };\r\n\r\n    const handleCommentChange = (itemId: number, comment: string) => {\r\n        setAnswers(prev => ({\r\n            ...prev,\r\n            [itemId]: {\r\n                ...prev[itemId],\r\n                comment\r\n            }\r\n        }));\r\n    };\r\n\r\n    const handleSaveEvaluation = () => {\r\n        const result: EvaluationExecutionResult = {\r\n            evaluationId: evaluation.id,\r\n            answers: Object.values(answers),\r\n            totalScore,\r\n            completedAt: new Date().toISOString()\r\n        };\r\n        onSave(result);\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                    <div>\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                            <span className=\"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700\">\r\n                                {evaluation.type}\r\n                            </span>\r\n                            <span className=\"text-slate-500 text-sm\">{evaluation.period}</span>\r\n                        </div>\r\n                        <h1 className=\"text-2xl font-bold text-slate-900\">{evaluation.name}</h1>\r\n                        <p className=\"text-slate-600 mt-1\">대상자: <span className=\"font-semibold\">{evaluation.subject}</span></p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                        <div className=\"text-sm text-slate-500 mb-1\">현재 총점</div>\r\n                        <div className=\"text-3xl font-bold text-primary\">{totalScore}점</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"w-full bg-slate-100 rounded-full h-2.5 mb-1\">\r\n                    <div\r\n                        className=\"bg-primary h-2.5 rounded-full transition-all duration-500\"\r\n                        style={{ width: `${template.items ? Math.min(100, (Object.values(answers).filter(a => a.score > 0).length / template.items.length) * 100) : 0}%` }}\r\n                    ></div>\r\n                </div>\r\n                <div className=\"text-right text-xs text-slate-500\">\r\n                    진행률: {Object.values(answers).filter(a => a.score > 0).length} / {template.items?.length || 0} 항목 완료\r\n                </div>\r\n            </div>\r\n\r\n            {/* Evaluation Items */}\r\n            <div className=\"space-y-4\">\r\n                {template.items?.map((item, index) => {\r\n                    const answer = answers[item.id] || { score: 0, comment: '', grade: undefined };\r\n\r\n                    return (\r\n                        <div key={item.id} className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 transition-shadow hover:shadow-md\">\r\n                            <div className=\"flex justify-between items-start mb-4\">\r\n                                <div className=\"flex-1\">\r\n                                    <div className=\"flex items-center gap-2 mb-2\">\r\n                                        <span className=\"flex items-center justify-center w-6 h-6 rounded-full bg-slate-100 text-slate-600 text-xs font-bold\">\r\n                                            Q{index + 1}\r\n                                        </span>\r\n                                        <span className=\"text-xs px-2 py-0.5 bg-slate-100 text-slate-600 rounded\">\r\n                                            {template.category} - {item.type}\r\n                                        </span>\r\n                                        {item.weight > 0 && (\r\n                                            <span className=\"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded font-medium\">\r\n                                                가중치: {item.weight}%\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                    <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">{item.title}</h3>\r\n                                    {item.details?.description && (\r\n                                        <p className=\"text-sm text-slate-500 mb-4 bg-slate-50 p-3 rounded-lg border border-slate-100\">\r\n                                            {item.details.description}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Scoring Area */}\r\n                            <div className=\"mb-6\">\r\n                                <label className=\"block text-sm font-medium text-slate-700 mb-2\">평가 점수</label>\r\n                                {item.scoring && item.scoring.length > 0 ? (\r\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-5 gap-2\">\r\n                                        {item.scoring.map((option) => (\r\n                                            <button\r\n                                                key={option.grade}\r\n                                                type=\"button\"\r\n                                                onClick={() => handleScoreChange(item.id, option.score ?? 0, option.grade)}\r\n                                                className={`\r\n                                                    relative p-3 rounded-lg border text-left transition-all\r\n                                                    ${answer.grade === option.grade\r\n                                                        ? 'bg-primary/10 border-primary ring-1 ring-primary'\r\n                                                        : 'bg-white border-slate-200 hover:border-slate-300 hover:bg-slate-50'\r\n                                                    }\r\n                                                `}\r\n                                            >\r\n                                                <div className=\"flex justify-between items-center mb-1\">\r\n                                                    <span className={`font-bold ${answer.grade === option.grade ? 'text-primary' : 'text-slate-700'}`}>\r\n                                                        {option.grade}\r\n                                                    </span>\r\n                                                    <span className=\"text-xs text-slate-500\">{option.score}점</span>\r\n                                                </div>\r\n                                                {option.description && (\r\n                                                    <p className={`text-xs ${answer.grade === option.grade ? 'text-primary' : 'text-slate-500'} line-clamp-2`}>\r\n                                                        {option.description}\r\n                                                    </p>\r\n                                                )}\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n                                ) : (\r\n                                    // Fallback for no predefined scoring options (simple numeric input)\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <input\r\n                                            type=\"range\"\r\n                                            min=\"0\"\r\n                                            max=\"100\"\r\n                                            step=\"1\"\r\n                                            value={answer.score}\r\n                                            onChange={(e) => handleScoreChange(item.id, parseInt(e.target.value))}\r\n                                            className=\"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-primary\"\r\n                                        />\r\n                                        <div className=\"w-20 text-center\">\r\n                                            <span className=\"text-2xl font-bold text-primary\">{answer.score}</span>\r\n                                            <span className=\"text-sm text-slate-500 ml-1\">점</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Comment Area */}\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                                    코멘트/피드백\r\n                                    <span className=\"text-xs text-slate-400 font-normal ml-2\">(선택사항)</span>\r\n                                </label>\r\n                                <textarea\r\n                                    value={answer.comment}\r\n                                    onChange={(e) => handleCommentChange(item.id, e.target.value)}\r\n                                    placeholder=\"해당 항목에 대한 구체적인 피드백을 입력해주세요.\"\r\n                                    rows={3}\r\n                                    className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-sm resize-none\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Footer Actions */}\r\n            <div className=\"flex justify-end gap-3 pt-6 border-t border-slate-200\">\r\n                <button\r\n                    onClick={onCancel}\r\n                    className=\"px-4 py-2 bg-white border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 font-medium transition-colors\"\r\n                >\r\n                    취소 (목록으로)\r\n                </button>\r\n                <button\r\n                    onClick={handleSaveEvaluation}\r\n                    disabled={Object.values(answers).some(a => a.score === 0)}\r\n                    className=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                >\r\n                    <Check className=\"w-4 h-4\" strokeWidth={1.5} />\r\n                    평가 제출하기\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EvaluationExecution;\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\EvaluationResult.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (161). Maximum allowed is 100.","line":57,"column":64,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":235,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useMemo, useRef, useState } from 'react';\nimport { ArrowLeft, Download, Sparkles, ArrowUp, ArrowDown, Eye } from 'lucide-react';\nimport { GrowthTrendChart } from '../../components/dashboard/GrowthTrendChart';\nimport { WordCloud } from '../../components/dashboard/WordCloud';\nimport { exportEvaluationResultToPDF } from '../../utils/pdfExportService';\n\ninterface CompetencyChartProps {\n    name: string;\n    selfScore: number;\n    peerScore: number;\n    finalScore: number;\n}\n\nconst CompetencyChart: React.FC<CompetencyChartProps> = memo(({ name, selfScore, peerScore, finalScore }) => (\n    <div className=\"py-4\">\n        <div className=\"flex justify-between items-center mb-2\">\n            <h4 className=\"font-semibold text-slate-700\">{name}</h4>\n            <span className=\"font-bold text-slate-800 text-lg\">{finalScore}점</span>\n        </div>\n        <div className=\"space-y-2\">\n            <div className=\"flex items-center\">\n                <span className=\"text-sm text-slate-500 w-20\">본인 평가</span>\n                <div className=\"flex-1 bg-slate-200 rounded-full h-4\">\n                    <div className=\"bg-sky-500 h-4 rounded-full\" style={{ width: `${selfScore}%` }}></div>\n                </div>\n            </div>\n            <div className=\"flex items-center\">\n                <span className=\"text-sm text-slate-500 w-20\">동료 평가</span>\n                <div className=\"flex-1 bg-slate-200 rounded-full h-4\">\n                    <div className=\"bg-primary h-4 rounded-full\" style={{ width: `${peerScore}%` }}></div>\n                </div>\n            </div>\n        </div>\n    </div>\n));\n\nCompetencyChart.displayName = 'CompetencyChart';\n\ninterface EvaluationResultData {\n    subject: { name: string; role: string; avatar: string; };\n    evaluationName: string;\n    period: string;\n    finalScore: number;\n    finalGrade: string;\n    summary: string;\n    competencies: CompetencyChartProps[];\n    strengths: string[];\n    areasForImprovement: string[];\n    peerFeedback: { from: string; comment: string; }[];\n}\n\ninterface EvaluationResultProps {\n    resultData: EvaluationResultData;\n    onBack: () => void;\n}\n\nconst EvaluationResult: React.FC<EvaluationResultProps> = memo(({ resultData, onBack }) => {\n    const {\n        subject,\n        evaluationName,\n        period,\n        finalScore,\n        finalGrade,\n        summary,\n        competencies,\n        strengths,\n        areasForImprovement,\n        peerFeedback\n    } = resultData;\n\n    // Ref and state for PDF export\n    const resultRef = useRef<HTMLDivElement>(null);\n    const [isExporting, setIsExporting] = useState(false);\n\n    // PDF export handler\n    const handleExportPDF = async () => {\n        if (!resultRef.current) return;\n        setIsExporting(true);\n        try {\n            await exportEvaluationResultToPDF(resultRef.current, subject.name, evaluationName);\n        } finally {\n            setIsExporting(false);\n        }\n    };\n\n    // Mock data for new charts\n    const growthData = useMemo(() => [\n        { period: '22년 상반기', score: 82 },\n        { period: '22년 하반기', score: 85 },\n        { period: '23년 상반기', score: 84 },\n        { period: '23년 하반기', score: 89 },\n        { period: '24년 상반기', score: 95 },\n    ], []);\n\n    const wordCloudData = useMemo(() => [\n        { text: '책임감', value: 90 },\n        { text: '소통', value: 85 },\n        { text: '리더십', value: 70 },\n        { text: '협업', value: 80 },\n        { text: '전문성', value: 75 },\n        { text: '적극성', value: 65 },\n        { text: '배려', value: 60 },\n        { text: '성실', value: 55 },\n        { text: '아이디어', value: 50 },\n    ], []);\n\n    const strengthsList = useMemo(() =>\n        strengths.map((item, i) => <li key={i}>{item}</li>),\n        [strengths]\n    );\n\n    const improvementsList = useMemo(() =>\n        areasForImprovement.map((item, i) => <li key={i}>{item}</li>),\n        [areasForImprovement]\n    );\n\n    const feedbackList = useMemo(() =>\n        peerFeedback.map((fb, i) => (\n            <div key={i} className=\"bg-slate-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-slate-800 leading-relaxed\">\"{fb.comment}\"</p>\n                <p className=\"text-right text-xs font-semibold text-slate-500 mt-2\">- {fb.from}</p>\n            </div>\n        )),\n        [peerFeedback]\n    );\n\n    return (\n        <div className=\"animate-fade-in\">\n            <div className=\"mb-8\">\n                <button onClick={onBack} className=\"flex items-center text-sm font-medium text-slate-600 hover:text-sky-600 transition-colors mb-4\">\n                    <ArrowLeft className=\"w-4 h-4 mr-2\" strokeWidth={1.5} />\n                    평가 목록으로 돌아가기\n                </button>\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-slate-900\">{evaluationName} 결과</h1>\n                        <p className=\"text-lg text-slate-600 mt-1\">{subject.name} ({subject.role})</p>\n                    </div>\n                    <div className=\"flex items-center gap-4 mt-4 md:mt-0\">\n                        <span className=\"text-md text-slate-500 font-medium\">평가 기간: {period}</span>\n                        <button\n                            onClick={handleExportPDF}\n                            disabled={isExporting}\n                            className=\"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                            <Download className=\"w-5 h-5\" strokeWidth={1.5} />\n                            {isExporting ? 'PDF 생성 중...' : 'PDF 내보내기'}\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div ref={resultRef}>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                    <div className=\"lg:col-span-2 space-y-8\">\n                        {/* Summary Card */}\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm flex flex-col md:flex-row items-center gap-6\">\n                            <div className=\"flex-shrink-0\">\n                                <div className=\"w-36 h-36 rounded-full bg-slate-800 text-white flex flex-col items-center justify-center shadow-lg border-4 border-white\">\n                                    <span className=\"text-xs font-medium tracking-wide\">최종 점수</span>\n                                    <span className=\"text-5xl font-bold tracking-tight\">{finalScore}</span>\n                                    <span className=\"text-xl font-semibold\">({finalGrade} 등급)</span>\n                                </div>\n                            </div>\n                            <div className=\"text-center md:text-left\">\n                                <h2 className=\"text-xl font-bold text-slate-900 mb-2\">종합의견</h2>\n                                <p className=\"text-slate-600 leading-relaxed\">{summary}</p>\n                            </div>\n                        </div>\n\n                        {/* Growth Trend (NEW) */}\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                            <h2 className=\"text-xl font-bold text-slate-900 mb-6 flex items-center\">\n                                <Sparkles className=\"w-5 h-5 mr-2 text-primary\" strokeWidth={1.5} />\n                                성장 추이 (최근 5회)\n                            </h2>\n                            <GrowthTrendChart data={growthData} />\n                        </div>\n\n                        {/* Competency Chart */}\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                            <h2 className=\"text-xl font-bold text-slate-900 mb-4\">역량별 상세 결과</h2>\n                            <div className=\"divide-y divide-slate-200\">\n                                {competencies.map(c => <CompetencyChart key={c.name} {...c} />)}\n                            </div>\n                        </div>\n\n                        {/* Strengths & Weaknesses */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                            <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                                <h3 className=\"text-lg font-bold text-slate-800 flex items-center mb-4\">\n                                    <ArrowUp className=\"w-5 h-5 mr-2 text-green-500\" strokeWidth={1.5} />\n                                    주요 강점\n                                </h3>\n                                <ul className=\"list-disc list-inside space-y-2 text-slate-600\">\n                                    {strengthsList}\n                                </ul>\n                            </div>\n                            <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                                <h3 className=\"text-lg font-bold text-slate-800 flex items-center mb-4\">\n                                    <ArrowDown className=\"w-5 h-5 mr-2 text-red-500\" strokeWidth={1.5} />\n                                    개선 제안\n                                </h3>\n                                <ul className=\"list-disc list-inside space-y-2 text-slate-600\">\n                                    {improvementsList}\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"space-y-8\">\n                        {/* Word Cloud (NEW) */}\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                            <h2 className=\"text-xl font-bold text-slate-900 mb-4 flex items-center\">\n                                <Eye className=\"w-5 h-5 mr-2 text-sky-500\" strokeWidth={1.5} />\n                                피드백 키워드\n                            </h2>\n                            <WordCloud keywords={wordCloudData} />\n                            <p className=\"text-center text-xs text-slate-400 mt-2\">동료 피드백에서 자주 언급된 단어입니다.</p>\n                        </div>\n\n                        {/* Peer Feedback List */}\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm\">\n                            <h2 className=\"text-xl font-bold text-slate-900 mb-4\">동료 피드백 상세</h2>\n                            <div className=\"space-y-4 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar\">\n                                {feedbackList}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nEvaluationResult.displayName = 'EvaluationResult';\n\nexport default EvaluationResult;","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\components\\CampaignBasicInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\components\\CampaignReview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\components\\CampaignTargetSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\components\\CampaignTemplateSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\evaluation\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\TemplateEditor.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (159). Maximum allowed is 100.","line":22,"column":5,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":195,"endColumn":6},{"ruleId":"complexity","severity":1,"message":"Arrow function has a complexity of 17. Maximum allowed is 15.","line":33,"column":8,"nodeType":"ArrowFunctionExpression","messageId":"complex","endLine":33,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useCallback, useMemo, useState } from 'react';\nimport { ConfirmationModal } from '../../components/ConfirmationModal';\nimport { StatusCard } from '../../components/Status';\nimport { currentUser, EvaluationTemplate } from '../../constants';\nimport { TemplateEditorHeader, TemplateImportModal, TemplateItemsPanel, TemplatePreviewModal } from './components';\nimport { useTemplateDraft, useTemplateItems, useTemplateSave, useTemplateTags } from './hooks';\n\ninterface TemplateEditorProps {\n    onSave: (template: EvaluationTemplate) => void;\n    onCancel: () => void;\n    initialTemplate?: EvaluationTemplate | null;\n    categoryOptions: string[];\n    onToggleFavorite?: (() => void) | undefined;\n    onArchive?: (() => void) | undefined;\n    onRestore?: (() => void) | undefined;\n    isFavorite?: boolean;\n    isArchived?: boolean;\n    existingTemplates?: EvaluationTemplate[];\n}\n\nconst TemplateEditor: React.FC<TemplateEditorProps> = memo(\n    ({\n        onSave,\n        onCancel,\n        initialTemplate = null,\n        categoryOptions,\n        onToggleFavorite = () => {},\n        onArchive = () => {},\n        onRestore = () => {},\n        isFavorite = false,\n        isArchived = false,\n        existingTemplates = [],\n    }) => {\n        const [template, setTemplate] = useState<EvaluationTemplate>(\n            () =>\n                initialTemplate || {\n                    id: 0,\n                    name: '',\n                    type: '전사 공통',\n                    category: categoryOptions[0] || '공통',\n                    items: [],\n                    description: '',\n                    questions: 0,\n                    lastUpdated: new Date().toISOString(),\n                    author: currentUser.name,\n                }\n        );\n\n        const [defaultScoringType] = useState('5grade');\n        const [showPreview, setShowPreview] = useState(false);\n        const [showImportModal, setShowImportModal] = useState(false);\n        const [confirmation, setConfirmation] = useState({\n            isOpen: false,\n            title: '',\n            message: '',\n            onConfirm: () => {},\n        });\n\n        const tagProps = useTemplateTags(initialTemplate?.tags || []);\n\n        const { handleRestoreDraft, handleDiscardDraft, clearDraftOnSave, draftInfo, isDirty } = useTemplateDraft({\n            template,\n            initialTemplate,\n            isArchived,\n            tags: tagProps.tags,\n        });\n\n        const itemProps = useTemplateItems({\n            template,\n            setTemplate: setTemplate as any,\n            usesWeights: template.type === '전사 공통' || template.type === '팀별',\n            defaultScoringType,\n            isArchived,\n            setConfirmation,\n        });\n\n        const usesWeights = template.type === '전사 공통' || template.type === '팀별';\n        const totalWeight = useMemo(\n            () => template.items.reduce((sum, item) => sum + (item.weight || 0), 0),\n            [template.items]\n        );\n\n        const { handleSave, validationMessages, showValidation } = useTemplateSave({\n            template,\n            initialTemplate,\n            isArchived,\n            tagProps,\n            onSave,\n            clearDraftOnSave,\n            categoryOptions,\n            usesWeights,\n            totalWeight,\n        });\n\n        const showItemsError = showValidation && template.items.length === 0;\n\n        const handleCancelClick = useCallback(() => {\n            if (isDirty) {\n                setConfirmation({\n                    isOpen: true,\n                    title: '변경사항 취소',\n                    message: '저장되지 않은 변경사항이 있습니다. 정말 나가시겠습니까?',\n                    onConfirm: () => {\n                        setConfirmation((prev) => ({ ...prev, isOpen: false }));\n                        onCancel();\n                    },\n                });\n            } else {\n                onCancel();\n            }\n        }, [isDirty, onCancel]);\n\n        const getDropPosition = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n            const rect = event.currentTarget.getBoundingClientRect();\n            return event.clientY < rect.top + rect.height / 2 ? 'before' : 'after';\n        }, []);\n\n        return (\n            <div>\n                <TemplateEditorHeader\n                    template={template}\n                    onChange={(field, value) => setTemplate((prev) => ({ ...prev, [field]: value }))}\n                    onSave={handleSave}\n                    onCancel={handleCancelClick}\n                    categoryOptions={categoryOptions}\n                    isFavorite={isFavorite}\n                    isArchived={isArchived}\n                    onToggleFavorite={onToggleFavorite}\n                    onArchive={onArchive}\n                    onRestore={onRestore}\n                    tagProps={tagProps}\n                    validationMessages={showValidation ? validationMessages : []}\n                />\n\n                {draftInfo && (\n                    <div className=\"mb-6 mt-6\">\n                        <StatusCard\n                            status=\"info\"\n                            title=\"임시 저장본이 있습니다.\"\n                            description={`마지막 저장: ${new Date(draftInfo.updatedAt).toLocaleString()}`}\n                            action={\n                                <div className=\"flex gap-2\">\n                                    <button\n                                        onClick={handleRestoreDraft}\n                                        className=\"px-3 py-1 text-sm bg-sky-500 hover:bg-sky-600 text-white rounded\"\n                                    >\n                                        복원\n                                    </button>\n                                    <button\n                                        onClick={handleDiscardDraft}\n                                        className=\"px-3 py-1 text-sm bg-slate-200 hover:bg-slate-300 text-slate-800 rounded\"\n                                    >\n                                        무시\n                                    </button>\n                                </div>\n                            }\n                        />\n                    </div>\n                )}\n\n                <div className=\"mt-8 space-y-8\">\n                    <TemplateItemsPanel\n                        items={template.items}\n                        usesWeights={usesWeights}\n                        isArchived={isArchived}\n                        existingTemplatesCount={existingTemplates.length}\n                        showItemsError={showItemsError}\n                        getDropPosition={getDropPosition}\n                        onShowImportModal={() => setShowImportModal(true)}\n                        {...itemProps}\n                    />\n                </div>\n\n                {showPreview && <TemplatePreviewModal template={template} onClose={() => setShowPreview(false)} />}\n\n                <TemplateImportModal\n                    show={showImportModal}\n                    onClose={() => setShowImportModal(false)}\n                    templates={existingTemplates}\n                    currentTemplateId={initialTemplate?.id}\n                    onImport={itemProps.handleImportFromTemplate}\n                />\n\n                <ConfirmationModal\n                    isOpen={confirmation.isOpen}\n                    onClose={() => setConfirmation((prev) => ({ ...prev, isOpen: false }))}\n                    onConfirm={confirmation.onConfirm}\n                    title={confirmation.title}\n                    message={confirmation.message}\n                    confirmButtonText=\"확인\"\n                    confirmButtonColor=\"destructive\"\n                />\n            </div>\n        );\n    }\n);\n\nTemplateEditor.displayName = 'TemplateEditor';\n\nexport default TemplateEditor;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\TemplateListView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\EvaluationItemEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\EvaluationItemSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\ItemDetailsEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\ScoringEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplateEditorHeader.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (180). Maximum allowed is 100.","line":23,"column":5,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":206,"endColumn":6}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Archive, ArrowLeft, RotateCcw, Star, X } from 'lucide-react';\nimport { memo } from 'react';\nimport { Button } from '../../../components/common';\nimport { EvaluationTemplate, TEMPLATE_TYPE_OPTIONS } from '../../../constants';\nimport { useTemplateTags } from '../hooks/useTemplateTags';\n\ninterface TemplateEditorHeaderProps {\n    template: EvaluationTemplate;\n    onChange: (field: keyof EvaluationTemplate, value: any) => void;\n    onSave: () => void;\n    onCancel: () => void;\n    categoryOptions: string[];\n    isFavorite: boolean;\n    isArchived: boolean;\n    onToggleFavorite: () => void;\n    onArchive: () => void;\n    onRestore: () => void;\n    tagProps: ReturnType<typeof useTemplateTags>;\n    validationMessages: string[];\n}\n\nexport const TemplateEditorHeader = memo(\n    ({\n        template,\n        onChange,\n        onSave,\n        onCancel,\n        categoryOptions,\n        isFavorite,\n        isArchived,\n        onToggleFavorite,\n        onArchive,\n        onRestore,\n        tagProps,\n        validationMessages,\n    }: TemplateEditorHeaderProps) => {\n        const { tagInput, setTagInput, tags, handleTagKeyDown, handleTagBlur, handleRemoveTag, tagLimitReached } =\n            tagProps;\n\n        return (\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-6\">\n                <div className=\"flex justify-between items-start\">\n                    <div className=\"flex items-center gap-3\">\n                        <Button variant=\"ghost\" size=\"sm\" onClick={onCancel}>\n                            <ArrowLeft className=\"w-5 h-5\" />\n                        </Button>\n                        <div>\n                            <h1 className=\"text-2xl font-bold text-slate-900\">\n                                {template.id ? '템플릿 수정' : '새 템플릿 만들기'}\n                            </h1>\n                            <p className=\"text-sm text-slate-500 mt-1\">\n                                평가 템플릿의 기본 정보를 입력하고 항목을 구성하세요.\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        {template.id && (\n                            <>\n                                <Button\n                                    variant=\"outline\"\n                                    onClick={onToggleFavorite}\n                                    className={\n                                        isFavorite ? 'text-yellow-500 border-yellow-200 bg-yellow-50' : 'text-slate-400'\n                                    }\n                                >\n                                    <Star className=\"w-4 h-4 mr-2\" fill={isFavorite ? 'currentColor' : 'none'} />\n                                    {isFavorite ? '즐겨찾기 해제' : '즐겨찾기'}\n                                </Button>\n                                {isArchived ? (\n                                    <Button\n                                        variant=\"outline\"\n                                        onClick={onRestore}\n                                        className=\"text-emerald-600 border-emerald-200 bg-emerald-50\"\n                                    >\n                                        <RotateCcw className=\"w-4 h-4 mr-2\" />\n                                        복구\n                                    </Button>\n                                ) : (\n                                    <Button\n                                        variant=\"outline\"\n                                        onClick={onArchive}\n                                        className=\"text-slate-500 hover:text-red-600 hover:bg-red-50\"\n                                    >\n                                        <Archive className=\"w-4 h-4 mr-2\" />\n                                        보관\n                                    </Button>\n                                )}\n                            </>\n                        )}\n                        <Button variant=\"outline\" onClick={onCancel}>\n                            취소\n                        </Button>\n                        <Button\n                            onClick={onSave}\n                            disabled={validationMessages.length > 0}\n                            className={validationMessages.length > 0 ? 'opacity-50 cursor-not-allowed' : ''}\n                        >\n                            저장\n                        </Button>\n                    </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-6\">\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium text-slate-700 mb-1\">\n                                템플릿 명 <span className=\"text-red-500\">*</span>\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={template.name}\n                                onChange={(e) => onChange('name', e.target.value)}\n                                className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                placeholder=\"예: 2024년 상반기 정기 평가\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-slate-700 mb-1\">평가 유형</label>\n                            <div className=\"flex gap-2\">\n                                {TEMPLATE_TYPE_OPTIONS.map((type) => (\n                                    <button\n                                        key={type}\n                                        onClick={() => onChange('type', type)}\n                                        className={`px-3 py-1.5 rounded-lg text-sm border transition-colors ${\n                                            template.type === type\n                                                ? 'bg-blue-50 border-blue-200 text-blue-700 font-medium'\n                                                : 'bg-white border-slate-200 text-slate-600 hover:bg-slate-50'\n                                        }`}\n                                    >\n                                        {type}\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-slate-700 mb-1\">설명</label>\n                            <textarea\n                                value={template.description || ''}\n                                onChange={(e) => onChange('description', e.target.value)}\n                                className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]\"\n                                placeholder=\"이 템플릿에 대한 설명을 입력하세요...\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium text-slate-700 mb-1\">\n                                카테고리 <span className=\"text-red-500\">*</span>\n                            </label>\n                            <select\n                                value={template.category}\n                                onChange={(e) => onChange('category', e.target.value)}\n                                className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            >\n                                {categoryOptions.map((opt) => (\n                                    <option key={opt} value={opt}>\n                                        {opt}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-slate-700 mb-1\">\n                                태그 ({tags.length}/6)\n                            </label>\n                            <div className=\"flex flex-wrap gap-2 p-2 border border-slate-300 rounded-lg bg-white min-h-[42px]\">\n                                {tags.map((tag) => (\n                                    <span\n                                        key={tag}\n                                        className=\"inline-flex items-center px-2 py-0.5 rounded text-sm bg-slate-100 text-slate-700 border border-slate-200\"\n                                    >\n                                        #{tag}\n                                        <button\n                                            onClick={() => handleRemoveTag(tag)}\n                                            className=\"ml-1.5 text-slate-400 hover:text-red-500\"\n                                        >\n                                            <X className=\"w-3 h-3\" />\n                                        </button>\n                                    </span>\n                                ))}\n                                {!tagLimitReached && (\n                                    <input\n                                        type=\"text\"\n                                        value={tagInput}\n                                        onChange={(e) => setTagInput(e.target.value)}\n                                        onKeyDown={handleTagKeyDown}\n                                        onBlur={handleTagBlur}\n                                        className=\"flex-1 min-w-[120px] outline-none text-sm bg-transparent\"\n                                        placeholder={tags.length === 0 ? '태그 입력 (Enter 또는 쉼표)' : ''}\n                                    />\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {validationMessages.length > 0 && (\n                    <div className=\"bg-red-50 text-red-600 text-sm px-4 py-2 rounded-lg border border-red-100 flex items-center gap-2\">\n                        <span className=\"font-medium\">!</span>\n                        다음 항목을 입력해주세요: {validationMessages.join(', ')}\n                    </div>\n                )}\n            </div>\n        );\n    }\n);\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplateImportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplateItemActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplateItemRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplateItemsPanel.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (135). Maximum allowed is 100.","line":41,"column":5,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":179,"endColumn":6}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ArrowDown, ArrowUp, FileText } from 'lucide-react';\nimport { memo } from 'react';\nimport { SettingsCard } from '../../../components/SettingsCard';\nimport { EvaluationItem } from '../../../constants';\nimport { TemplateItemActionButtons } from './TemplateItemActionButtons';\nimport { TemplateItemRow } from './TemplateItemRow';\n\ninterface TemplateItemsPanelProps {\n    items: EvaluationItem[];\n    usesWeights: boolean;\n    activeItemId: number | null;\n    draggedItemId: number | null;\n    dragOver: { id: number | 'end'; position: 'before' | 'after' } | null;\n    copiedItem: EvaluationItem | null;\n    isAllCollapsed: boolean;\n    isDragEnabled: boolean;\n    hasPresets: boolean;\n    isArchived: boolean;\n    existingTemplatesCount: number;\n    showItemsError: boolean;\n    setActiveItemId: (id: number | null) => void;\n    setDragOver: (value: { id: number | 'end'; position: 'before' | 'after' } | null) => void;\n    getDropPosition: (event: React.DragEvent<HTMLDivElement>) => 'before' | 'after';\n    handleItemChange: (item: EvaluationItem) => void;\n    addItem: (type: '정량' | '정성') => void;\n    removeItem: (id: number) => void;\n    handleCopyItem: (item: EvaluationItem) => void;\n    handlePasteItem: () => void;\n    handleLoadPresets: () => void;\n    handleDistributeWeights: () => void;\n    handleDragStart: (e: React.DragEvent<HTMLButtonElement>, id: number) => void;\n    handleDragEnd: () => void;\n    handleDropAt: (e: React.DragEvent<HTMLDivElement>, targetId: number, position: 'before' | 'after') => void;\n    handleDropAtEnd: (e: React.DragEvent<HTMLDivElement>) => void;\n    handleMoveItem: (id: number, direction: 'up' | 'down') => void;\n    toggleCollapseAll: () => void;\n    onShowImportModal: () => void;\n}\n\nexport const TemplateItemsPanel = memo(\n    ({\n        items,\n        usesWeights,\n        activeItemId,\n        draggedItemId,\n        dragOver,\n        copiedItem,\n        isAllCollapsed,\n        isDragEnabled,\n        hasPresets,\n        isArchived,\n        existingTemplatesCount,\n        showItemsError,\n        setActiveItemId,\n        setDragOver,\n        getDropPosition,\n        handleItemChange,\n        addItem,\n        removeItem,\n        handleCopyItem,\n        handlePasteItem,\n        handleLoadPresets,\n        handleDistributeWeights,\n        handleDragStart,\n        handleDragEnd,\n        handleDropAt,\n        handleDropAtEnd,\n        handleMoveItem,\n        toggleCollapseAll,\n        onShowImportModal,\n    }: TemplateItemsPanelProps) => (\n        <SettingsCard\n            title={usesWeights ? '평가 항목' : '질문 목록'}\n            description={\n                usesWeights ? '템플릿에 포함될 질문들을 추가하고 관리합니다.' : '평가에 사용될 질문을 추가해주세요.'\n            }\n        >\n            <div\n                className=\"space-y-4\"\n                onDragLeave={\n                    isDragEnabled\n                        ? (event) => {\n                              const related = event.relatedTarget as Node | null;\n                              if (related && event.currentTarget.contains(related)) return;\n                              setDragOver(null);\n                          }\n                        : undefined\n                }\n            >\n                {items.length > 2 && (\n                    <div className=\"flex justify-end mb-2\">\n                        <button\n                            onClick={toggleCollapseAll}\n                            className=\"text-xs text-slate-500 hover:text-slate-700 flex items-center gap-1 transition-colors\"\n                        >\n                            {isAllCollapsed ? (\n                                <ArrowDown className=\"w-3 h-3\" strokeWidth={1.5} />\n                            ) : (\n                                <ArrowUp className=\"w-3 h-3\" strokeWidth={1.5} />\n                            )}\n                            {isAllCollapsed ? '모두 펼치기' : '모두 접기'}\n                        </button>\n                    </div>\n                )}\n                {showItemsError && <p className=\"text-xs text-red-600\">평가 항목을 최소 1개 이상 추가해주세요.</p>}\n\n                {items.length === 0 && (\n                    <div className=\"py-12 flex flex-col items-center justify-center text-center\">\n                        <div className=\"w-20 h-20 bg-gradient-to-br from-sky-100 to-primary/10 rounded-full flex items-center justify-center mb-4\">\n                            <FileText className=\"w-10 h-10 text-sky-400\" strokeWidth={1.5} />\n                        </div>\n                        <h4 className=\"text-lg font-semibold text-slate-700\">아직 항목이 없습니다</h4>\n                        <p className=\"text-sm text-slate-500 mt-2 max-w-xs\">\n                            아래 버튼을 클릭하여 첫 번째 평가 항목을 추가하거나,\n                            <br />\n                            <span className=\"text-purple-600 font-medium\">✨ 추천 항목 불러오기</span>를 사용해보세요!\n                        </p>\n                    </div>\n                )}\n\n                {items.map((item, index) => (\n                    <TemplateItemRow\n                        key={item.id}\n                        item={item}\n                        index={index}\n                        totalItems={items.length}\n                        isActive={activeItemId === item.id}\n                        dragOver={dragOver}\n                        draggedItemId={draggedItemId}\n                        isDragEnabled={isDragEnabled}\n                        usesWeights={usesWeights}\n                        setDragOver={setDragOver}\n                        getDropPosition={getDropPosition}\n                        handleDropAt={handleDropAt}\n                        handleItemChange={handleItemChange}\n                        setActiveItemId={setActiveItemId}\n                        removeItem={removeItem}\n                        handleCopyItem={handleCopyItem}\n                        handleMoveItem={handleMoveItem}\n                        handleDragStart={handleDragStart}\n                        handleDragEnd={handleDragEnd}\n                    />\n                ))}\n\n                {isDragEnabled && items.length > 1 && (\n                    <div\n                        onDragOver={(e) => {\n                            e.preventDefault();\n                            e.dataTransfer.dropEffect = 'move';\n                            setDragOver({ id: 'end', position: 'after' });\n                        }}\n                        onDrop={(e) => {\n                            e.preventDefault();\n                            handleDropAtEnd(e);\n                        }}\n                        className=\"relative h-4\"\n                    >\n                        {dragOver?.id === 'end' && (\n                            <div className=\"absolute inset-x-0 top-1/2 h-0.5 bg-sky-400 rounded-full\" />\n                        )}\n                    </div>\n                )}\n\n                <TemplateItemActionButtons\n                    usesWeights={usesWeights}\n                    hasPresets={hasPresets}\n                    isArchived={isArchived}\n                    existingTemplatesCount={existingTemplatesCount}\n                    itemsLength={items.length}\n                    copiedItem={copiedItem}\n                    addItem={addItem}\n                    handlePasteItem={handlePasteItem}\n                    handleLoadPresets={handleLoadPresets}\n                    onShowImportModal={onShowImportModal}\n                    handleDistributeWeights={handleDistributeWeights}\n                />\n            </div>\n        </SettingsCard>\n    )\n);\n\nTemplateItemsPanel.displayName = 'TemplateItemsPanel';\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplatePreviewModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\TemplateSettingsSection.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (124). Maximum allowed is 100.","line":29,"column":45,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":153,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { memo, KeyboardEvent, FocusEvent } from 'react';\r\nimport { SettingsCard } from '../../../components/SettingsCard';\r\nimport { InputField } from '../../../components/common';\r\nimport { SCORING_TYPES } from '../../../constants';\r\n\r\ninterface TemplateSettingsSectionProps {\r\n    templateName: string;\r\n    templateType: string;\r\n    templateCategory: string;\r\n    typeOptions: string[];\r\n    tagInput: string;\r\n    tags: string[];\r\n    tagLimitReached: boolean;\r\n    showNameError: boolean;\r\n    showCategoryError: boolean;\r\n    defaultScoringType: string;\r\n    itemsCount: number;\r\n    onNameChange: (value: string) => void;\r\n    onTypeChange: (value: string) => void;\r\n    onCategoryChange: (value: string) => void;\r\n    onTagInputChange: (value: string) => void;\r\n    onTagKeyDown: (e: KeyboardEvent<HTMLInputElement>) => void;\r\n    onTagBlur: (e: FocusEvent<HTMLInputElement>) => void;\r\n    onRemoveTag: (tag: string) => void;\r\n    onDefaultScoringTypeChange: (value: string) => void;\r\n    onBulkScoringUpdate: () => void;\r\n}\r\n\r\nexport const TemplateSettingsSection = memo(({\r\n    templateName,\r\n    templateType,\r\n    templateCategory,\r\n    typeOptions,\r\n    tagInput,\r\n    tags,\r\n    tagLimitReached,\r\n    showNameError,\r\n    showCategoryError,\r\n    defaultScoringType,\r\n    itemsCount,\r\n    onNameChange,\r\n    onTypeChange,\r\n    onCategoryChange,\r\n    onTagInputChange,\r\n    onTagKeyDown,\r\n    onTagBlur,\r\n    onRemoveTag,\r\n    onDefaultScoringTypeChange,\r\n    onBulkScoringUpdate,\r\n}: TemplateSettingsSectionProps) => (\r\n    <>\r\n        <SettingsCard title=\"기본 정보\" description=\"템플릿의 이름과 유형을 설정합니다.\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <InputField\r\n                    label=\"템플릿 이름 *\"\r\n                    id=\"templateName\"\r\n                    name=\"templateName\"\r\n                    type=\"text\"\r\n                    value={templateName}\r\n                    onChange={(e: any) => onNameChange(e.target.value)}\r\n                    placeholder=\"예: 2024년 하반기 역량 평가\"\r\n                    error={showNameError ? '템플릿 이름을 입력해주세요.' : ''}\r\n                />\r\n                <div>\r\n                    <label htmlFor=\"templateType\" className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                        템플릿 유형 <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <select\r\n                        id=\"templateType\"\r\n                        value={templateType}\r\n                        onChange={(e) => onTypeChange(e.target.value)}\r\n                        className=\"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm\"\r\n                    >\r\n                        {typeOptions.map(option => (\r\n                            <option key={option} value={option}>{option}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <InputField\r\n                    label=\"카테고리\"\r\n                    id=\"templateCategory\"\r\n                    name=\"templateCategory\"\r\n                    type=\"text\"\r\n                    value={templateCategory}\r\n                    onChange={(e: any) => onCategoryChange(e.target.value)}\r\n                    placeholder=\"예: 공통, 개발, 영업\"\r\n                    error={showCategoryError ? '카테고리를 입력해주세요.' : ''}\r\n                />\r\n                <div>\r\n                    <InputField\r\n                        label=\"태그 (쉼표로 구분)\"\r\n                        id=\"templateTags\"\r\n                        name=\"templateTags\"\r\n                        type=\"text\"\r\n                        value={tagInput}\r\n                        onChange={(e: any) => onTagInputChange(e.target.value)}\r\n                        onKeyDown={onTagKeyDown}\r\n                        onBlur={onTagBlur}\r\n                        placeholder={tagLimitReached ? '태그 최대 6개' : '예: 상반기, 리더십, 핵심역량'}\r\n                        disabled={tagLimitReached}\r\n                    />\r\n                    {tags.length > 0 && (\r\n                        <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                            {tags.map(tag => (\r\n                                <button\r\n                                    key={tag}\r\n                                    type=\"button\"\r\n                                    onClick={() => onRemoveTag(tag)}\r\n                                    className=\"text-xs text-slate-600 bg-slate-100 px-2 py-0.5 rounded-full hover:bg-slate-200\"\r\n                                    title=\"태그 제거\"\r\n                                >\r\n                                    {tag}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                    {tagLimitReached && (\r\n                        <p className=\"mt-2 text-xs text-amber-600\">태그는 최대 6개까지 추가할 수 있습니다.</p>\r\n                    )}\r\n                    <p className=\"mt-2 text-xs text-slate-500\">엔터 또는 콤마로 태그를 추가할 수 있습니다.</p>\r\n                </div>\r\n            </div>\r\n        </SettingsCard>\r\n\r\n        <SettingsCard title=\"채점 방식 설정\" description=\"새 항목의 기본값 설정 및 일괄 변경 기능을 제공합니다.\">\r\n            <div className=\"flex items-end gap-4\">\r\n                <div className=\"flex-1\">\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-1\">기본 채점 방식</label>\r\n                    <select\r\n                        value={defaultScoringType}\r\n                        onChange={(e) => onDefaultScoringTypeChange(e.target.value)}\r\n                        className=\"block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm\"\r\n                    >\r\n                        {SCORING_TYPES.map(type => (\r\n                            <option key={type.id} value={type.id}>{type.label}</option>\r\n                        ))}\r\n                    </select>\r\n                    <p className=\"mt-1 text-xs text-slate-500\">\r\n                        {SCORING_TYPES.find(t => t.id === defaultScoringType)?.grades.join(' > ')}\r\n                    </p>\r\n                </div>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onBulkScoringUpdate}\r\n                    disabled={itemsCount === 0}\r\n                    className=\"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium py-2 px-4 rounded-lg shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\r\n                >\r\n                    기존 항목에 일괄 적용\r\n                </button>\r\n            </div>\r\n        </SettingsCard>\r\n    </>\r\n));\r\n\r\nTemplateSettingsSection.displayName = 'TemplateSettingsSection';\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useItemActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useItemDragDrop.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Function 'useItemDragDrop' has too many lines (101). Maximum allowed is 100.","line":16,"column":8,"nodeType":"FunctionDeclaration","messageId":"exceed","endLine":131,"endColumn":2},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'items' is defined but never used. Allowed unused args must match /^_/u.","line":16,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback, useState } from 'react';\nimport { EvaluationItem } from '../../../constants';\n\ninterface UseItemDragDropOptions {\n    items: EvaluationItem[];\n    setItems: (updater: (items: EvaluationItem[]) => EvaluationItem[]) => void;\n    activeItemId: number | null;\n    isArchived: boolean;\n}\n\ninterface DragOverState {\n    id: number | 'end';\n    position: 'before' | 'after';\n}\n\nexport function useItemDragDrop({ items, setItems, activeItemId, isArchived }: UseItemDragDropOptions) {\n    const [draggedItemId, setDraggedItemId] = useState<number | null>(null);\n    const [dragOver, setDragOver] = useState<DragOverState | null>(null);\n\n    const isDragEnabled = activeItemId === null && !isArchived;\n\n    const handleDragStart = useCallback(\n        (event: React.DragEvent<HTMLButtonElement>, id: number) => {\n            if (!isDragEnabled) return;\n            event.dataTransfer.setData('text/plain', String(id));\n            event.dataTransfer.effectAllowed = 'move';\n            setDraggedItemId(id);\n        },\n        [isDragEnabled]\n    );\n\n    const handleDragEnd = useCallback(() => {\n        setDraggedItemId(null);\n        setDragOver(null);\n    }, []);\n\n    const getDraggedId = useCallback(\n        (event?: React.DragEvent<HTMLDivElement>) => {\n            if (draggedItemId !== null) return draggedItemId;\n            const raw = event?.dataTransfer?.getData('text/plain');\n            const parsed = raw ? Number(raw) : NaN;\n            return Number.isFinite(parsed) ? parsed : null;\n        },\n        [draggedItemId]\n    );\n\n    const handleDropAt = useCallback(\n        (event: React.DragEvent<HTMLDivElement>, targetId: number, position: 'before' | 'after') => {\n            if (!isDragEnabled) return;\n            const sourceId = getDraggedId(event);\n            if (sourceId === null || sourceId === targetId) {\n                setDraggedItemId(null);\n                setDragOver(null);\n                return;\n            }\n\n            setItems((prevItems) => {\n                const newItems = [...prevItems];\n                const fromIndex = newItems.findIndex((item) => item.id === sourceId);\n                const targetIndex = newItems.findIndex((item) => item.id === targetId);\n                if (fromIndex === -1 || targetIndex === -1) return prevItems;\n\n                const [moved] = newItems.splice(fromIndex, 1);\n                let insertIndex = position === 'before' ? targetIndex : targetIndex + 1;\n                if (fromIndex < targetIndex) insertIndex -= 1;\n                insertIndex = Math.max(0, Math.min(insertIndex, newItems.length));\n                newItems.splice(insertIndex, 0, moved);\n                return newItems;\n            });\n\n            setDraggedItemId(null);\n            setDragOver(null);\n        },\n        [getDraggedId, isDragEnabled, setItems]\n    );\n\n    const handleDropAtEnd = useCallback(\n        (event: React.DragEvent<HTMLDivElement>) => {\n            if (!isDragEnabled) return;\n            const sourceId = getDraggedId(event);\n            if (sourceId === null) {\n                setDraggedItemId(null);\n                setDragOver(null);\n                return;\n            }\n\n            setItems((prevItems) => {\n                const newItems = [...prevItems];\n                const fromIndex = newItems.findIndex((item) => item.id === sourceId);\n                if (fromIndex === -1) return prevItems;\n                const [moved] = newItems.splice(fromIndex, 1);\n                newItems.push(moved);\n                return newItems;\n            });\n\n            setDraggedItemId(null);\n            setDragOver(null);\n        },\n        [getDraggedId, isDragEnabled, setItems]\n    );\n\n    const handleMoveItem = useCallback(\n        (id: number, direction: 'up' | 'down') => {\n            setItems((prevItems) => {\n                const newItems = [...prevItems];\n                const index = newItems.findIndex((item) => item.id === id);\n                if (index === -1) return prevItems;\n\n                const nextIndex = direction === 'up' ? index - 1 : index + 1;\n                if (nextIndex < 0 || nextIndex >= newItems.length) return prevItems;\n\n                const [moved] = newItems.splice(index, 1);\n                newItems.splice(nextIndex, 0, moved);\n                return newItems;\n            });\n        },\n        [setItems]\n    );\n\n    return {\n        draggedItemId,\n        dragOver,\n        setDragOver,\n        isDragEnabled,\n        handleDragStart,\n        handleDragEnd,\n        handleDropAt,\n        handleDropAtEnd,\n        handleMoveItem,\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useItemPresets.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Function 'useItemPresets' has too many lines (110). Maximum allowed is 100.","line":29,"column":8,"nodeType":"FunctionDeclaration","messageId":"exceed","endLine":146,"endColumn":2},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":108,"column":35,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":108,"endColumn":106},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":109,"column":47,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":113,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback } from 'react';\nimport {\n    EvaluationItem,\n    EvaluationTemplate,\n    SCORING_TYPES,\n    SCORING_TYPE_PRESETS,\n    TEMPLATE_ITEM_PRESETS,\n} from '../../../constants';\nimport { showWarning } from '../../../utils/toast';\n\nconst defaultScoring = [\n    { grade: 'S', description: '', score: 100 },\n    { grade: 'A', description: '', score: 90 },\n    { grade: 'B', description: '', score: 80 },\n    { grade: 'C', description: '', score: 70 },\n    { grade: 'D', description: '', score: 60 },\n];\n\ninterface UseItemPresetsOptions {\n    templateType: string;\n    items: EvaluationItem[];\n    setItems: (updater: (items: EvaluationItem[]) => EvaluationItem[]) => void;\n    usesWeights: boolean;\n    defaultScoringType: string;\n    setActiveItemId: (id: number | null) => void;\n    setConfirmation: (conf: { isOpen: boolean; title: string; message: string; onConfirm: () => void }) => void;\n}\n\nexport function useItemPresets({\n    templateType,\n    items,\n    setItems,\n    usesWeights,\n    defaultScoringType,\n    setActiveItemId,\n    setConfirmation,\n}: UseItemPresetsOptions) {\n    const hasPresets = Boolean(TEMPLATE_ITEM_PRESETS[templateType]);\n\n    const executeLoadPresets = useCallback(() => {\n        const presets = TEMPLATE_ITEM_PRESETS[templateType];\n        const newItems: EvaluationItem[] = presets.map((preset, index) => ({\n            ...preset,\n            id: Date.now() + index,\n            weight: usesWeights ? preset.weight : 0,\n            scoring: JSON.parse(JSON.stringify(defaultScoring)),\n        }));\n        setItems(() => newItems);\n        setActiveItemId(null);\n        setConfirmation({ isOpen: false, title: '', message: '', onConfirm: () => {} });\n    }, [templateType, usesWeights, setItems, setActiveItemId, setConfirmation]);\n\n    const handleLoadPresets = useCallback(() => {\n        const presets = TEMPLATE_ITEM_PRESETS[templateType];\n        if (!presets || presets.length === 0) {\n            showWarning('선택한 템플릿 유형에 대한 추천 항목이 없습니다.');\n            return;\n        }\n        if (items.length > 0) {\n            setConfirmation({\n                isOpen: true,\n                title: '항목 교체',\n                message: '기존 항목을 모두 삭제하고 추천 항목으로 교체하시겠습니까?',\n                onConfirm: executeLoadPresets,\n            });\n        } else {\n            executeLoadPresets();\n        }\n    }, [templateType, items.length, executeLoadPresets, setConfirmation]);\n\n    const handleImportFromTemplate = useCallback(\n        (sourceTemplate: EvaluationTemplate) => {\n            if (!sourceTemplate.items || sourceTemplate.items.length === 0) {\n                showWarning('선택한 템플릿에 가져올 항목이 없습니다.');\n                return;\n            }\n            const importedItems: EvaluationItem[] = sourceTemplate.items.map((item, index) => ({\n                ...item,\n                id: Date.now() + index,\n                scoring: JSON.parse(JSON.stringify(item.scoring || defaultScoring)),\n            }));\n            setItems((prevItems) => [...prevItems, ...importedItems]);\n            setActiveItemId(null);\n        },\n        [setItems, setActiveItemId]\n    );\n\n    const handleDistributeWeights = useCallback(() => {\n        if (items.length === 0) return;\n        const weightPerItem = Math.floor(100 / items.length);\n        const remainder = 100 - weightPerItem * items.length;\n        setItems((prevItems) =>\n            prevItems.map((item, index) => ({\n                ...item,\n                weight: weightPerItem + (index < remainder ? 1 : 0),\n            }))\n        );\n    }, [items.length, setItems]);\n\n    const executeBulkScoringUpdate = useCallback(() => {\n        const selectedType = SCORING_TYPES.find((t) => t.id === defaultScoringType);\n        if (!selectedType) return;\n\n        setItems((prevItems) =>\n            prevItems.map((item) => {\n                const presets = SCORING_TYPE_PRESETS[defaultScoringType]?.[item.type as '정량' | '정성'];\n                const newScoring = presets\n                    ? presets.map((p) => ({ grade: p.grade, description: p.description, score: p.score }))\n                    : selectedType.grades.map((g, i) => ({\n                          grade: g,\n                          description: '',\n                          score: selectedType.id === '5grade' ? 100 - i * 10 : 0,\n                      }));\n                return {\n                    ...item,\n                    scoringType: defaultScoringType as EvaluationItem['scoringType'],\n                    scoring: newScoring,\n                };\n            })\n        );\n        setConfirmation({ isOpen: false, title: '', message: '', onConfirm: () => {} });\n    }, [defaultScoringType, setItems, setConfirmation]);\n\n    const handleBulkScoringUpdate = useCallback(() => {\n        const selectedType = SCORING_TYPES.find((t) => t.id === defaultScoringType);\n        if (!selectedType) return;\n        if (items.length > 0) {\n            setConfirmation({\n                isOpen: true,\n                title: '채점 방식 일괄 변경',\n                message: `모든 항목의 채점 방식을 '${selectedType.label}'(으)로 변경하시겠습니까?\\n\\n주의: 기존에 설정된 등급 설명과 점수가 초기화될 수 있습니다.`,\n                onConfirm: executeBulkScoringUpdate,\n            });\n        } else {\n            executeBulkScoringUpdate();\n        }\n    }, [items.length, defaultScoringType, executeBulkScoringUpdate, setConfirmation]);\n\n    return {\n        hasPresets,\n        handleLoadPresets,\n        handleImportFromTemplate,\n        handleDistributeWeights,\n        handleBulkScoringUpdate,\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useTemplateDraft.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useTemplateItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useTemplateSave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\features\\template\\hooks\\useTemplateTags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useAsyncOperation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useAutoScroll.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Function 'useAutoScroll' has too many lines (131). Maximum allowed is 100.","line":13,"column":8,"nodeType":"FunctionDeclaration","messageId":"exceed","endLine":172,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useCallback, useEffect } from 'react';\r\n\r\ninterface UseAutoScrollOptions {\r\n    threshold?: number;\r\n    maxSpeed?: number;\r\n}\r\n\r\ninterface UseAutoScrollReturn {\r\n    handleContainerDragOver: (event: React.DragEvent<HTMLDivElement>) => void;\r\n    handleContainerDrop: () => void;\r\n}\r\n\r\nexport function useAutoScroll(options: UseAutoScrollOptions = {}): UseAutoScrollReturn {\r\n    const { threshold = 200, maxSpeed = 32 } = options;\r\n\r\n    const scrollContainerRef = useRef<HTMLElement | null>(null);\r\n    const scrollTimerRef = useRef<number | null>(null);\r\n    const isAutoScrolling = useRef(false);\r\n    const scrollDirection = useRef<'up' | 'down' | null>(null);\r\n    const scrollSpeed = useRef(0);\r\n    const isDraggingRef = useRef(false);\r\n\r\n    const stopAutoScroll = useCallback(() => {\r\n        if (scrollTimerRef.current !== null) {\r\n            cancelAnimationFrame(scrollTimerRef.current);\r\n            scrollTimerRef.current = null;\r\n        }\r\n        isAutoScrolling.current = false;\r\n        scrollDirection.current = null;\r\n        scrollSpeed.current = 0;\r\n    }, []);\r\n\r\n    const startAutoScroll = useCallback(() => {\r\n        if (isAutoScrolling.current) return;\r\n        isAutoScrolling.current = true;\r\n        const tick = () => {\r\n            if (!scrollContainerRef.current || !scrollDirection.current) {\r\n                stopAutoScroll();\r\n                return;\r\n            }\r\n\r\n            const container = scrollContainerRef.current;\r\n            const delta = scrollSpeed.current;\r\n            const maxScroll = container.scrollHeight - container.clientHeight;\r\n\r\n            if (scrollDirection.current === 'up') {\r\n                if (container.scrollTop <= 0) {\r\n                    stopAutoScroll();\r\n                    return;\r\n                }\r\n                container.scrollTop = Math.max(0, container.scrollTop - delta);\r\n            } else {\r\n                if (container.scrollTop >= maxScroll) {\r\n                    stopAutoScroll();\r\n                    return;\r\n                }\r\n                container.scrollTop = Math.min(maxScroll, container.scrollTop + delta);\r\n            }\r\n\r\n            scrollTimerRef.current = requestAnimationFrame(tick);\r\n        };\r\n\r\n        scrollTimerRef.current = requestAnimationFrame(tick);\r\n    }, [stopAutoScroll]);\r\n\r\n    const updateAutoScroll = useCallback((clientY: number) => {\r\n        const container = scrollContainerRef.current;\r\n        if (!container) return;\r\n\r\n        const rect = container.getBoundingClientRect();\r\n        const viewportTop = 0;\r\n        const viewportBottom = window.innerHeight;\r\n        const visibleTop = Math.max(rect.top, viewportTop);\r\n        const visibleBottom = Math.min(rect.bottom, viewportBottom);\r\n\r\n        if (visibleBottom <= visibleTop) {\r\n            stopAutoScroll();\r\n            return;\r\n        }\r\n\r\n        const distanceToTop = Math.abs(clientY - visibleTop);\r\n        const distanceToBottom = Math.abs(visibleBottom - clientY);\r\n\r\n        const topProximity = distanceToTop <= threshold ? threshold - distanceToTop : 0;\r\n        const bottomProximity = distanceToBottom <= threshold ? threshold - distanceToBottom : 0;\r\n\r\n        if (topProximity === 0 && bottomProximity === 0) {\r\n            stopAutoScroll();\r\n            return;\r\n        }\r\n\r\n        const nextDirection = topProximity >= bottomProximity ? 'up' : 'down';\r\n        const nextSpeed = topProximity >= bottomProximity\r\n            ? Math.ceil((topProximity / threshold) * maxSpeed)\r\n            : Math.ceil((bottomProximity / threshold) * maxSpeed);\r\n\r\n        scrollDirection.current = nextDirection;\r\n        scrollSpeed.current = Math.max(3, nextSpeed);\r\n        startAutoScroll();\r\n    }, [startAutoScroll, stopAutoScroll, threshold, maxSpeed]);\r\n\r\n    const handleContainerDragOver = useCallback((event: React.DragEvent<HTMLDivElement>) => {\r\n        event.preventDefault();\r\n        isDraggingRef.current = true;\r\n        updateAutoScroll(event.clientY);\r\n    }, [updateAutoScroll]);\r\n\r\n    const handleContainerDrop = useCallback(() => {\r\n        stopAutoScroll();\r\n    }, [stopAutoScroll]);\r\n\r\n    // Initialize scroll container\r\n    useEffect(() => {\r\n        if (scrollContainerRef.current) return;\r\n\r\n        const mainElement = document.querySelector('main');\r\n        if (mainElement) {\r\n            scrollContainerRef.current = mainElement as HTMLElement;\r\n            return;\r\n        }\r\n\r\n        if (document.scrollingElement) {\r\n            scrollContainerRef.current = document.scrollingElement as HTMLElement;\r\n        }\r\n    }, []);\r\n\r\n    // Cleanup on unmount\r\n    useEffect(() => {\r\n        const container = scrollContainerRef.current;\r\n        if (!container) return;\r\n\r\n        return () => {\r\n            if (scrollTimerRef.current !== null) {\r\n                cancelAnimationFrame(scrollTimerRef.current);\r\n                scrollTimerRef.current = null;\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    // Global drag event listeners\r\n    useEffect(() => {\r\n        const handleDragStart = () => {\r\n            isDraggingRef.current = true;\r\n        };\r\n        const handleDragOver = (event: DragEvent) => {\r\n            if (!isDraggingRef.current) return;\r\n            updateAutoScroll(event.clientY);\r\n        };\r\n        const handleDragEnd = () => {\r\n            isDraggingRef.current = false;\r\n            stopAutoScroll();\r\n        };\r\n\r\n        window.addEventListener('dragstart', handleDragStart);\r\n        window.addEventListener('dragover', handleDragOver);\r\n        window.addEventListener('dragend', handleDragEnd);\r\n        window.addEventListener('drop', handleDragEnd);\r\n\r\n        return () => {\r\n            window.removeEventListener('dragstart', handleDragStart);\r\n            window.removeEventListener('dragover', handleDragOver);\r\n            window.removeEventListener('dragend', handleDragEnd);\r\n            window.removeEventListener('drop', handleDragEnd);\r\n            stopAutoScroll();\r\n        };\r\n    }, [stopAutoScroll, updateAutoScroll]);\r\n\r\n    return {\r\n        handleContainerDragOver,\r\n        handleContainerDrop,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useConfirmation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useEvaluationData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useFormState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useKeyboardNavigation.ts","messages":[{"ruleId":"complexity","severity":1,"message":"Arrow function has a complexity of 19. Maximum allowed is 15.","line":29,"column":50,"nodeType":"ArrowFunctionExpression","messageId":"complex","endLine":29,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from 'react';\r\n\r\nexport interface KeyboardNavigationConfig {\r\n    isOpen: boolean;\r\n    confirmationOpen: boolean;\r\n    isTransitioning: boolean;\r\n    currentStep: number;\r\n    canProceedToStep2: boolean;\r\n    canProceedToStep3: boolean;\r\n    onCloseRequest: () => void;\r\n    onPreviousStep: () => void;\r\n    onNextStep: () => void;\r\n    onSaveAndClose?: () => void;\r\n}\r\n\r\nexport const useKeyboardNavigation = ({\r\n    isOpen,\r\n    confirmationOpen,\r\n    isTransitioning,\r\n    currentStep,\r\n    canProceedToStep2,\r\n    canProceedToStep3,\r\n    onCloseRequest,\r\n    onPreviousStep,\r\n    onNextStep,\r\n    onSaveAndClose\r\n}: KeyboardNavigationConfig) => {\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (!isOpen || confirmationOpen || isTransitioning) return;\r\n\r\n            switch (e.key) {\r\n                case 'Escape':\r\n                    onCloseRequest();\r\n                    break;\r\n                case 'ArrowLeft':\r\n                    if (e.ctrlKey && currentStep > 1) {\r\n                        e.preventDefault();\r\n                        onPreviousStep();\r\n                    }\r\n                    break;\r\n                case 'ArrowRight':\r\n                    if (e.ctrlKey && currentStep < 4) {\r\n                        e.preventDefault();\r\n                        // 단계별 유효성 검사\r\n                        if (currentStep === 1 && !canProceedToStep2) return;\r\n                        if (currentStep === 2 && !canProceedToStep3) return;\r\n                        onNextStep();\r\n                    }\r\n                    break;\r\n                case 'Enter':\r\n                    if (e.ctrlKey && currentStep === 4 && onSaveAndClose) {\r\n                        e.preventDefault();\r\n                        onSaveAndClose();\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n\r\n        if (!isOpen) return;\r\n\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return () => document.removeEventListener('keydown', handleKeyDown);\r\n    }, [\r\n        isOpen,\r\n        confirmationOpen,\r\n        currentStep,\r\n        isTransitioning,\r\n        canProceedToStep2,\r\n        canProceedToStep3,\r\n        onCloseRequest,\r\n        onPreviousStep,\r\n        onNextStep,\r\n        onSaveAndClose\r\n    ]);\r\n};","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useModal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useNetworkStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\common\\useToast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useCampaignForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useCampaignList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useCampaignMutation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useEvaluationData.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Function 'useEvaluationData' has too many lines (108). Maximum allowed is 100.","line":42,"column":8,"nodeType":"FunctionDeclaration","messageId":"exceed","endLine":176,"endColumn":2},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":97,"column":39,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":99,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { Evaluation, EvaluationTemplate, Team, initialEvaluationsData, initialLibraryData, initialTeamsData } from '../../constants';\r\nimport { useRole } from '../../contexts/RoleContext';\r\n\r\ninterface EvaluationWeights {\r\n    firstHalf: number;\r\n    secondHalf: number;\r\n    peerReview: number;\r\n}\r\n\r\ninterface UseEvaluationDataReturn {\r\n    // Data\r\n    evaluations: Evaluation[];\r\n    normalizedEvaluations: Evaluation[];\r\n    filteredEvaluations: Evaluation[];\r\n    templates: EvaluationTemplate[];\r\n    teams: Team[];\r\n\r\n    // State\r\n    isLoading: boolean;\r\n    error: string | null;\r\n    activeTab: string;\r\n    searchTerm: string;\r\n    evaluationWeights: EvaluationWeights;\r\n\r\n    // User View Data\r\n    userMyEvaluations: Evaluation[];\r\n    userCompletedEvaluations: Evaluation[];\r\n\r\n    // Actions\r\n    setActiveTab: (tab: string) => void;\r\n    setSearchTerm: (term: string) => void;\r\n    setEvaluationWeights: (weights: EvaluationWeights) => void;\r\n    addEvaluation: (evaluation: Omit<Evaluation, 'id' | 'status' | 'progress' | 'score' | 'answers'>) => void;\r\n    updateEvaluation: (id: number | string, updates: Partial<Evaluation>) => void;\r\n\r\n    // Constants\r\n    tabs: string[];\r\n    today: string;\r\n}\r\n\r\nexport function useEvaluationData(): UseEvaluationDataReturn {\r\n    const { role } = useRole();\r\n\r\n    // Core State\r\n    const [evaluations, setEvaluations] = useState<Evaluation[]>([]);\r\n    const [templates, setTemplates] = useState<EvaluationTemplate[]>([]);\r\n    const [teams, setTeams] = useState<Team[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error] = useState<string | null>(null);\r\n\r\n    // Filter State\r\n    const [activeTab, setActiveTab] = useState('전체');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    // Settings\r\n    const [evaluationWeights, setEvaluationWeights] = useState<EvaluationWeights>({\r\n        firstHalf: 40,\r\n        secondHalf: 40,\r\n        peerReview: 20,\r\n    });\r\n\r\n    // Constants\r\n    const tabs = useMemo(() => ['전체', '진행중', '완료', '예정'], []);\r\n    const today = useMemo(() => new Date().toISOString().slice(0, 10), []);\r\n\r\n    // Data Fetching (DEV mode uses mock data)\r\n    useEffect(() => {\r\n        if (import.meta.env.DEV) {\r\n            setEvaluations(initialEvaluationsData);\r\n            setTemplates(initialLibraryData);\r\n            setTeams(initialTeamsData);\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Normalize evaluations (compute status based on dates)\r\n    const normalizedEvaluations = useMemo(() => (\r\n        evaluations.map(e => {\r\n            if (e.status === '완료') return e;\r\n            if (e.endDate && e.endDate < today) return { ...e, status: '완료' as const };\r\n            if (e.startDate && e.startDate > today) return { ...e, status: '예정' as const };\r\n            return { ...e, status: '진행중' as const };\r\n        })\r\n    ), [evaluations, today]);\r\n\r\n    // Filter evaluations by role, tab, and search\r\n    const filteredEvaluations = useMemo(() => {\r\n        let roleFiltered = normalizedEvaluations;\r\n\r\n        if (role === 'TEAM_LEADER') {\r\n            const MY_TEAM_ID = 'team_sales';\r\n            const memberMap = new Map<string, string>();\r\n\r\n            initialTeamsData.forEach(t => {\r\n                t.parts.forEach(p => {\r\n                    p.members.forEach(m => {\r\n                        memberMap.set(m.name, t.id);\r\n                    });\r\n                });\r\n            });\r\n\r\n            roleFiltered = normalizedEvaluations.filter(e => {\r\n                if (e.subject === 'Sales팀') return true;\r\n                const subjectTeamId = memberMap.get(e.subject);\r\n                if (subjectTeamId === MY_TEAM_ID) return true;\r\n                return false;\r\n            });\r\n        }\r\n\r\n        const statusFiltered = activeTab === '전체'\r\n            ? roleFiltered\r\n            : roleFiltered.filter(e => e.status === activeTab);\r\n\r\n        const query = searchTerm.trim().toLowerCase();\r\n        if (!query) return statusFiltered;\r\n\r\n        return statusFiltered.filter(e => (\r\n            e.name.toLowerCase().includes(query)\r\n            || e.type.toLowerCase().includes(query)\r\n            || e.subject.toLowerCase().includes(query)\r\n        ));\r\n    }, [activeTab, normalizedEvaluations, searchTerm, role]);\r\n\r\n    // User View Filters\r\n    const userMyEvaluations = useMemo(() => {\r\n        return normalizedEvaluations.filter(e => e.status === '진행중' || e.status === '예정');\r\n    }, [normalizedEvaluations]);\r\n\r\n    const userCompletedEvaluations = useMemo(() => {\r\n        return normalizedEvaluations.filter(e => e.status === '완료');\r\n    }, [normalizedEvaluations]);\r\n\r\n    // Actions\r\n    const addEvaluation = useCallback((newEvaluationData: Omit<Evaluation, 'id' | 'status' | 'progress' | 'score' | 'answers'>) => {\r\n        const id = Date.now();\r\n        const status = (newEvaluationData as any).startDate <= today ? '진행중' as const : '예정' as const;\r\n        const evaluationToAdd: Evaluation = {\r\n            ...newEvaluationData as any,\r\n            id,\r\n            status,\r\n            progress: 0,\r\n            score: null,\r\n            answers: {}\r\n        };\r\n        setEvaluations(prev => [...prev, evaluationToAdd]);\r\n    }, [today]);\r\n\r\n    const updateEvaluation = useCallback((id: number | string, updates: Partial<Evaluation>) => {\r\n        setEvaluations(prev => prev.map(e =>\r\n            e.id === id ? { ...e, ...updates } : e\r\n        ));\r\n    }, []);\r\n\r\n    return {\r\n        evaluations,\r\n        normalizedEvaluations,\r\n        filteredEvaluations,\r\n        templates,\r\n        teams,\r\n        isLoading,\r\n        error,\r\n        activeTab,\r\n        searchTerm,\r\n        evaluationWeights,\r\n        userMyEvaluations,\r\n        userCompletedEvaluations,\r\n        setActiveTab,\r\n        setSearchTerm,\r\n        setEvaluationWeights,\r\n        addEvaluation,\r\n        updateEvaluation,\r\n        tabs,\r\n        today,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useImportExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useLibraryFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\evaluation\\useMemberSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\useEvaluationLibrary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\useImportExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\useLibraryFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\useTemplateActions.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (237). Maximum allowed is 100.","line":17,"column":35,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":272,"endColumn":2},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":41,"column":38,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":60,"endColumn":30},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":44,"column":57,"nodeType":null,"messageId":"unusedVar","endLine":44,"endColumn":58},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":111,"column":42,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":111,"endColumn":118},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is assigned a value but never used.","line":147,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":147,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":197,"column":53,"nodeType":null,"messageId":"unusedVar","endLine":197,"endColumn":54},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":238,"column":38,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":238,"endColumn":116}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback } from 'react';\nimport { EvaluationTemplate, currentUser } from '../../constants';\nimport { useAsyncOperation } from '../common/useAsyncOperation';\nimport { useConfirmation } from '../common/useConfirmation';\n\ninterface UseTemplateActionsProps {\n    templates: EvaluationTemplate[];\n    setTemplates: React.Dispatch<React.SetStateAction<EvaluationTemplate[]>>;\n    editingTemplate: EvaluationTemplate | null;\n    setEditingTemplate: React.Dispatch<React.SetStateAction<EvaluationTemplate | null>>;\n    setView: React.Dispatch<React.SetStateAction<string>>;\n    selectedIds: Set<string | number>;\n    deselectAll: () => void;\n    setIsSelectionMode: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const useTemplateActions = ({\n    templates,\n    setTemplates,\n    editingTemplate,\n    setEditingTemplate,\n    setView,\n    selectedIds,\n    deselectAll,\n    setIsSelectionMode,\n}: UseTemplateActionsProps) => {\n    const [confirmation, confirmationActions] = useConfirmation();\n    const [saveOperation, saveOperationActions] = useAsyncOperation();\n    const [deleteOperation, deleteOperationActions] = useAsyncOperation();\n    const [duplicateOperation, duplicateOperationActions] = useAsyncOperation();\n\n    const isBusy = saveOperation.isLoading || deleteOperation.isLoading || duplicateOperation.isLoading;\n\n    const handleSaveTemplate = useCallback(\n        async (newTemplateData: EvaluationTemplate) => {\n            await saveOperationActions.execute(\n                async () => {\n                    if (editingTemplate) {\n                        // Edit existing\n                        setTemplates((prev) =>\n                            prev.map((t) => {\n                                if (t.id !== editingTemplate.id) return t;\n                                const prevVersion = t.version || 1;\n                                const { versionHistory: _, ...snapshotData } = t;\n                                const newHistoryEntry = {\n                                    version: prevVersion,\n                                    savedAt: t.lastUpdated,\n                                    savedBy: t.author,\n                                    snapshot: snapshotData as Omit<EvaluationTemplate, 'versionHistory'>,\n                                };\n                                const existingHistory = t.versionHistory || [];\n                                return {\n                                    ...t,\n                                    ...newTemplateData,\n                                    version: prevVersion + 1,\n                                    favorite: t.favorite,\n                                    archived: t.archived,\n                                    versionHistory: [...existingHistory, newHistoryEntry].slice(-10),\n                                };\n                            })\n                        );\n                    } else {\n                        // Add new\n                        setTemplates((prev) => [\n                            ...prev,\n                            { ...newTemplateData, favorite: false, archived: false, version: 1 },\n                        ]);\n                    }\n                    return 'success';\n                },\n                {\n                    successMessage: editingTemplate\n                        ? '템플릿이 성공적으로 수정되었습니다.'\n                        : '템플릿이 성공적으로 추가되었습니다.',\n                    errorMessage: `템플릿 ${editingTemplate ? '수정' : '추가'} 중 오류가 발생했습니다.`,\n                    onSuccess: () => {\n                        setView('list');\n                        setEditingTemplate(null);\n                    },\n                }\n            );\n        },\n        [editingTemplate, saveOperationActions, setTemplates, setView, setEditingTemplate]\n    );\n\n    const handleEditTemplate = useCallback(\n        (templateId: string | number) => {\n            const templateToEdit = templates.find((t) => t.id === templateId);\n            if (templateToEdit && !templateToEdit.archived) {\n                setEditingTemplate(templateToEdit);\n                setView('editor');\n            }\n        },\n        [templates, setEditingTemplate, setView]\n    );\n\n    const handleArchiveTemplate = useCallback(\n        (templateId: string | number) => {\n            const template = templates.find((t) => t.id === templateId);\n            if (!template) return;\n\n            confirmationActions.showConfirmation({\n                title: '템플릿 보관',\n                message: `'${template.name}' 템플릿을 보관하시겠습니까? 보관된 템플릿은 목록에서 숨겨집니다.`,\n                confirmButtonText: '보관',\n                confirmButtonColor: 'destructive',\n                onConfirm: async () => {\n                    await deleteOperationActions.execute(\n                        async () => {\n                            setTemplates((prev) =>\n                                prev.map((t) => (t.id === templateId ? { ...t, archived: true, favorite: false } : t))\n                            );\n                            return 'success';\n                        },\n                        {\n                            successMessage: '템플릿이 보관되었습니다.',\n                            errorMessage: '템플릿 보관 중 오류가 발생했습니다.',\n                        }\n                    );\n                },\n            });\n        },\n        [templates, confirmationActions, deleteOperationActions, setTemplates]\n    );\n\n    const handleRestoreTemplate = useCallback(\n        (templateId: string | number) => {\n            setTemplates((prev) => prev.map((t) => (t.id === templateId ? { ...t, archived: false } : t)));\n        },\n        [setTemplates]\n    );\n\n    const handleToggleFavorite = useCallback(\n        (templateId: string | number) => {\n            setTemplates((prev) => prev.map((t) => (t.id === templateId ? { ...t, favorite: !t.favorite } : t)));\n        },\n        [setTemplates]\n    );\n\n    const handleDuplicateTemplate = useCallback(\n        async (templateId: string | number) => {\n            const templateToDuplicate = templates.find((t) => t.id === templateId);\n            if (!templateToDuplicate) return;\n\n            await duplicateOperationActions.execute(\n                async () => {\n                    const { id, ...dataToDuplicate } = templateToDuplicate;\n                    const baseName = templateToDuplicate.name.replace(/\\s*\\(복사본(?:\\s*\\d+)?\\)\\s*$/, '');\n                    const existingNames = templates.map((t) => t.name);\n                    let newName = `${baseName} (복사본)`;\n                    let counter = 2;\n                    while (existingNames.includes(newName)) {\n                        newName = `${baseName} (복사본 ${counter})`;\n                        counter++;\n                    }\n\n                    const newTemplate = {\n                        ...dataToDuplicate,\n                        id: Date.now() + Math.random(),\n                        name: newName,\n                        author: currentUser.name,\n                        lastUpdated: new Date().toISOString().split('T')[0],\n                        version: 1,\n                        favorite: false,\n                        archived: false,\n                    };\n                    setTemplates((prev) => [...prev, newTemplate]);\n                    return 'success';\n                },\n                {\n                    successMessage: '템플릿이 성공적으로 복사되었습니다.',\n                    errorMessage: '템플릿 복사 중 오류가 발생했습니다.',\n                }\n            );\n        },\n        [templates, duplicateOperationActions, setTemplates]\n    );\n\n    const handleRestoreVersion = useCallback(\n        (templateId: string | number, version: number, setPreviewTemplate: (t: any) => void) => {\n            const template = templates.find((t) => t.id === templateId);\n            if (!template || !template.versionHistory) return;\n\n            const historyEntry = template.versionHistory.find((h) => h.version === version);\n            if (!historyEntry) return;\n\n            confirmationActions.showConfirmation({\n                title: '버전 복원',\n                message: `v${version}으로 복원하시겠습니까? 현재 버전의 내용은 히스토리에 저장됩니다.`,\n                confirmButtonText: '복원',\n                confirmButtonColor: 'outline',\n                onConfirm: async () => {\n                    setTemplates((prev) =>\n                        prev.map((t) => {\n                            if (t.id !== templateId) return t;\n                            const currentVersion = t.version || 1;\n                            const { versionHistory: _, ...currentSnapshotData } = t;\n                            const newHistoryEntry = {\n                                version: currentVersion,\n                                savedAt: t.lastUpdated,\n                                savedBy: t.author,\n                                changeNote: '복원 전 자동 저장',\n                                snapshot: currentSnapshotData as Omit<EvaluationTemplate, 'versionHistory'>,\n                            };\n                            const existingHistory = t.versionHistory || [];\n                            return {\n                                ...t,\n                                ...historyEntry.snapshot,\n                                id: t.id,\n                                version: currentVersion + 1,\n                                lastUpdated: new Date().toISOString().split('T')[0],\n                                author: currentUser.name,\n                                favorite: t.favorite,\n                                archived: t.archived,\n                                versionHistory: [...existingHistory, newHistoryEntry].slice(-10),\n                            };\n                        })\n                    );\n                    setPreviewTemplate(null);\n                },\n            });\n        },\n        [templates, confirmationActions, setTemplates]\n    );\n\n    const handleBatchArchive = useCallback(() => {\n        if (selectedIds.size === 0) return;\n\n        confirmationActions.showConfirmation({\n            title: '템플릿 일괄 보관',\n            message: `선택한 ${selectedIds.size}개의 템플릿을 보관하시겠습니까?`,\n            confirmButtonText: '보관',\n            confirmButtonColor: 'destructive',\n            onConfirm: async () => {\n                await deleteOperationActions.execute(\n                    async () => {\n                        setTemplates((prev) =>\n                            prev.map((t) => (selectedIds.has(t.id) ? { ...t, archived: true, favorite: false } : t))\n                        );\n                        deselectAll(); // Clear selection\n                        setIsSelectionMode(false);\n                        return 'success';\n                    },\n                    {\n                        successMessage: `${selectedIds.size}개의 템플릿이 보관되었습니다.`,\n                        errorMessage: '템플릿 보관 중 오류가 발생했습니다.',\n                    }\n                );\n            },\n        });\n    }, [selectedIds, confirmationActions, deleteOperationActions, setTemplates, deselectAll, setIsSelectionMode]);\n\n    const handleCancel = useCallback(() => {\n        setView('list');\n        setEditingTemplate(null);\n    }, [setView, setEditingTemplate]);\n\n    return {\n        confirmation,\n        confirmationActions,\n        isBusy,\n        handleSaveTemplate,\n        handleEditTemplate,\n        handleArchiveTemplate,\n        handleRestoreTemplate,\n        handleToggleFavorite,\n        handleDuplicateTemplate,\n        handleRestoreVersion,\n        handleBatchArchive,\n        handleCancel,\n    };\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\useTemplateManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\library\\useTemplateSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\memberStateUtils.ts","messages":[{"ruleId":"complexity","severity":1,"message":"Arrow function has a complexity of 22. Maximum allowed is 15.","line":111,"column":29,"nodeType":"ArrowFunctionExpression","messageId":"complex","endLine":111,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Member as MemberType, Part, Team } from '../../constants';\n\nexport const findMemberLocation = (\n    teams: Team[],\n    memberId: string\n): { teamId: string | null; partId: string | null } => {\n    for (const team of teams) {\n        for (const part of team.parts) {\n            if (part.members.some((m) => m.id === memberId)) {\n                return { teamId: team.id, partId: part.id };\n            }\n        }\n    }\n    return { teamId: null, partId: null };\n};\n\nexport const updateMemberInTeams = (teams: Team[], teamId: string, partId: string, memberData: MemberType): Team[] => {\n    return teams.map((team: Team) => {\n        if (team.id === teamId) {\n            return {\n                ...team,\n                parts: team.parts.map((p: Part) => {\n                    if (p.id === partId) {\n                        const memberIndex = p.members.findIndex((m: MemberType) => m.id === memberData.id);\n                        if (memberIndex > -1) {\n                            const updatedMembers = [...p.members];\n                            updatedMembers[memberIndex] = memberData;\n                            return { ...p, members: updatedMembers };\n                        } else {\n                            const newMember = { ...memberData };\n                            if (!newMember.id)\n                                newMember.id = `member_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n                            return { ...p, members: [...p.members, newMember] };\n                        }\n                    }\n                    return p;\n                }),\n            };\n        }\n        return team;\n    });\n};\n\nexport const addMemberToTeams = (teams: Team[], teamId: string, partId: string, memberData: MemberType): Team[] => {\n    return teams.map((team: Team) => {\n        if (team.id === teamId) {\n            return {\n                ...team,\n                parts: team.parts.map((p: Part) => {\n                    if (p.id === partId) {\n                        const newMember = { ...memberData };\n                        if (!newMember.id) {\n                            newMember.id = `member_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n                        }\n                        const memberExists = p.members.some((m: MemberType) => m.id === newMember.id);\n                        if (!memberExists) {\n                            return { ...p, members: [...p.members, newMember] };\n                        }\n                    }\n                    return p;\n                }),\n            };\n        }\n        return team;\n    });\n};\n\nexport const removeMemberFromTeams = (teams: Team[], teamId: string, partId: string, memberId: string): Team[] => {\n    return teams.map((team: Team) => {\n        if (team.id === teamId) {\n            return {\n                ...team,\n                parts: team.parts.map((part: Part) => {\n                    if (part.id === partId) {\n                        return {\n                            ...part,\n                            members: part.members.filter((m: MemberType) => m.id !== memberId),\n                        };\n                    }\n                    return part;\n                }),\n            };\n        }\n        return team;\n    });\n};\n\nexport const moveMemberInTeams = (\n    teams: Team[],\n    oldLocation: { teamId: string; partId: string },\n    newLocation: { teamId: string; partId: string },\n    memberData: MemberType\n): Team[] => {\n    let updatedTeams = removeMemberFromTeams(teams, oldLocation.teamId, oldLocation.partId, memberData.id);\n    updatedTeams = addMemberToTeams(updatedTeams, newLocation.teamId, newLocation.partId, memberData);\n    return updatedTeams;\n};\n\ninterface TeamLeadUpdateOptions {\n    setTeamLead?: boolean;\n    clearTeamLead?: boolean;\n}\n\nexport const updateTeamLeadsInTeams = (\n    teams: Team[],\n    teamId: string,\n    memberData: MemberType,\n    originalRecord: { teamId: string; partId: string; member: MemberType } | null,\n    options?: TeamLeadUpdateOptions\n): Team[] => {\n    return teams.map((team) => {\n        let nextLead = team.lead;\n        const isTargetTeam = team.id === teamId;\n\n        if (options?.setTeamLead && isTargetTeam && memberData.status !== 'resigned' && memberData.name.trim()) {\n            nextLead = memberData.name;\n        }\n\n        if (!options?.setTeamLead && options?.clearTeamLead && isTargetTeam && originalRecord) {\n            if (nextLead === originalRecord.member.name || nextLead === memberData.name) {\n                nextLead = '';\n            }\n        }\n\n        if (originalRecord && team.id === originalRecord.teamId) {\n            const originalName = originalRecord.member.name;\n            const isSameTeam = originalRecord.teamId === teamId;\n\n            if (!isSameTeam || memberData.status === 'resigned') {\n                if (nextLead === originalName) {\n                    nextLead = '';\n                }\n            } else if (originalName !== memberData.name && nextLead === originalName) {\n                nextLead = memberData.name;\n            }\n        }\n\n        return nextLead === team.lead ? team : { ...team, lead: nextLead };\n    });\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useMemberForm.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (144). Maximum allowed is 100.","line":29,"column":30,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":203,"endColumn":2},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleCloseRequest'. Either include it or remove the dependency array.","line":54,"column":8,"nodeType":"ArrayExpression","endLine":54,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [handleCloseRequest, isOpen]","fix":{"range":[1569,1577],"text":"[handleCloseRequest, isOpen]"}}]},{"ruleId":"complexity","severity":1,"message":"Arrow function has a complexity of 19. Maximum allowed is 15.","line":57,"column":18,"nodeType":"ArrowFunctionExpression","messageId":"complex","endLine":57,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback, useEffect, useState } from 'react';\nimport { Member, Team } from '../../constants';\nimport { findMemberLocation } from './memberStateUtils';\n\nexport interface MemberFormData {\n    id: string;\n    name: string;\n    role: string;\n    avatar: string;\n    hireDate: string;\n    email: string;\n    status: Member['status'];\n    teamId: string;\n    partId: string;\n}\n\nconst initialFormState: MemberFormData = {\n    id: '',\n    name: '',\n    role: '',\n    avatar: '',\n    hireDate: '',\n    email: '',\n    status: 'active',\n    teamId: '',\n    partId: '',\n};\n\nexport const useMemberForm = (\n    isOpen: boolean,\n    teams: Team[],\n    memberData: Member | null,\n    context: { teamId: string; partId: string } | null,\n    onClose: () => void\n) => {\n    const [formData, setFormData] = useState<MemberFormData>(initialFormState);\n    const [displayEmail, setDisplayEmail] = useState('');\n    const [showConfirmation, setShowConfirmation] = useState(false);\n    const [initialFormData, setInitialFormData] = useState<MemberFormData>(initialFormState);\n    const [keepAdding, setKeepAdding] = useState(false);\n    const [assignTeamLead, setAssignTeamLead] = useState(false);\n\n    // ESC handling\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Escape' && isOpen) {\n                handleCloseRequest();\n            }\n        };\n\n        if (!isOpen) return;\n        document.addEventListener('keydown', handleKeyDown);\n        return () => document.removeEventListener('keydown', handleKeyDown);\n    }, [isOpen]);\n\n    // Initialization\n    useEffect(() => {\n        if (isOpen) {\n            if (memberData) {\n                const location = findMemberLocation(teams, memberData.id);\n                // Note: findMemberLocation assumes logic matches memberUtils.\n                // But wait, in existing code it defined findMemberLocation inside useEffect.\n                // We use our util now.\n\n                const teamLead = teams.find((team) => team.id === location.teamId)?.lead || '';\n                const email = memberData.email || '';\n\n                // Fallback if location not found, use memberData fields directly if exist\n                // Assuming memberData might have teamId/partId attached if they came from certain parts of app.\n                // Member type definition in constants/types.ts might not strict on teamId/partId presence.\n                // The provided Member type has optional teamId/partId? Checking constants.\n                // Assuming Member type has them optionally.\n\n                const safeTeamId = location.teamId || (memberData as any).teamId || '';\n                const safePartId = location.partId || (memberData as any).partId || '';\n\n                const newFormData: MemberFormData = {\n                    id: memberData.id,\n                    name: memberData.name || '',\n                    role: memberData.role || '',\n                    avatar: memberData.avatar || '',\n                    hireDate: memberData.hireDate || '',\n                    email: email,\n                    status: memberData.status || 'active',\n                    teamId: safeTeamId,\n                    partId: safePartId,\n                };\n\n                setFormData(newFormData);\n                setInitialFormData({ ...newFormData });\n                setAssignTeamLead(teamLead === memberData.name);\n\n                if (email.endsWith('@forcs.com')) {\n                    setDisplayEmail(email.replace('@forcs.com', ''));\n                } else {\n                    setDisplayEmail(email);\n                }\n            } else if (context) {\n                const teamLead = teams.find((team) => team.id === context.teamId)?.lead || '';\n                const newFormData: MemberFormData = {\n                    ...initialFormState,\n                    teamId: context.teamId,\n                    partId: context.partId,\n                };\n                setFormData(newFormData);\n                setInitialFormData({ ...newFormData });\n                setDisplayEmail('');\n                setAssignTeamLead(!teamLead);\n            }\n            setKeepAdding(false);\n        }\n    }, [memberData, context, isOpen, teams]);\n\n    useEffect(() => {\n        if (formData.status === 'resigned' && assignTeamLead) {\n            setAssignTeamLead(false);\n        }\n    }, [formData.status, assignTeamLead]);\n\n    const hasChanges = useCallback(() => {\n        const currentEmail = formData.email || '';\n        const effectiveDisplayEmail = currentEmail.endsWith('@forcs.com')\n            ? currentEmail.replace('@forcs.com', '')\n            : currentEmail;\n\n        return JSON.stringify(formData) !== JSON.stringify(initialFormData) || displayEmail !== effectiveDisplayEmail;\n    }, [formData, initialFormData, displayEmail]);\n\n    const handleCloseRequest = useCallback(() => {\n        if (hasChanges()) {\n            setShowConfirmation(true);\n        } else {\n            onClose();\n        }\n    }, [hasChanges, onClose]);\n\n    const handleConfirmClose = useCallback(() => {\n        setShowConfirmation(false);\n        onClose();\n    }, [onClose]);\n\n    const handleChange = useCallback(\n        (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\n            const { name, value } = e.target;\n            setFormData((prev) => ({ ...prev, [name]: value }));\n        },\n        []\n    );\n\n    const handleEmailChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value;\n        setDisplayEmail(value);\n        if (value.includes('@')) {\n            setFormData((prev) => ({ ...prev, email: value }));\n        } else {\n            setFormData((prev) => ({ ...prev, email: value ? `${value}@forcs.com` : '' }));\n        }\n    }, []);\n\n    const handleTeamChange = useCallback(\n        (e: React.ChangeEvent<HTMLSelectElement>) => {\n            const newTeamId = e.target.value;\n            // Logic to select first part of new team\n            const firstPartIdOfNewTeam = teams.find((t) => t.id === newTeamId)?.parts[0]?.id || '';\n            setFormData((prev) => ({ ...prev, teamId: newTeamId, partId: firstPartIdOfNewTeam }));\n        },\n        [teams]\n    );\n\n    const resetForm = useCallback(() => {\n        const resetData: MemberFormData = {\n            ...initialFormState,\n            teamId: formData.teamId,\n            partId: formData.partId,\n        };\n        setFormData(resetData);\n        setInitialFormData({ ...resetData });\n        setDisplayEmail('');\n    }, [formData.teamId, formData.partId]);\n\n    const updateInitialData = useCallback(() => {\n        setInitialFormData({ ...formData });\n    }, [formData]);\n\n    return {\n        formData,\n        setFormData,\n        displayEmail,\n        showConfirmation,\n        setShowConfirmation,\n        keepAdding,\n        setKeepAdding,\n        assignTeamLead,\n        setAssignTeamLead,\n        handleChange,\n        handleEmailChange,\n        handleTeamChange,\n        handleCloseRequest,\n        handleConfirmClose,\n        resetForm,\n        updateInitialData,\n    };\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useMemberManagement.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (209). Maximum allowed is 100.","line":24,"column":36,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":279,"endColumn":2},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'location' is assigned a value but never used.","line":174,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":174,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'prev' is defined but never used. Allowed unused args must match /^_/u.","line":223,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":223,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Dispatch, SetStateAction, useCallback, useState } from 'react';\nimport { Member as MemberType, Team } from '../../constants';\nimport { useError } from '../../contexts/ErrorContext';\nimport { useAsyncOperation } from '../common/useAsyncOperation';\nimport { useConfirmation } from '../common/useConfirmation';\nimport {\n    addMemberToTeams,\n    moveMemberInTeams,\n    removeMemberFromTeams,\n    updateMemberInTeams,\n    updateTeamLeadsInTeams,\n} from './memberStateUtils';\n\n/**\n * 멤버 관리 로직을 처리하는 커스텀 훅\n */\ninterface SaveMemberOptions {\n    keepOpen?: boolean;\n    onSuccess?: () => void;\n    setTeamLead?: boolean;\n    clearTeamLead?: boolean;\n}\n\nexport const useMemberManagement = (teams: Team[], setTeams: Dispatch<SetStateAction<Team[]>>) => {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [editingMember, setEditingMember] = useState<MemberType | null>(null);\n    const [modalContext, setModalContext] = useState<{ teamId: string; partId: string } | null>(null);\n\n    const [confirmation, confirmationActions] = useConfirmation();\n    const [saveOperation, saveOperationActions] = useAsyncOperation();\n    const [deleteOperation, deleteOperationActions] = useAsyncOperation();\n    const { showError } = useError();\n\n    // 멤버 추가 모달 열기\n    const handleAddMember = useCallback((teamId: string, partId: string) => {\n        setEditingMember(null);\n        setModalContext({ teamId, partId });\n        setIsModalOpen(true);\n    }, []);\n\n    // 멤버 편집 모달 열기\n    const handleEditMember = useCallback((member: MemberType) => {\n        setEditingMember(member);\n        setModalContext(null);\n        setIsModalOpen(true);\n    }, []);\n\n    // 멤버 위치 찾기 유틸리티\n    const findMemberLocation = useCallback(\n        (memberToFind: MemberType) => {\n            for (const team of teams) {\n                for (const part of team.parts) {\n                    if (part.members.some((m) => m.id === memberToFind.id)) {\n                        return { teamId: team.id, partId: part.id };\n                    }\n                }\n            }\n            return { teamId: null, partId: null };\n        },\n        [teams]\n    );\n\n    // 멤버 저장 로직\n    const findMemberRecord = useCallback(\n        (memberId: string) => {\n            for (const team of teams) {\n                for (const part of team.parts) {\n                    const member = part.members.find((m) => m.id === memberId);\n                    if (member) {\n                        return { teamId: team.id, partId: part.id, member };\n                    }\n                }\n            }\n            return null;\n        },\n        [teams]\n    );\n\n    const handleSaveMember = useCallback(\n        async (\n            data: MemberType & { teamId: string; partId: string },\n            isEditing: boolean,\n            options?: SaveMemberOptions\n        ) => {\n            const { teamId, partId, ...memberData } = data;\n            const originalRecord = memberData.id ? findMemberRecord(memberData.id) : null;\n\n            await saveOperationActions.execute(\n                async () => {\n                    let updatedTeams: Team[] = teams;\n\n                    if (isEditing) {\n                        const oldLocation = findMemberLocation(memberData);\n\n                        if (\n                            oldLocation.teamId &&\n                            oldLocation.partId &&\n                            (oldLocation.teamId !== teamId || oldLocation.partId !== partId)\n                        ) {\n                            // 팀/파트 이동\n                            updatedTeams = moveMemberInTeams(\n                                teams,\n                                { teamId: oldLocation.teamId, partId: oldLocation.partId },\n                                { teamId, partId },\n                                memberData\n                            );\n                        } else {\n                            // 정보 업데이트\n                            updatedTeams = updateMemberInTeams(teams, teamId, partId, memberData);\n                        }\n                    } else {\n                        // 새 멤버 추가\n                        updatedTeams = addMemberToTeams(teams, teamId, partId, memberData);\n                    }\n\n                    // 팀장 정보 업데이트\n                    const nextTeams = updateTeamLeadsInTeams(updatedTeams, teamId, memberData, originalRecord, options);\n\n                    setTeams(nextTeams);\n                    return 'success';\n                },\n                {\n                    successMessage: isEditing\n                        ? '멤버 정보가 성공적으로 업데이트되었습니다.'\n                        : '새 멤버가 성공적으로 추가되었습니다.',\n                    errorMessage: `멤버 ${isEditing ? '수정' : '추가'} 중 오류가 발생했습니다.`,\n                    onSuccess: () => {\n                        if (!options?.keepOpen) {\n                            setIsModalOpen(false);\n                            setEditingMember(null);\n                            setModalContext(null);\n                        } else {\n                            setEditingMember(null);\n                        }\n                        options?.onSuccess?.();\n                    },\n                }\n            );\n        },\n        [saveOperationActions, findMemberLocation, findMemberRecord, teams, setTeams]\n    );\n\n    // 멤버 퇴사 처리\n    const handleDeleteMember = useCallback(\n        (memberToDelete: MemberType) => {\n            const location = findMemberLocation(memberToDelete);\n\n            if (!location.teamId || !location.partId) {\n                showError('오류: 멤버의 소속을 찾을 수 없어 퇴사 처리할 수 없습니다.');\n                return;\n            }\n\n            confirmationActions.showConfirmation({\n                title: '퇴사 처리 확인',\n                message: `${memberToDelete.name}님을 퇴사 처리하시겠습니까? 이 작업은 되돌릴 수 있지만, 조직도에서 즉시 제외됩니다.`,\n                onConfirm: async () => {\n                    const updatedMemberData = { ...memberToDelete, status: 'resigned' as const };\n                    // Using handleSaveMember to update status, ensuring teamId and partId are passed\n                    await handleSaveMember(\n                        { ...updatedMemberData, teamId: location.teamId!, partId: location.partId! },\n                        true\n                    );\n                },\n                confirmButtonText: '퇴사 처리',\n                confirmButtonColor: 'destructive',\n            });\n        },\n        [findMemberLocation, confirmationActions, showError, handleSaveMember]\n    );\n\n    // 퇴사자 기록 영구 삭제\n    const handleDeleteResignedMember = useCallback(\n        (memberToDelete: MemberType) => {\n            const location = findMemberLocation(memberToDelete); // Ideally we know where they are, or we search\n\n            // If 'memberToDelete' has teamId/partId attached we can use it, but safe to search if not sure\n            // Actually resigned members might be in a team part but status is resigned.\n            // Or if we display them in a list, we should know their ID.\n            // Logic in original file used memberToDelete.teamId and memberToDelete.partId assuming they are set.\n            // Let's assume memberToDelete has valid location if passed from list.\n            // But let's be safe.\n\n            const targetTeamId = memberToDelete.teamId;\n            const targetPartId = memberToDelete.partId;\n\n            // Note: memberToDelete might not have teamId/partId directly if it comes from a generic MemberType view.\n            // However, in the original code, it accessed memberToDelete.teamId directly in handleDeleteResignedMember.\n            // So we assume it's enriched or stored.\n\n            confirmationActions.showConfirmation({\n                title: '기록 영구 삭제',\n                message: `${memberToDelete.name}님의 퇴사 기록을 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`,\n                onConfirm: async () => {\n                    await deleteOperationActions.execute(\n                        async () => {\n                            if (targetTeamId && targetPartId) {\n                                const updatedTeams = removeMemberFromTeams(\n                                    teams,\n                                    targetTeamId,\n                                    targetPartId,\n                                    memberToDelete.id\n                                );\n\n                                // Clear lead if needed\n                                const nextTeams = updatedTeams.map((team) => {\n                                    if (team.id === targetTeamId && team.lead === memberToDelete.name) {\n                                        return { ...team, lead: '' };\n                                    }\n                                    return team;\n                                });\n\n                                setTeams(nextTeams);\n                            } else {\n                                // Fallback: Use location finder if properties missing\n                                const loc = findMemberLocation(memberToDelete);\n                                if (loc.teamId && loc.partId) {\n                                    const updatedTeams = removeMemberFromTeams(\n                                        teams,\n                                        loc.teamId,\n                                        loc.partId,\n                                        memberToDelete.id\n                                    );\n                                    setTeams((prev) => updatedTeams); // simplistic\n                                }\n                            }\n\n                            return 'success';\n                        },\n                        {\n                            successMessage: '멤버 기록이 영구적으로 삭제되었습니다.',\n                            errorMessage: '멤버 삭제 중 오류가 발생했습니다.',\n                        }\n                    );\n                },\n                confirmButtonText: '영구 삭제',\n                confirmButtonColor: 'destructive',\n            });\n        },\n        [confirmationActions, deleteOperationActions, teams, setTeams, findMemberLocation]\n    );\n\n    // 멤버 복직 처리\n    const handleReinstateMember = useCallback(\n        (memberToReinstate: MemberType) => {\n            confirmationActions.showConfirmation({\n                title: '복직 처리 확인',\n                message: `${memberToReinstate.name}님을 복직 처리하시겠습니까? 멤버가 조직도에 다시 표시됩니다.`,\n                onConfirm: async () => {\n                    const updatedMember = { ...memberToReinstate, status: 'active' as const };\n                    if (updatedMember.teamId && updatedMember.partId) {\n                        await handleSaveMember(updatedMember as MemberType & { teamId: string; partId: string }, true);\n                    } else {\n                        showError('멤버를 복직 처리할 수 없습니다. 소속 정보가 누락되었습니다.');\n                    }\n                },\n                confirmButtonText: '복직 처리',\n                confirmButtonColor: 'outline',\n            });\n        },\n        [confirmationActions, showError, handleSaveMember]\n    );\n\n    return {\n        isModalOpen,\n        setIsModalOpen,\n        editingMember,\n        modalContext,\n        saveOperation,\n        deleteOperation,\n        confirmation,\n        handleAddMember,\n        handleEditMember,\n        handleDeleteMember,\n        handleDeleteResignedMember,\n        handleReinstateMember,\n        handleSaveMember,\n        confirmationActions,\n    };\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useOrganizationData.ts","messages":[{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":122,"column":38,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":128,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { Team, Headquarter, initialTeamsData, initialHeadquarters } from '../../constants';\r\nimport { useNetworkStatus } from '../common/useNetworkStatus';\r\nimport { useError } from '../../contexts/ErrorContext';\r\nimport { useAsyncOperation } from '../common/useAsyncOperation';\r\nimport { useConfirmation } from '../common/useConfirmation';\r\n\r\n/**\r\n * localStorage 키 상수\r\n */\r\nconst STORAGE_KEYS = {\r\n    TEAMS: 'cb-hr-gpt-teams',\r\n    HEADQUARTERS: 'cb-hr-gpt-headquarters',\r\n} as const;\r\n\r\n/**\r\n * localStorage에서 데이터를 로드하는 헬퍼 함수\r\n */\r\nconst loadFromStorage = <T>(key: string, fallback: T): T => {\r\n    try {\r\n        const stored = localStorage.getItem(key);\r\n        if (stored) {\r\n            return JSON.parse(stored) as T;\r\n        }\r\n    } catch (error) {\r\n        console.warn(`Failed to load ${key} from localStorage:`, error);\r\n    }\r\n    return fallback;\r\n};\r\n\r\n/**\r\n * localStorage에 데이터를 저장하는 헬퍼 함수\r\n */\r\nconst saveToStorage = <T>(key: string, data: T): void => {\r\n    try {\r\n        localStorage.setItem(key, JSON.stringify(data));\r\n    } catch (error) {\r\n        console.warn(`Failed to save ${key} to localStorage:`, error);\r\n    }\r\n};\r\n\r\n/**\r\n * localStorage 데이터를 초기화하는 함수\r\n */\r\nconst clearStorage = (): void => {\r\n    try {\r\n        localStorage.removeItem(STORAGE_KEYS.TEAMS);\r\n        localStorage.removeItem(STORAGE_KEYS.HEADQUARTERS);\r\n    } catch (error) {\r\n        console.warn('Failed to clear localStorage:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * 조직 관리 데이터(본부, 팀, 파트, 구성원)를 위한 커스텀 훅\r\n */\r\nexport const useOrganizationData = () => {\r\n    // localStorage에서 초기 데이터 로드 (없으면 기본값 사용)\r\n    const [teams, setTeams] = useState<Team[]>(() =>\r\n        loadFromStorage(STORAGE_KEYS.TEAMS, initialTeamsData)\r\n    );\r\n    const [headquarters, setHeadquarters] = useState<Headquarter[]>(() =>\r\n        loadFromStorage(STORAGE_KEYS.HEADQUARTERS, initialHeadquarters)\r\n    );\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const [networkState] = useNetworkStatus();\r\n    const { showSuccess } = useError();\r\n    const [seedOperation, seedOperationActions] = useAsyncOperation();\r\n    const [confirmation, confirmationActions] = useConfirmation();\r\n\r\n    // teams 상태가 변경될 때마다 localStorage에 저장\r\n    useEffect(() => {\r\n        saveToStorage(STORAGE_KEYS.TEAMS, teams);\r\n        if (import.meta.env.DEV) {\r\n            console.log('Teams saved to localStorage:', teams);\r\n        }\r\n    }, [teams]);\r\n\r\n    // headquarters 상태가 변경될 때마다 localStorage에 저장\r\n    useEffect(() => {\r\n        saveToStorage(STORAGE_KEYS.HEADQUARTERS, headquarters);\r\n        if (import.meta.env.DEV) {\r\n            console.log('Headquarters saved to localStorage:', headquarters);\r\n        }\r\n    }, [headquarters]);\r\n\r\n    const handleSeedDatabase = useCallback(async () => {\r\n        confirmationActions.showConfirmation({\r\n            title: '데이터베이스 초기화',\r\n            message: '현재 조직 데이터를 초기 상태로 되돌립니다. 계속하시겠습니까?',\r\n            confirmButtonText: '초기화 진행',\r\n            confirmButtonColor: 'destructive',\r\n            onConfirm: async () => {\r\n                await seedOperationActions.execute(async () => {\r\n                    setIsLoading(true);\r\n                    setError(null);\r\n                    // localStorage도 초기화\r\n                    clearStorage();\r\n                    setTeams(initialTeamsData);\r\n                    setHeadquarters(initialHeadquarters);\r\n                    setIsLoading(false);\r\n                    return 'success';\r\n                }, {\r\n                    successMessage: '조직 데이터가 초기화되었습니다!',\r\n                    errorMessage: '조직 데이터 초기화 중 오류가 발생했습니다.'\r\n                });\r\n            },\r\n        });\r\n    }, [confirmationActions, seedOperationActions]);\r\n\r\n    const stats = useMemo(() => {\r\n        let total = 0;\r\n        let active = 0;\r\n        let intern = 0;\r\n        let onLeave = 0;\r\n        let resigned = 0;\r\n\r\n        teams.forEach(team => {\r\n            team.parts.forEach(part => {\r\n                part.members.forEach(member => {\r\n                    total += 1;\r\n                    if (member.status === 'active') active += 1;\r\n                    else if (member.status === 'intern') intern += 1;\r\n                    else if (member.status === 'on_leave') onLeave += 1;\r\n                    else if (member.status === 'resigned') resigned += 1;\r\n                });\r\n            });\r\n        });\r\n\r\n        return { total, active, intern, onLeave, resigned };\r\n    }, [teams]);\r\n\r\n    const updateHeadquarter = useCallback((updatedHeadquarter: Headquarter) => {\r\n        setHeadquarters(prev => prev.map(hq => (hq.id === updatedHeadquarter.id ? { ...hq, ...updatedHeadquarter } : hq)));\r\n        if (updatedHeadquarter.leader?.name) {\r\n            showSuccess('본부장 정보가 저장되었습니다', `${updatedHeadquarter.leader.name}님으로 변경되었습니다.`);\r\n        }\r\n    }, [showSuccess]);\r\n\r\n    return {\r\n        // 상태 값\r\n        teams,\r\n        setTeams,\r\n        headquarters,\r\n        updateHeadquarter,\r\n        isLoading,\r\n        setIsLoading,\r\n        error,\r\n        setError,\r\n        stats,\r\n        seedOperation,\r\n        confirmation,\r\n\r\n        // 유틸\r\n        handleSeedDatabase,\r\n        confirmationActions,\r\n        seedOperationActions,\r\n\r\n        // 네트워크 상태\r\n        networkState,\r\n    };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useOrganizationFilter.ts","messages":[{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":19,"column":58,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":19,"endColumn":109},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":26,"column":67,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":26,"endColumn":118},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":28,"column":41,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":48,"endColumn":18},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":51,"column":62,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":52,"endColumn":76}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMemo } from 'react';\r\nimport { Team, Member as MemberType } from '../../constants';\r\n\r\n/**\r\n * 조직도 데이터 필터링 및 가공을 처리하는 커스텀 훅\r\n */\r\nexport const useOrganizationFilter = (teams: Team[], searchTerm: string) => {\r\n\r\n    // 활성/비활성 멤버 분리 및 필터링\r\n    const { activeTeams, onLeaveMembers, resignedMembers } = useMemo(() => {\r\n        if (import.meta.env.DEV) {\r\n            console.log('Filtering teams:', teams);\r\n        }\r\n        const onLeave: MemberType[] = [];\r\n        const resigned: MemberType[] = [];\r\n\r\n        const activeTeamsData = JSON.parse(JSON.stringify(teams)).map((team: Team) => {\r\n            team.originalTotalMemberCount = team.parts.reduce(\r\n                (sum, part) => sum + part.members.filter(m => m.status === 'active' || m.status === 'intern').length,\r\n                0\r\n            );\r\n\r\n            team.parts = team.parts.map(part => {\r\n                const activeAndInternMembers: MemberType[] = [];\r\n                const originalMembers = part.members;\r\n                part.originalMemberCount = originalMembers.filter(m => m.status === 'active' || m.status === 'intern').length;\r\n\r\n                originalMembers.forEach(member => {\r\n                    if (member.status === 'on_leave') {\r\n                        onLeave.push({\r\n                            ...member,\r\n                            teamName: team.name,\r\n                            partName: part.title,\r\n                            teamId: team.id,\r\n                            partId: part.id\r\n                        });\r\n                    } else if (member.status === 'resigned') {\r\n                        resigned.push({\r\n                            ...member,\r\n                            teamName: team.name,\r\n                            partName: part.title,\r\n                            teamId: team.id,\r\n                            partId: part.id\r\n                        });\r\n                    } else { // active or intern\r\n                        activeAndInternMembers.push(member);\r\n                    }\r\n                });\r\n\r\n                // 검색어로 필터링\r\n                part.members = activeAndInternMembers.filter(m =>\r\n                    m.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n                );\r\n                return part;\r\n            }).filter(part => !searchTerm || part.members.length > 0);\r\n\r\n            return team;\r\n        });\r\n\r\n        if (import.meta.env.DEV) {\r\n            console.log('Filtered active teams:', activeTeamsData);\r\n        }\r\n        return {\r\n            activeTeams: activeTeamsData,\r\n            onLeaveMembers: onLeave,\r\n            resignedMembers: resigned\r\n        };\r\n    }, [teams, searchTerm]);\r\n\r\n    // 비활성 멤버 필터링\r\n    const filteredInactiveMembers = useMemo(() => {\r\n        const lowercasedFilter = searchTerm.toLowerCase();\r\n        return {\r\n            onLeave: onLeaveMembers.filter(m => m.name.toLowerCase().includes(lowercasedFilter)),\r\n            resigned: resignedMembers.filter(m => m.name.toLowerCase().includes(lowercasedFilter)),\r\n        };\r\n    }, [onLeaveMembers, resignedMembers, searchTerm]);\r\n\r\n    return {\r\n        activeTeams,\r\n        onLeaveMembers,\r\n        resignedMembers,\r\n        filteredInactiveMembers\r\n    };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useOrganizationModals.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Function 'useOrganizationModals' has too many lines (112). Maximum allowed is 100.","line":30,"column":8,"nodeType":"FunctionDeclaration","messageId":"exceed","endLine":165,"endColumn":2},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":51,"column":53,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":64,"endColumn":18},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (5). Maximum allowed is 3.","line":52,"column":64,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":52,"endColumn":86},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":77,"column":47,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":85,"endColumn":26},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (5). Maximum allowed is 3.","line":79,"column":72,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":79,"endColumn":94}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback } from 'react';\r\nimport { Member, Team, Headquarter } from '../../constants';\r\n\r\ninterface UseOrganizationModalsOptions {\r\n    teams: Team[];\r\n    setTeams: React.Dispatch<React.SetStateAction<Team[]>>;\r\n    headquarters: Headquarter[];\r\n    updateHeadquarter: (updated: Headquarter) => void;\r\n}\r\n\r\ninterface UseOrganizationModalsReturn {\r\n    // Member move modal\r\n    isMoveModalOpen: boolean;\r\n    memberToMove: Member | null;\r\n    openMoveModal: (member: Member) => void;\r\n    closeMoveModal: () => void;\r\n    handleMoveMember: (memberId: string, targetTeamId: string, targetPartId: string) => void;\r\n    moveMemberToTeamPart: (memberId: string, targetTeamId: string, targetPartId: string) => void;\r\n    // Headquarter modal\r\n    isHeadquarterModalOpen: boolean;\r\n    headquarterToEdit: Headquarter | null;\r\n    openHeadquarterModal: (hq: Headquarter) => void;\r\n    closeHeadquarterModal: () => void;\r\n    handleSaveHeadquarter: (payload: { id: string; leader: Headquarter['leader']; description?: string; name?: string }) => void;\r\n    // Collapsed headquarters state\r\n    collapsedHeadquarters: Set<string>;\r\n    toggleHeadquarter: (hqId: string) => void;\r\n}\r\n\r\nexport function useOrganizationModals({\r\n    setTeams,\r\n    headquarters,\r\n    updateHeadquarter,\r\n}: UseOrganizationModalsOptions): UseOrganizationModalsReturn {\r\n    // Member move modal state\r\n    const [isMoveModalOpen, setIsMoveModalOpen] = useState(false);\r\n    const [memberToMove, setMemberToMove] = useState<Member | null>(null);\r\n\r\n    // Headquarter modal state\r\n    const [isHeadquarterModalOpen, setIsHeadquarterModalOpen] = useState(false);\r\n    const [headquarterToEdit, setHeadquarterToEdit] = useState<Headquarter | null>(null);\r\n\r\n    // Collapsed headquarters state\r\n    const [collapsedHeadquarters, setCollapsedHeadquarters] = useState<Set<string>>(new Set());\r\n\r\n    // Move member between teams/parts\r\n    const moveMemberToTeamPart = useCallback((memberId: string, targetTeamId: string, targetPartId: string) => {\r\n        setTeams(prevTeams => {\r\n            let memberToMoveData: Member | undefined = undefined;\r\n            const teamsWithoutMember = prevTeams.map(team => {\r\n                const updatedParts = team.parts.map(part => {\r\n                    const memberIndex = part.members.findIndex(m => m.id === memberId);\r\n                    if (memberIndex !== -1 && memberToMoveData === undefined) {\r\n                        memberToMoveData = { ...part.members[memberIndex] };\r\n                        return {\r\n                            ...part,\r\n                            members: [\r\n                                ...part.members.slice(0, memberIndex),\r\n                                ...part.members.slice(memberIndex + 1)\r\n                            ]\r\n                        };\r\n                    }\r\n                    return part;\r\n                });\r\n                return { ...team, parts: updatedParts };\r\n            });\r\n\r\n            if (!memberToMoveData) {\r\n                console.warn('Member not found for moving:', memberId);\r\n                return prevTeams;\r\n            }\r\n\r\n            return teamsWithoutMember.map(team => {\r\n                if (team.id === targetTeamId) {\r\n                    return {\r\n                        ...team,\r\n                        parts: team.parts.map(part => {\r\n                            if (part.id === targetPartId) {\r\n                                const memberExists = part.members.some(m => m.id === memberId);\r\n                                if (!memberExists) {\r\n                                    return { ...part, members: [...part.members, memberToMoveData!] };\r\n                                }\r\n                            }\r\n                            return part;\r\n                        })\r\n                    };\r\n                }\r\n                return team;\r\n            });\r\n        });\r\n    }, [setTeams]);\r\n\r\n    // Member move modal handlers\r\n    const openMoveModal = useCallback((member: Member) => {\r\n        setMemberToMove(member);\r\n        setIsMoveModalOpen(true);\r\n    }, []);\r\n\r\n    const closeMoveModal = useCallback(() => {\r\n        setIsMoveModalOpen(false);\r\n        setMemberToMove(null);\r\n    }, []);\r\n\r\n    const handleMoveMember = useCallback((memberId: string, targetTeamId: string, targetPartId: string) => {\r\n        moveMemberToTeamPart(memberId, targetTeamId, targetPartId);\r\n        closeMoveModal();\r\n    }, [moveMemberToTeamPart, closeMoveModal]);\r\n\r\n    // Headquarter collapse toggle\r\n    const toggleHeadquarter = useCallback((hqId: string) => {\r\n        setCollapsedHeadquarters(prev => {\r\n            const next = new Set(prev);\r\n            if (next.has(hqId)) {\r\n                next.delete(hqId);\r\n            } else {\r\n                next.add(hqId);\r\n            }\r\n            return next;\r\n        });\r\n    }, []);\r\n\r\n    // Headquarter modal handlers\r\n    const openHeadquarterModal = useCallback((hq: Headquarter) => {\r\n        setHeadquarterToEdit(hq);\r\n        setIsHeadquarterModalOpen(true);\r\n    }, []);\r\n\r\n    const closeHeadquarterModal = useCallback(() => {\r\n        setIsHeadquarterModalOpen(false);\r\n        setHeadquarterToEdit(null);\r\n    }, []);\r\n\r\n    const handleSaveHeadquarter = useCallback((payload: { id: string; leader: Headquarter['leader']; description?: string; name?: string }) => {\r\n        const target = headquarters.find(hq => hq.id === payload.id);\r\n        if (!target) return;\r\n\r\n        const updated: Headquarter = {\r\n            ...target,\r\n            leader: payload.leader,\r\n            ...(payload.description !== undefined && { description: payload.description }),\r\n            ...(payload.name !== undefined && { name: payload.name }),\r\n        };\r\n        updateHeadquarter(updated);\r\n        closeHeadquarterModal();\r\n    }, [headquarters, updateHeadquarter, closeHeadquarterModal]);\r\n\r\n    return {\r\n        // Member move\r\n        isMoveModalOpen,\r\n        memberToMove,\r\n        openMoveModal,\r\n        closeMoveModal,\r\n        handleMoveMember,\r\n        moveMemberToTeamPart,\r\n        // Headquarter\r\n        isHeadquarterModalOpen,\r\n        headquarterToEdit,\r\n        openHeadquarterModal,\r\n        closeHeadquarterModal,\r\n        handleSaveHeadquarter,\r\n        // Collapsed\r\n        collapsedHeadquarters,\r\n        toggleHeadquarter,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useOrganizationViewModels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useTeamPartManagement.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (216). Maximum allowed is 100.","line":11,"column":38,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":275,"endColumn":2},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":82,"column":53,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":82,"endColumn":73},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":88,"column":46,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":94,"endColumn":26},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (5). Maximum allowed is 3.","line":92,"column":55,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":92,"endColumn":75},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":168,"column":35,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":171,"endColumn":35},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":225,"column":61,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":225,"endColumn":89},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":230,"column":71,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":230,"endColumn":118},{"ruleId":"max-nested-callbacks","severity":1,"message":"Too many nested callbacks (4). Maximum allowed is 3.","line":236,"column":63,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":236,"endColumn":91}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback } from 'react';\r\nimport { Team, Part, Headquarter, initialHeadquarters, HQ_UNASSIGNED_ID } from '../../constants';\r\nimport { useModal } from '../common/useModal';\r\nimport { useAsyncOperation } from '../common/useAsyncOperation';\r\nimport { useConfirmation } from '../common/useConfirmation';\r\nimport { useError } from '../../contexts/ErrorContext';\r\n\r\n/**\r\n * 팀과 파트 관리 로직을 처리하는 커스텀 훅\r\n */\r\nexport const useTeamPartManagement = (teams: Team[], setTeams: React.Dispatch<React.SetStateAction<Team[]>>, headquarters: Headquarter[] = initialHeadquarters) => {\r\n    const [partModalState, partModalActions] = useModal<{ teamId: string, part?: Part }>();\r\n    const [teamModalState, teamModalActions] = useModal<Team>();\r\n    const [saveOperation, saveOperationActions] = useAsyncOperation();\r\n    const [deleteOperation, deleteOperationActions] = useAsyncOperation();\r\n    const [confirmation, confirmationActions] = useConfirmation();\r\n    const { showError } = useError();\r\n\r\n    // 파트 관련 핸들러\r\n    const openPartModal = useCallback((mode: 'add' | 'edit', data: { teamId: string, part?: Part }) => {\r\n        partModalActions.openModal(mode, data);\r\n    }, [partModalActions]);\r\n\r\n    const closePartModal = useCallback(() => {\r\n        partModalActions.closeModal();\r\n    }, [partModalActions]);\r\n\r\n    const handleSavePart = useCallback(async (newData: { name: string }) => {\r\n        const { mode, data } = partModalState;\r\n        if (!data) return;\r\n\r\n        await saveOperationActions.execute(async () => {\r\n            const team = teams.find(t => t.id === data.teamId);\r\n            if (!team) throw new Error('팀을 찾을 수 없습니다.');\r\n\r\n            if (mode === 'add') {\r\n                const newPart: Part = {\r\n                    id: `part_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n                    title: newData.name,\r\n                    members: []\r\n                };\r\n                team.parts.push(newPart);\r\n            } else if (data.part) {\r\n                const part = team.parts.find(p => p.id === data.part?.id);\r\n                if (!part) throw new Error('파트를 찾을 수 없습니다.');\r\n                part.title = newData.name;\r\n            }\r\n\r\n            // UI 상태 업데이트\r\n            const updatedTeams = teams.map((t: Team) =>\r\n                t.id === data.teamId\r\n                    ? { ...team }\r\n                    : t\r\n            );\r\n            setTeams(updatedTeams);\r\n\r\n            return 'success';\r\n        }, {\r\n            successMessage: mode === 'add' ? '파트가 성공적으로 추가되었습니다.' : '파트가 성공적으로 수정되었습니다.',\r\n            errorMessage: `파트 ${mode === 'add' ? '추가' : '수정'} 중 오류가 발생했습니다.`,\r\n            onSuccess: () => closePartModal()\r\n        });\r\n    }, [partModalState, saveOperationActions, closePartModal, teams, setTeams]);\r\n\r\n    const handleDeletePart = useCallback((teamId: string, partId: string) => {\r\n        const team = teams.find(t => t.id === teamId);\r\n        const part = team?.parts.find(p => p.id === partId);\r\n\r\n        if (!part || (part.members && part.members.length > 0)) {\r\n            if (part?.members && part.members.length > 0) {\r\n                showError('파트 삭제 불가', '파트에 소속된 멤버가 있어 삭제할 수 없습니다.');\r\n            }\r\n            return;\r\n        }\r\n\r\n        confirmationActions.showConfirmation({\r\n            title: '파트 삭제 확인',\r\n            message: `정말로 '${part.title}' 파트를 삭제하시겠습니까?`,\r\n            onConfirm: async () => {\r\n                await deleteOperationActions.execute(async () => {\r\n                    setTeams(prevTeams => {\r\n                        const team = prevTeams.find(t => t.id === teamId);\r\n                        if (!team) {\r\n                            showError('파트 삭제 실패', '팀을 찾을 수 없습니다.');\r\n                            return prevTeams;\r\n                        }\r\n\r\n                        return prevTeams.map((t: Team) => {\r\n                            if (t.id !== teamId) return t;\r\n                            return {\r\n                                ...t,\r\n                                parts: t.parts.filter(p => p.id !== partId)\r\n                            };\r\n                        });\r\n                    });\r\n\r\n                    return 'success';\r\n                }, {\r\n                    successMessage: '파트가 성공적으로 삭제되었습니다.',\r\n                    errorMessage: '파트 삭제 중 오류가 발생했습니다.'\r\n                });\r\n            },\r\n            confirmButtonText: '삭제',\r\n            confirmButtonColor: 'destructive'\r\n        });\r\n    }, [teams, showError, confirmationActions, deleteOperationActions, setTeams]);\r\n\r\n    // 팀 관련 핸들러\r\n    const openTeamModal = useCallback((mode: 'add' | 'edit', data: Team | null) => {\r\n        teamModalActions.openModal(mode, data || undefined);\r\n    }, [teamModalActions]);\r\n\r\n    const closeTeamModal = useCallback(() => {\r\n        teamModalActions.closeModal();\r\n    }, [teamModalActions]);\r\n\r\n    const handleSaveTeam = useCallback(async (newData: { name: string; lead: string }) => {\r\n        const { mode, data } = teamModalState;\r\n\r\n        await saveOperationActions.execute(async () => {\r\n            if (mode === 'add') {\r\n                // 팀명을 기반으로 팀 ID 생성 (특수문자 제거 및 소문자 변환)\r\n                const teamNameForId = newData.name\r\n                    .toLowerCase()\r\n                    .replace(/[^a-z0-9가-힣]/g, '')\r\n                    .substring(0, 50); // 최대 50자 제한\r\n\r\n                // 팀 이름이 빈 문자열이 되지 않도록 보완\r\n                let newTeamId = teamNameForId || `team_${Date.now()}`;\r\n\r\n                // 이미 존재하는 팀 ID인지 확인하고, 중복될 경우 타임스탬프 추가\r\n                const existingTeam = teams.find(t => t.id === newTeamId);\r\n                if (existingTeam) {\r\n                    const timestamp = Date.now();\r\n                    newTeamId = `${teamNameForId || 'team'}_${timestamp}`;\r\n                }\r\n\r\n                // 로컬 상태에 팀 데이터 추가\r\n                const fallbackHeadquarterId = (headquarters && headquarters[0]?.id) ?? initialHeadquarters[0]?.id ?? HQ_UNASSIGNED_ID;\r\n                const newTeam = {\r\n                    id: newTeamId,\r\n                    name: newData.name,\r\n                    lead: newData.lead,\r\n                    parts: [],\r\n                    headquarterId: fallbackHeadquarterId,\r\n                };\r\n\r\n                if (import.meta.env.DEV) {\r\n                    console.log('Adding new team:', newTeam);\r\n                }\r\n\r\n                // 팀 목록에 새 팀 추가\r\n                setTeams(prevTeams => {\r\n                    const updatedTeams = [...prevTeams, { ...newTeam }];\r\n                    if (import.meta.env.DEV) {\r\n                        console.log('Updated teams in handleSaveTeam:', updatedTeams);\r\n                    }\r\n                    return updatedTeams;\r\n                });\r\n\r\n                // 추가된 팀 ID 반환\r\n                return newTeamId;\r\n            } else {\r\n                if (!data) throw new Error('팀 데이터가 없습니다.');\r\n\r\n                // 로컬 상태 업데이트\r\n                setTeams(prevTeams =>\r\n                    prevTeams.map(team =>\r\n                        team.id === data.id\r\n                            ? { ...team, name: newData.name, lead: newData.lead }\r\n                            : team\r\n                    )\r\n                );\r\n\r\n                return 'success';\r\n            }\r\n        }, {\r\n            successMessage: mode === 'add' ? '팀이 성공적으로 추가되었습니다.' : '팀이 성공적으로 수정되었습니다.',\r\n            errorMessage: `팀 ${mode === 'add' ? '추가' : '수정'} 중 오류가 발생했습니다.`,\r\n            onSuccess: () => {\r\n                // 성공 시 모달 닫기\r\n                closeTeamModal();\r\n            }\r\n        });\r\n    }, [teamModalState, saveOperationActions, closeTeamModal, teams, setTeams, headquarters]);\r\n\r\n    const handleDeleteTeam = useCallback((teamId: string) => {\r\n        if (import.meta.env.DEV) {\r\n            console.log('handleDeleteTeam called with teamId:', teamId);\r\n        }\r\n        const team = teams.find(t => t.id === teamId);\r\n        if (!team) {\r\n            if (import.meta.env.DEV) {\r\n                console.log('Team not found for deletion:', teamId);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (import.meta.env.DEV) {\r\n            console.log('Team found for deletion:', team);\r\n        }\r\n\r\n        // 팀에 멤버가 있는지 확인\r\n        const hasMembers = team.parts.some(part => part.members && part.members.length > 0);\r\n        if (hasMembers) {\r\n            if (import.meta.env.DEV) {\r\n                console.log('Team has members, cannot delete:', teamId);\r\n            }\r\n            showError('팀 삭제 불가', '팀에 멤버가 있어 삭제할 수 없습니다.');\r\n            return;\r\n        }\r\n\r\n        if (import.meta.env.DEV) {\r\n            console.log('Showing confirmation for team deletion:', teamId);\r\n        }\r\n        confirmationActions.showConfirmation({\r\n            title: '팀 삭제 확인',\r\n            message: `정말로 '${team.name}' 팀을 삭제하시겠습니까?`,\r\n            onConfirm: async () => {\r\n                if (import.meta.env.DEV) {\r\n                    console.log('Team deletion confirmed for:', teamId);\r\n                }\r\n                await deleteOperationActions.execute(async () => {\r\n                    setTeams(prevTeams => {\r\n                        const teamToDelete = prevTeams.find((t: Team) => t.id === teamId);\r\n                        if (!teamToDelete) {\r\n                            return prevTeams;\r\n                        }\r\n\r\n                        const hasMembersNow = teamToDelete.parts.some(part => part.members && part.members.length > 0);\r\n                        if (hasMembersNow) {\r\n                            showError('팀 삭제 불가', '팀에 멤버가 있어 삭제할 수 없습니다.');\r\n                            return prevTeams;\r\n                        }\r\n\r\n                        const updatedTeams = prevTeams.filter((t: Team) => t.id !== teamId);\r\n                        if (import.meta.env.DEV) {\r\n                            console.log('Team deleted, updated teams:', updatedTeams);\r\n                        }\r\n                        return updatedTeams;\r\n                    });\r\n\r\n                    return 'success';\r\n                }, {\r\n                    successMessage: '팀이 성공적으로 삭제되었습니다.',\r\n                    errorMessage: '팀 삭제 중 오류가 발생했습니다.'\r\n                });\r\n            },\r\n            confirmButtonText: '삭제',\r\n            confirmButtonColor: 'destructive'\r\n        });\r\n    }, [teams, showError, confirmationActions, deleteOperationActions, setTeams]);\r\n\r\n    return {\r\n        // 파트 관련\r\n        partModalState,\r\n        openPartModal,\r\n        closePartModal,\r\n        handleSavePart,\r\n        handleDeletePart,\r\n\r\n        // 팀 관련\r\n        teamModalState,\r\n        openTeamModal,\r\n        closeTeamModal,\r\n        handleSaveTeam,\r\n        handleDeleteTeam,\r\n\r\n        // 공통\r\n        saveOperation,\r\n        deleteOperation,\r\n        confirmation,\r\n        confirmationActions\r\n    };\r\n};\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\organization\\useTeamRenderers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\useErrorActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\useErrorState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\useModalUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\usePartDragDrop.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\useTeamForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\hooks\\useToastTimer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\Dashboard.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (193). Maximum allowed is 100.","line":49,"column":34,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":274,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useMemo, useRef, useState } from 'react';\nimport { currentUser } from '../constants';\nimport { ScoreDistributionChart } from '../components/dashboard/ScoreDistributionChart';\nimport { DepartmentPerformanceChart } from '../components/dashboard/DepartmentPerformanceChart';\nimport { RadarChart } from '../components/dashboard/RadarChart';\nimport { useRole } from '../contexts/RoleContext';\nimport { generateInsights, identifyPerformers } from '../utils/insightsEngine';\nimport { exportDashboardToPDF } from '../utils/pdfExportService';\nimport { useOrganizationData, useEvaluationData } from '../hooks';\nimport {\n    calculateDashboardStats,\n    calculateTeamPerformance,\n    calculateGradeDistribution,\n    calculateCapabilityRadar,\n} from '../utils/dashboardDataService';\nimport { Download, Users, ShieldCheck, Clock, Briefcase, ArrowUp, ArrowDown, LucideIcon } from 'lucide-react';\n\ninterface StatCardProps {\n    icon: LucideIcon;\n    title: string;\n    value: string;\n    change: string;\n    changeType: 'positive' | 'negative';\n    iconBgColor: string;\n}\n\nconst StatCard: React.FC<StatCardProps> = memo(({ icon: IconComponent, title, value, change, changeType, iconBgColor }) => {\n    const isPositive = changeType === 'positive';\n    return (\n        <div className=\"card-premium p-6 flex items-center space-x-6\">\n            <div className={`p-4 rounded-full ${iconBgColor} shadow-lg shadow-primary/20`}>\n                <IconComponent className=\"w-7 h-7 text-white\" strokeWidth={1.5} />\n            </div>\n            <div>\n                <p className=\"text-sm font-medium text-slate-500 dark:text-slate-400\">{title}</p>\n                <p className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mt-1\">{value}</p>\n                <div className=\"flex items-center mt-2 text-sm\">\n                    {isPositive ? <ArrowUp className=\"w-4 h-4 mr-1 text-emerald-500\" strokeWidth={1.5} /> : <ArrowDown className=\"w-4 h-4 mr-1 text-red-500\" strokeWidth={1.5} />}\n                    <span className={`${isPositive ? 'text-emerald-500' : 'text-red-500'} font-semibold`}>{change}</span>\n                    <span className=\"text-slate-500 dark:text-slate-400 ml-1\">지난 분기 대비</span>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nStatCard.displayName = 'StatCard';\n\nconst Dashboard: React.FC = memo(() => {\n    const { role } = useRole();\n    const isTeamLeader = role === 'TEAM_LEADER';\n\n    // Real data from organization and evaluation hooks\n    const { teams } = useOrganizationData();\n    const { evaluations } = useEvaluationData();\n\n    // Ref and state for PDF export\n    const dashboardRef = useRef<HTMLDivElement>(null);\n    const [isExporting, setIsExporting] = useState(false);\n\n    // Team name for filtering (when in Team Leader mode)\n    const teamName = isTeamLeader ? 'Sales팀' : undefined;\n\n    // Scope label based on role\n    const scopeLabel = isTeamLeader ? 'Sales팀' : '클라우드사업본부';\n    const scopeSubtitle = isTeamLeader ? '팀 성과 현황을 한눈에 확인하세요.' : '본부 성과 현황을 한눈에 확인하세요.';\n\n    // PDF export handler\n    const handleExportPDF = async () => {\n        if (!dashboardRef.current) return;\n        setIsExporting(true);\n        try {\n            await exportDashboardToPDF(dashboardRef.current, isTeamLeader ? 'Sales팀' : undefined);\n        } finally {\n            setIsExporting(false);\n        }\n    };\n\n    // Calculate dashboard data from real sources\n    const dashboardStats = useMemo(() =>\n        calculateDashboardStats(teams, evaluations, isTeamLeader, teamName),\n        [teams, evaluations, isTeamLeader, teamName]\n    );\n\n    // Top Stats from calculated data\n    const stats: StatCardProps[] = useMemo(() => {\n        const { totalMembers, completedEvaluations, progressRate, averageScore, changes } = dashboardStats;\n\n        return [\n            {\n                icon: Users,\n                title: isTeamLeader ? '총 팀원' : '총 인원',\n                value: `${totalMembers}명`,\n                change: `${changes.members}명`,\n                changeType: 'positive',\n                iconBgColor: 'bg-gradient-to-br from-blue-500 to-cyan-500'\n            },\n            {\n                icon: ShieldCheck,\n                title: '완료된 평가',\n                value: `${completedEvaluations}건`,\n                change: `${changes.evaluations}건`,\n                changeType: 'positive',\n                iconBgColor: 'bg-gradient-to-br from-emerald-500 to-teal-500'\n            },\n            {\n                icon: Clock,\n                title: '평가 진행률',\n                value: `${progressRate}%`,\n                change: `${changes.progress}%`,\n                changeType: 'positive',\n                iconBgColor: 'bg-gradient-to-br from-amber-500 to-orange-500'\n            },\n            {\n                icon: Briefcase,\n                title: '평균 역량 점수',\n                value: `${averageScore}점`,\n                change: `${changes.score}점`,\n                changeType: 'positive',\n                iconBgColor: 'bg-gradient-to-br from-primary to-accent'\n            }\n        ];\n    }, [dashboardStats, isTeamLeader]);\n\n    // 1. Score Distribution Data from real teams\n    const distributionData = useMemo(() =>\n        calculateGradeDistribution(teams, evaluations, isTeamLeader, teamName),\n        [teams, evaluations, isTeamLeader, teamName]\n    );\n\n    // 2. Department Performance Data from real teams\n    const deptPerformanceData = useMemo(() =>\n        calculateTeamPerformance(teams, evaluations, isTeamLeader, teamName),\n        [teams, evaluations, isTeamLeader, teamName]\n    );\n\n    // 3. Capability Radar Data\n    const radarData = useMemo(() =>\n        calculateCapabilityRadar(teams, evaluations, isTeamLeader, teamName),\n        [teams, evaluations, isTeamLeader, teamName]\n    );\n\n    // 4. Dynamic Insights Generation\n    const currentScoringType = '5grade' as const;\n\n    const insights = useMemo(() => {\n        const gradeData = distributionData.map(d => ({ grade: d.grade, count: d.count }));\n        const capabilityData = radarData;\n        const performanceData = deptPerformanceData.map(d => ({\n            name: d.department,\n            score: d.score,\n            average: d.average\n        }));\n        const progressRate = dashboardStats.progressRate;\n\n        return generateInsights(gradeData, capabilityData, performanceData, progressRate, currentScoringType);\n    }, [distributionData, radarData, deptPerformanceData, dashboardStats.progressRate, currentScoringType]);\n\n    // 5. Top Performers (dynamic)\n    const { topPerformers } = useMemo(() => {\n        const performanceData = deptPerformanceData.map(d => ({\n            name: d.department,\n            score: d.score,\n            average: d.average\n        }));\n        return identifyPerformers(performanceData);\n    }, [deptPerformanceData]);\n\n    return (\n        <>\n            <div className=\"mb-8 flex items-center justify-between\">\n                <div>\n                    <div className=\"flex items-center gap-3\">\n                        <h1 className=\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300\">성과 대시보드</h1>\n                        {isTeamLeader && (\n                            <span className=\"px-3 py-1 bg-primary/10 text-primary text-sm font-bold rounded-full\">\n                                {scopeLabel}\n                            </span>\n                        )}\n                    </div>\n                    <p className=\"text-lg text-slate-600 dark:text-slate-400 mt-1\">{currentUser.name}님, {scopeSubtitle}</p>\n                </div>\n                <button\n                    onClick={handleExportPDF}\n                    disabled={isExporting}\n                    className=\"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                    <Download className=\"w-5 h-5\" strokeWidth={1.5} />\n                    {isExporting ? 'PDF 생성 중...' : 'PDF 내보내기'}\n                </button>\n            </div>\n\n            <div ref={dashboardRef}>\n                {/* Key Metrics Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 mb-8\">\n                    {stats.map(stat => <StatCard key={stat.title} {...stat} />)}\n                </div>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\">\n                    {/* 1. Score Distribution (Donut) */}\n                    <div className=\"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm dark:shadow-slate-900/50\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                            <h2 className=\"text-xl font-bold text-slate-900 dark:text-slate-100\">\n                                {isTeamLeader ? '팀원 등급 분포' : '평가 등급 분포'}\n                            </h2>\n                            <button className=\"text-sm text-slate-500 dark:text-slate-400 hover:text-primary\">더보기</button>\n                        </div>\n                        <ScoreDistributionChart data={distributionData} />\n                    </div>\n\n                    {/* 2. Department Performance (Bar) */}\n                    <div className=\"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm dark:shadow-slate-900/50\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                            <h2 className=\"text-xl font-bold text-slate-900 dark:text-slate-100\">\n                                {isTeamLeader ? '팀원별 성과 현황' : '팀별 성과 현황'}\n                            </h2>\n                            <button className=\"text-sm text-slate-500 dark:text-slate-400 hover:text-primary\">상세 비교</button>\n                        </div>\n                        <DepartmentPerformanceChart data={deptPerformanceData} />\n                    </div>\n\n                    {/* 3. Capability Analysis (Radar) */}\n                    <div className=\"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm dark:shadow-slate-900/50\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                            <h2 className=\"text-xl font-bold text-slate-900 dark:text-slate-100\">\n                                {isTeamLeader ? '팀 역량 진단' : '본부 역량 진단'}\n                            </h2>\n                            <button className=\"text-sm text-slate-500 dark:text-slate-400 hover:text-primary\">분석 리포트</button>\n                        </div>\n                        <div className=\"flex justify-center items-center h-[300px]\">\n                            <RadarChart data={radarData} />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Insight Section - Dynamic */}\n                <div className=\"bg-gradient-to-r from-primary to-accent text-white p-8 rounded-2xl shadow-lg shadow-primary/20 flex flex-col md:flex-row items-center justify-between overflow-hidden relative\">\n                    <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2\"></div>\n                    <div className=\"mb-6 md:mb-0\">\n                        <h2 className=\"text-2xl font-bold mb-2\">💡 이달의 인사이트</h2>\n                        <div className=\"text-white/80 mb-4 max-w-xl space-y-2\">\n                            {insights.length > 0 ? (\n                                insights.map((insight, idx) => (\n                                    <p key={idx} className={`flex items-start gap-2 ${insight.type === 'warning' ? 'text-yellow-300' : ''}`}>\n                                        <span>{insight.type === 'positive' ? '✅' : '⚠️'}</span>\n                                        <span>{insight.message}</span>\n                                    </p>\n                                ))\n                            ) : (\n                                <p>분석 데이터가 부족합니다.</p>\n                            )}\n                        </div>\n                        <div className=\"flex gap-3\">\n                            <button className=\"bg-white text-primary px-4 py-2 rounded-lg font-bold text-sm hover:bg-primary/10 transition-colors\">\n                                상세 리포트 보기\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"bg-white/10 p-6 rounded-xl backdrop-blur-sm min-w-[250px]\">\n                        <h3 className=\"text-sm font-bold text-white/80 uppercase tracking-wide mb-3\">\n                            {isTeamLeader ? 'Top Performer (팀원)' : 'Top Performer (팀)'}\n                        </h3>\n                        {topPerformers.slice(0, 3).map((performer, idx) => (\n                            <div key={performer.name} className=\"flex items-center justify-between mb-2\">\n                                <span className=\"font-semibold\">{idx + 1}. {performer.name}</span>\n                                <span className=\"font-bold text-green-400\">{performer.score.toFixed(1)}점</span>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n});\n\nDashboard.displayName = 'Dashboard';\n\nexport default Dashboard;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\EvaluationLibrary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\EvaluationManagement.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (218). Maximum allowed is 100.","line":25,"column":35,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":290,"endColumn":2},{"ruleId":"complexity","severity":1,"message":"Arrow function has a complexity of 20. Maximum allowed is 15.","line":25,"column":38,"nodeType":"ArrowFunctionExpression","messageId":"complex","endLine":25,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/// <reference types=\"vite/client\" />\nimport { useState, memo, useCallback } from 'react';\nimport { evaluationResultData, Evaluation } from '../constants';\nimport { BarChart3, Plus } from 'lucide-react';\nimport CreateCampaignModal from '../features/evaluation/CreateCampaignModal';\nimport EvaluationResult from '../features/evaluation/EvaluationResult';\nimport AnnualEvaluationSettingsModal from '../features/evaluation/AnnualEvaluationSettingsModal';\nimport { useError } from '../contexts/ErrorContext';\nimport { useRole } from '../contexts/RoleContext';\nimport EvaluationExecution from '../features/evaluation/EvaluationExecution';\nimport { CampaignMonitoringModal } from '../features/evaluation/CampaignMonitoringModal';\nimport { ConfirmationModal } from '../components/ConfirmationModal';\nimport { AdminEvaluationTable } from '../components/evaluation/AdminEvaluationTable';\nimport { UserEvaluationCards } from '../components/evaluation/UserEvaluationCards';\nimport { UserCompletedList } from '../components/evaluation/UserCompletedList';\nimport { AnnualScoreSummary } from '../components/evaluation/AnnualScoreSummary';\nimport { NoResultView } from '../components/evaluation/NoResultView';\nimport { useEvaluationData } from '../hooks/evaluation/useEvaluationData';\nimport { Button } from '../components/common';\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Main Component\n// ─────────────────────────────────────────────────────────────────────────────\n\nconst EvaluationManagement = memo(() => {\n    const { isAdmin } = useRole();\n    const { showSuccess } = useError();\n\n    // Use centralized data hook\n    const {\n        normalizedEvaluations,\n        filteredEvaluations,\n        templates,\n        teams,\n        isLoading,\n        error,\n        activeTab,\n        searchTerm,\n        evaluationWeights,\n        userMyEvaluations,\n        userCompletedEvaluations,\n        setActiveTab,\n        setSearchTerm,\n        setEvaluationWeights,\n        addEvaluation,\n        updateEvaluation,\n        tabs,\n    } = useEvaluationData();\n\n    // View Mode State\n    const [viewMode, setViewMode] = useState<'user' | 'admin'>('admin');\n    const isAdminMode = viewMode === 'admin' && isAdmin;\n\n    // Modal States\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\n    const [monitoringEvaluation, setMonitoringEvaluation] = useState<Evaluation | null>(null);\n    const [showCancelConfirmation, setShowCancelConfirmation] = useState(false);\n\n    // Result View State\n    const [selectedEvaluationId, setSelectedEvaluationId] = useState<number | string | null>(null);\n    const [resultUnavailable, setResultUnavailable] = useState(false);\n\n    // Execution State\n    const [executingEvaluationId, setExecutingEvaluationId] = useState<number | string | null>(null);\n\n    // ─────────────────────────────────────────────────────────────────────────\n    // Handlers\n    // ─────────────────────────────────────────────────────────────────────────\n\n    const handleLaunchEvaluation = useCallback((newEvaluationData: any) => {\n        addEvaluation(newEvaluationData);\n        setIsModalOpen(false);\n    }, [addEvaluation]);\n\n    const handleViewResult = useCallback((evaluationId: string | number) => {\n        const hasResult = String(evaluationId) === String(evaluationResultData.evaluationId);\n        setResultUnavailable(!hasResult);\n        setSelectedEvaluationId(evaluationId);\n    }, []);\n\n    const handleBackToList = useCallback(() => {\n        setSelectedEvaluationId(null);\n        setResultUnavailable(false);\n    }, []);\n\n    const handleSaveWeights = useCallback((newWeights: any) => {\n        setEvaluationWeights(newWeights);\n        setIsSettingsModalOpen(false);\n    }, [setEvaluationWeights]);\n\n    const handleRunEvaluation = useCallback((evaluationId: string | number) => {\n        setExecutingEvaluationId(evaluationId);\n    }, []);\n\n    const handleSaveExecution = useCallback((result: any) => {\n        updateEvaluation(result.evaluationId, {\n            status: '완료',\n            score: result.totalScore,\n            progress: 100,\n            answers: result.answers\n        });\n        setExecutingEvaluationId(null);\n        showSuccess('평가가 완료되었습니다.', '결과가 성공적으로 저장되었습니다.');\n    }, [updateEvaluation, showSuccess]);\n\n    const handleCancelExecution = useCallback(() => {\n        setShowCancelConfirmation(true);\n    }, []);\n\n    const confirmCancelExecution = useCallback(() => {\n        setExecutingEvaluationId(null);\n        setShowCancelConfirmation(false);\n    }, []);\n\n    // ─────────────────────────────────────────────────────────────────────────\n    // Render Helpers\n    // ─────────────────────────────────────────────────────────────────────────\n\n    const renderAdminView = () => (\n        <>\n            <AnnualScoreSummary\n                evaluations={normalizedEvaluations}\n                weights={evaluationWeights}\n                onOpenSettings={() => setIsSettingsModalOpen(true)}\n            />\n\n            <AdminEvaluationTable\n                evaluations={filteredEvaluations}\n                tabs={tabs}\n                activeTab={activeTab}\n                onTabChange={setActiveTab}\n                searchTerm={searchTerm}\n                onSearchChange={setSearchTerm}\n                isLoading={isLoading}\n                error={error}\n                onOpenMonitoring={setMonitoringEvaluation}\n            />\n        </>\n    );\n\n    const renderUserView = () => (\n        <div className=\"space-y-8\">\n            <UserEvaluationCards\n                evaluations={userMyEvaluations}\n                onRunEvaluation={handleRunEvaluation}\n            />\n\n            <section>\n                <div className=\"flex items-center justify-between mb-4\">\n                    <h2 className=\"text-xl font-bold text-slate-900 flex items-center\">\n                        <span className=\"bg-teal-100 text-teal-700 p-1.5 rounded-lg mr-2\">\n                            <BarChart3 className=\"w-5 h-5\" strokeWidth={1.5} />\n                        </span>\n                        나의 평가 결과\n                    </h2>\n                </div>\n                <AnnualScoreSummary\n                    evaluations={userCompletedEvaluations}\n                    weights={evaluationWeights}\n                    showSettingsButton={false}\n                />\n            </section>\n\n            <UserCompletedList\n                evaluations={userCompletedEvaluations}\n                onViewResult={handleViewResult}\n            />\n        </div>\n    );\n\n    // ─────────────────────────────────────────────────────────────────────────\n    // Main Render\n    // ─────────────────────────────────────────────────────────────────────────\n\n    // Execution Mode\n    if (executingEvaluationId) {\n        const allEvaluations = normalizedEvaluations;\n        const targetEvaluation = allEvaluations.find(e => e.id === executingEvaluationId);\n        const targetTemplate = targetEvaluation?.templateSnapshot || templates.find(t => t.type === targetEvaluation?.type) || templates[0];\n\n        if (targetEvaluation && targetTemplate) {\n            return (\n                <EvaluationExecution\n                    evaluation={targetEvaluation}\n                    template={targetTemplate}\n                    onSave={handleSaveExecution}\n                    onCancel={handleCancelExecution}\n                />\n            );\n        }\n    }\n\n    // Result View Mode\n    if (selectedEvaluationId) {\n        if (resultUnavailable) {\n            return <NoResultView onBack={handleBackToList} />;\n        }\n        return <EvaluationResult resultData={evaluationResultData} onBack={handleBackToList} />;\n    }\n\n    // Default List View\n    return (\n        <>\n            <div className=\"flex flex-col sm:flex-row items-center justify-between mb-8 gap-4\">\n                <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3\">\n                        <h1 className=\"text-3xl font-bold text-slate-900\">\n                            {isAdminMode ? '평가 관리 (HR)' : '나의 평가'}\n                        </h1>\n                        <div className=\"bg-slate-200 p-1 rounded-lg flex items-center\">\n                            <button\n                                onClick={() => setViewMode('user')}\n                                className={`px-3 py-1 text-xs font-bold rounded-md transition-all ${viewMode === 'user' ? 'bg-white text-slate-800 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}\n                            >\n                                사용자\n                            </button>\n                            {isAdmin && (\n                                <button\n                                    onClick={() => setViewMode('admin')}\n                                    className={`px-3 py-1 text-xs font-bold rounded-md transition-all ${viewMode === 'admin' ? 'bg-primary text-primary-foreground shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}\n                                >\n                                    관리자\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                    <p className=\"text-lg text-slate-600 mt-1\">\n                        {isAdminMode\n                            ? '본부 전체 평가 일정을 계획하고 현황을 모니터링합니다.'\n                            : '할당된 평가를 수행하고 나의 결과를 확인합니다.'}\n                    </p>\n                </div>\n\n                {isAdminMode && (\n                    <Button\n                        variant=\"primary\"\n                        size=\"lg\"\n                        onClick={() => setIsModalOpen(true)}\n                        className=\"gap-2 whitespace-nowrap\"\n                    >\n                        <Plus className=\"w-5 h-5\" strokeWidth={1.5} />\n                        새 평가 캠페인 생성\n                    </Button>\n                )}\n            </div>\n\n            {isAdminMode ? renderAdminView() : renderUserView()}\n\n            {/* Modals */}\n            {isModalOpen && (\n                <CreateCampaignModal\n                    isOpen={isModalOpen}\n                    onClose={() => setIsModalOpen(false)}\n                    onLaunch={handleLaunchEvaluation}\n                    templates={templates}\n                    teams={teams}\n                />\n            )}\n\n            {isSettingsModalOpen && (\n                <AnnualEvaluationSettingsModal\n                    isOpen={isSettingsModalOpen}\n                    onClose={() => setIsSettingsModalOpen(false)}\n                    weights={evaluationWeights}\n                    onSave={handleSaveWeights}\n                />\n            )}\n\n            {monitoringEvaluation && (\n                <CampaignMonitoringModal\n                    isOpen={!!monitoringEvaluation}\n                    onClose={() => setMonitoringEvaluation(null)}\n                    evaluation={monitoringEvaluation}\n                    teams={teams}\n                />\n            )}\n\n            <ConfirmationModal\n                isOpen={showCancelConfirmation}\n                onClose={() => setShowCancelConfirmation(false)}\n                onConfirm={confirmCancelExecution}\n                title=\"평가 중단\"\n                message=\"평가를 중단하시겠습니까? 작성 중인 내용은 저장되지 않습니다.\"\n                confirmButtonText=\"중단\"\n                confirmButtonColor=\"destructive\"\n            />\n        </>\n    );\n});\n\nEvaluationManagement.displayName = 'EvaluationManagement';\n\nexport default EvaluationManagement;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\OrganizationManagement.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (191). Maximum allowed is 100.","line":20,"column":37,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":233,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { memo, useCallback, useState } from 'react';\n\n// Custom Hooks\nimport { useRole } from '../contexts/RoleContext';\nimport {\n    useAutoScroll,\n    useMemberManagement,\n    useNetworkStatus,\n    useOrganizationData,\n    useOrganizationFilter,\n    useOrganizationModals,\n    useTeamPartManagement,\n    useTeamRenderers,\n} from '../hooks';\nimport { useOrganizationViewModels } from '../hooks/organization/useOrganizationViewModels';\n\n// Components\nimport { OrganizationViews } from './organization/OrganizationViews';\n\nconst OrganizationManagement = memo(() => {\n    const { role } = useRole();\n    // UI 상태\n    const [searchTerm, setSearchTerm] = useState('');\n    const [baseDate, setBaseDate] = useState(new Date().toISOString().split('T')[0]);\n    const [activeTab, setActiveTab] = useState('orgChart');\n    const [statusFilter, setStatusFilter] = useState<'all' | 'active' | 'intern' | 'on_leave' | 'resigned'>('all');\n    const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n    const [sortOption, setSortOption] = useState<'name_asc' | 'members_desc'>('name_asc');\n\n    // 네트워크 상태\n    const [networkState] = useNetworkStatus();\n\n    // 자동 스크롤 훅\n    const { handleContainerDragOver, handleContainerDrop } = useAutoScroll();\n\n    // 조직 데이터 관리\n    const {\n        teams,\n        setTeams,\n        isLoading,\n        error,\n        stats,\n        seedOperation,\n        handleSeedDatabase,\n        headquarters,\n        updateHeadquarter,\n    } = useOrganizationData();\n\n    // 멤버 관리\n    const {\n        isModalOpen,\n        setIsModalOpen,\n        editingMember,\n        modalContext,\n        saveOperation,\n        deleteOperation,\n        handleAddMember,\n        handleEditMember,\n        handleDeleteMember,\n        handleDeleteResignedMember,\n        handleReinstateMember,\n        handleSaveMember,\n    } = useMemberManagement(teams, setTeams);\n\n    // 모달 및 본부 관리\n    const {\n        isMoveModalOpen,\n        memberToMove,\n        openMoveModal,\n        closeMoveModal,\n        handleMoveMember,\n        moveMemberToTeamPart,\n        isHeadquarterModalOpen,\n        headquarterToEdit,\n        openHeadquarterModal,\n        closeHeadquarterModal,\n        handleSaveHeadquarter,\n        collapsedHeadquarters,\n        toggleHeadquarter,\n    } = useOrganizationModals({\n        teams,\n        setTeams,\n        headquarters,\n        updateHeadquarter,\n    });\n\n    // 팀/파트 관리\n    const {\n        partModalState,\n        openPartModal,\n        closePartModal,\n        handleSavePart,\n        handleDeletePart,\n        teamModalState,\n        openTeamModal,\n        closeTeamModal,\n        handleSaveTeam,\n        handleDeleteTeam,\n        confirmation: teamPartConfirmation,\n        confirmationActions: teamPartConfirmationActions,\n    } = useTeamPartManagement(teams, setTeams, headquarters);\n\n    // 데이터 필터링\n    const { activeTeams, filteredInactiveMembers } = useOrganizationFilter(teams, searchTerm);\n\n    const { renderTeamCard, renderTeamCardCompact } = useTeamRenderers({\n        baseDate,\n        searchTerm,\n        statusFilter,\n        handleAddMember,\n        handleEditMember,\n        handleDeleteMember,\n        moveMemberToTeamPart,\n        openMoveModal,\n        openPartModal,\n        handleDeletePart,\n        openTeamModal,\n        handleDeleteTeam,\n    });\n\n    // View Models Logic\n    const { visibleActiveTeams, groupedHeadquarters, hasAnyTeamsInView, getTeamGridClass, inactiveMembersToShow } =\n        useOrganizationViewModels({\n            role: role as string,\n            activeTeams,\n            statusFilter,\n            headquarters,\n            sortOption,\n            filteredInactiveMembers,\n        });\n\n    const tabs = [\n        { id: 'orgChart', label: '조직도' },\n        {\n            id: 'inactive',\n            label: `비활성 인원 (${filteredInactiveMembers.onLeave.length + filteredInactiveMembers.resigned.length})`,\n        },\n    ];\n\n    const handleStatusFilterChange = useCallback((nextFilter: typeof statusFilter) => {\n        setStatusFilter((prev) => {\n            const resolved = prev === nextFilter ? 'all' : nextFilter;\n            if (resolved === 'on_leave' || resolved === 'resigned') {\n                setActiveTab('inactive');\n            } else {\n                setActiveTab('orgChart');\n            }\n            return resolved;\n        });\n    }, []);\n\n    const handleTabChange = useCallback(\n        (tabId: string) => {\n            setActiveTab(tabId);\n            if (tabId === 'orgChart' && (statusFilter === 'on_leave' || statusFilter === 'resigned')) {\n                setStatusFilter('all');\n            }\n            if (tabId === 'inactive' && (statusFilter === 'active' || statusFilter === 'intern')) {\n                setStatusFilter('all');\n            }\n        },\n        [statusFilter]\n    );\n\n    const modalProps = {\n        isHeadquarterModalOpen,\n        closeHeadquarterModal,\n        headquarterToEdit,\n        handleSaveHeadquarter,\n        isModalOpen,\n        setIsModalOpen,\n        handleSaveMember,\n        teams,\n        editingMember,\n        modalContext,\n        partModalState,\n        closePartModal,\n        handleSavePart,\n        teamModalState,\n        closeTeamModal,\n        handleSaveTeam,\n        teamPartConfirmation,\n        teamPartConfirmationActions,\n        isMoveModalOpen,\n        closeMoveModal,\n        handleMoveMember,\n        memberToMove,\n    };\n\n    return (\n        <OrganizationViews\n            networkState={networkState}\n            saveOperation={saveOperation}\n            deleteOperation={deleteOperation}\n            seedOperation={seedOperation}\n            stats={stats}\n            statusFilter={statusFilter}\n            handleStatusFilter={handleStatusFilterChange}\n            searchTerm={searchTerm}\n            setSearchTerm={setSearchTerm}\n            baseDate={baseDate}\n            setBaseDate={setBaseDate}\n            tabs={tabs}\n            activeTab={activeTab}\n            handleTabChange={handleTabChange}\n            sortOption={sortOption}\n            setSortOption={setSortOption}\n            viewMode={viewMode}\n            setViewMode={setViewMode}\n            openTeamModal={openTeamModal}\n            visibleActiveTeams={visibleActiveTeams}\n            handleContainerDragOver={handleContainerDragOver}\n            handleContainerDrop={handleContainerDrop}\n            isLoading={isLoading}\n            error={error}\n            handleSeedDatabase={handleSeedDatabase}\n            hasAnyTeamsInView={hasAnyTeamsInView}\n            groupedHeadquarters={groupedHeadquarters}\n            collapsedHeadquarters={collapsedHeadquarters}\n            toggleHeadquarter={toggleHeadquarter}\n            openHeadquarterModal={openHeadquarterModal}\n            getTeamGridClass={getTeamGridClass}\n            renderTeamCard={renderTeamCard}\n            renderTeamCardCompact={renderTeamCardCompact}\n            showOnLeaveList={statusFilter !== 'resigned'}\n            showResignedList={statusFilter !== 'on_leave'}\n            inactiveMembersToShow={inactiveMembersToShow}\n            handleReinstateMember={handleReinstateMember}\n            handleDeleteResignedMember={handleDeleteResignedMember}\n            modalProps={modalProps}\n        />\n    );\n});\n\nOrganizationManagement.displayName = 'OrganizationManagement';\n\nexport default OrganizationManagement;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\SettingsPage.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (139). Maximum allowed is 100.","line":77,"column":30,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":226,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport { SettingsCard } from '../components/SettingsCard';\nimport { currentUser } from '../constants';\nimport { useTheme as useThemeHook } from '../contexts/ThemeContext';\nimport { showWarning } from '../utils/toast';\nimport {\n    Mail, Upload, Calendar, Bell, Moon, ShieldCheck, Monitor,\n    Smartphone, Sun, User, Info, LucideIcon, PenTool, MessageSquare\n} from 'lucide-react';\n\n// Helper Components\nconst Toggle = ({ label, description, enabled, setEnabled }: { label: string, description?: string, enabled: boolean, setEnabled: (val: boolean) => void }) => (\n    <div className=\"flex items-center justify-between py-2\">\n        <div>\n            <p className=\"font-medium text-slate-800\">{label}</p>\n            {description && <p className=\"text-sm text-slate-500\">{description}</p>}\n        </div>\n        <button\n            onClick={() => setEnabled(!enabled)}\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${enabled ? 'bg-primary' : 'bg-slate-200'}`}\n        >\n            <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out ${enabled ? 'translate-x-6' : 'translate-x-1'}`} />\n        </button>\n    </div>\n);\n\nconst SectionHeader = ({ icon: IconComponent, title }: { icon: LucideIcon, title: string }) => (\n    <h4 className=\"font-semibold text-slate-900 mb-4 flex items-center text-sm uppercase tracking-wide\">\n        <IconComponent className=\"w-4 h-4 mr-2 text-primary\" strokeWidth={1.5} />\n        {title}\n    </h4>\n);\n\n// 1. Profile Settings (Read-Only + Signature)\nconst ProfileSettings = () => {\n    return (\n        <SettingsCard title=\"프로필 정보\" description=\"Google 계정과 연동되어 관리됩니다. 개인정보 변경은 Google 계정 설정을 이용해주세요.\">\n            <div className=\"bg-slate-50 rounded-xl border border-slate-200 p-6 mb-8 flex items-start justify-between\">\n                <div className=\"flex items-center\">\n                    <div className=\"relative\">\n                        <img className=\"h-20 w-20 rounded-full object-cover border-4 border-white shadow-sm\" src={currentUser.avatar} alt=\"User avatar\" />\n                        <div className=\"absolute bottom-0 right-0 bg-green-500 w-5 h-5 rounded-full border-2 border-white\" title=\"Online\"></div>\n                    </div>\n                    <div className=\"ml-5 space-y-1\">\n                        <div className=\"flex items-center\">\n                            <h3 className=\"text-xl font-bold text-slate-900\">{currentUser.name}</h3>\n                            <span className=\"ml-2 px-2 py-0.5 bg-primary/10 text-primary text-xs font-bold rounded-full\">{currentUser.role}</span>\n                        </div>\n                        <p className=\"text-slate-500 flex items-center\">\n                            <Mail className=\"w-4 h-4 mr-1.5\" strokeWidth={1.5} />\n                            {currentUser.email}\n                        </p>\n                        <div className=\"flex items-center text-xs text-green-600 font-medium bg-green-50 px-2 py-1 rounded w-fit mt-2\">\n                            <svg className=\"w-3 h-3 mr-1.5\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" /><path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" /><path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" /><path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" /></svg>\n                            Google Verified Account\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div>\n                <SectionHeader icon={PenTool} title=\"전자 서명 (Digital Signature)\" />\n                <div className=\"mt-2 border-2 border-slate-300 border-dashed rounded-xl p-8 hover:border-primary hover:bg-slate-50 transition-all cursor-pointer group text-center\">\n                    <div className=\"bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-primary/20 transition-colors\">\n                        <Upload className=\"w-6 h-6 text-primary\" strokeWidth={1.5} />\n                    </div>\n                    <p className=\"font-medium text-slate-900\">서명 이미지 업로드</p>\n                    <p className=\"text-sm text-slate-500 mt-1\">평가 결과표에 날인될 서명/도장 이미지를 등록하세요.</p>\n                    <p className=\"text-xs text-slate-400 mt-2\">PNG, JPG (맥스 2MB)</p>\n                </div>\n            </div>\n        </SettingsCard>\n    );\n};\n\n// 2. Notification & Calendar\nconst NotificationSettings = () => {\n    const [googleSync, setGoogleSync] = useState(true);\n    const [dnd, setDnd] = useState(false);\n    const [webhookUrl, setWebhookUrl] = useState('');\n    const [testStatus, setTestStatus] = useState<'idle' | 'sending' | 'success' | 'error'>('idle');\n\n    // Load saved webhook URL on mount\n    React.useEffect(() => {\n        const saved = localStorage.getItem('googleChatWebhookUrl');\n        if (saved) setWebhookUrl(saved);\n    }, []);\n\n    // Save webhook URL when it changes\n    const handleWebhookChange = (url: string) => {\n        setWebhookUrl(url);\n        localStorage.setItem('googleChatWebhookUrl', url);\n    };\n\n    // Test webhook connection\n    const handleTestWebhook = async () => {\n        if (!webhookUrl) {\n            showWarning('Webhook URL을 먼저 입력해주세요.');\n            return;\n        }\n\n        setTestStatus('sending');\n        try {\n            const response = await fetch(webhookUrl, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    cards: [{\n                        header: {\n                            title: '🔔 연결 테스트',\n                            subtitle: '성과평가 시스템 알림'\n                        },\n                        sections: [{\n                            widgets: [{\n                                textParagraph: {\n                                    text: '성과평가 시스템과 Google Chat이 성공적으로 연결되었습니다! 🎉'\n                                }\n                            }]\n                        }]\n                    }]\n                })\n            });\n\n            if (response.ok) {\n                setTestStatus('success');\n                setTimeout(() => setTestStatus('idle'), 3000);\n            } else {\n                setTestStatus('error');\n                setTimeout(() => setTestStatus('idle'), 3000);\n            }\n        } catch {\n            setTestStatus('error');\n            setTimeout(() => setTestStatus('idle'), 3000);\n        }\n    };\n\n    return (\n        <SettingsCard title=\"알림 및 일정\" description=\"다양한 채널로 중요한 알림을 받아보세요.\">\n            <div className=\"space-y-8\">\n                {/* Calendar Sync */}\n                <div>\n                    <SectionHeader icon={Calendar} title=\"일정 동기화\" />\n                    <div className=\"bg-white rounded-lg border border-slate-200 p-4\">\n                        <Toggle\n                            label=\"Google Calendar 동기화\"\n                            description=\"평가 마감일, 면담 일정 등을 내 캘린더에 자동으로 등록합니다.\"\n                            enabled={googleSync}\n                            setEnabled={setGoogleSync}\n                        />\n                    </div>\n                </div>\n\n                {/* Channels */}\n                <div>\n                    <SectionHeader icon={Bell} title=\"수신 채널 설정\" />\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <label className=\"flex items-center p-4 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50 transition-colors\">\n                            <input type=\"checkbox\" className=\"h-5 w-5 text-primary rounded focus:ring-primary\" defaultChecked />\n                            <div className=\"ml-3 flex-1\">\n                                <span className=\"block text-sm font-bold text-slate-900 flex items-center\">\n                                    <Mail className=\"w-4 h-4 mr-2\" strokeWidth={1.5} /> 이메일\n                                </span>\n                                <span className=\"block text-xs text-slate-500 mt-0.5\">주요 공지 및 주간 리포트</span>\n                            </div>\n                        </label>\n                        <div className=\"bg-slate-50 rounded-xl border border-slate-200 transition-colors\">\n                            <label className=\"flex items-center p-4 cursor-pointer hover:bg-slate-100 rounded-t-xl transition-colors\">\n                                <input type=\"checkbox\" className=\"h-5 w-5 text-primary rounded focus:ring-primary\" defaultChecked />\n                                <div className=\"ml-3 flex-1\">\n                                    <span className=\"block text-sm font-bold text-slate-900 flex items-center\">\n                                        <MessageSquare className=\"w-4 h-4 mr-2\" strokeWidth={1.5} /> Google Chat\n                                    </span>\n                                    <span className=\"block text-xs text-slate-500 mt-0.5\">실시간 알림 (Webhook)</span>\n                                </div>\n                            </label>\n                            <div className=\"px-4 pb-4 space-y-2\">\n                                <input\n                                    type=\"text\"\n                                    value={webhookUrl}\n                                    onChange={(e) => handleWebhookChange(e.target.value)}\n                                    placeholder=\"https://chat.googleapis.com/v1/spaces/...\"\n                                    className=\"w-full text-xs border-slate-300 rounded-md focus:ring-primary focus:border-primary\"\n                                />\n                                <div className=\"flex items-center justify-between\">\n                                    <p className=\"text-[10px] text-slate-400\">\n                                        * Google Chat Space → Manage webhooks에서 URL 복사\n                                    </p>\n                                    <button\n                                        onClick={handleTestWebhook}\n                                        disabled={testStatus === 'sending'}\n                                        className={`text-xs px-3 py-1 rounded-md font-medium transition-all ${testStatus === 'success'\n                                            ? 'bg-green-100 text-green-700'\n                                            : testStatus === 'error'\n                                                ? 'bg-red-100 text-red-700'\n                                                : testStatus === 'sending'\n                                                    ? 'bg-slate-100 text-slate-400'\n                                                    : 'bg-primary/10 text-primary hover:bg-primary/20'\n                                            }`}\n                                    >\n                                        {testStatus === 'sending' ? '전송 중...'\n                                            : testStatus === 'success' ? '✓ 성공!'\n                                                : testStatus === 'error' ? '✗ 실패'\n                                                    : '테스트 발송'}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* DND */}\n                <div>\n                    <SectionHeader icon={Moon} title=\"방해 금지 모드\" />\n                    <div className=\"bg-white rounded-lg border border-slate-200 p-4\">\n                        <Toggle\n                            label=\"퇴근 시간 알림 끄기\"\n                            description=\"오후 7시 ~ 오전 8시 사이에는 알림을 보내지 않습니다.\"\n                            enabled={dnd}\n                            setEnabled={setDnd}\n                        />\n                    </div>\n                </div>\n            </div>\n        </SettingsCard>\n    );\n}\n\n// 3. Security (SSO Only)\nconst SecuritySettings = () => {\n    return (\n        <SettingsCard title=\"보안 및 계정\" description=\"안전한 계정 관리를 위한 설정입니다.\">\n            <div className=\"space-y-6\">\n                <div>\n                    <SectionHeader icon={ShieldCheck} title=\"연동된 계정\" />\n                    <div className=\"bg-slate-50 border border-slate-200 rounded-xl p-4 flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                            <div className=\"bg-white p-2 rounded-full border border-slate-100 shadow-sm\">\n                                <svg className=\"w-6 h-6 text-slate-700\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" /><path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" /><path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" /><path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" /></svg>\n                            </div>\n                            <div className=\"ml-4\">\n                                <p className=\"text-sm font-bold text-slate-900\">Google Workspace</p>\n                                <p className=\"text-xs text-slate-500\">Connected since 2024.01.01</p>\n                            </div>\n                        </div>\n                        <span className=\"bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full\">Connected</span>\n                    </div>\n                </div>\n\n                <div>\n                    <SectionHeader icon={Monitor} title=\"현재 로그인된 기기\" />\n                    <div className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between p-3 hover:bg-slate-50 rounded-lg transition-colors\">\n                            <div className=\"flex items-center\">\n                                <Monitor className=\"w-8 h-8 text-slate-400 p-1\" strokeWidth={1.5} />\n                                <div className=\"ml-3\">\n                                    <p className=\"text-sm font-medium text-slate-900\">Chrome on Windows</p>\n                                    <p className=\"text-xs text-green-600 font-medium\">현재 활동 중</p>\n                                </div>\n                            </div>\n                            <span className=\"text-xs text-slate-400\">Seoul, KR</span>\n                        </div>\n                        <div className=\"flex items-center justify-between p-3 hover:bg-slate-50 rounded-lg transition-colors opacity-60\">\n                            <div className=\"flex items-center\">\n                                <Smartphone className=\"w-8 h-8 text-slate-400 p-1\" strokeWidth={1.5} />\n                                <div className=\"ml-3\">\n                                    <p className=\"text-sm font-medium text-slate-900\">Safari on iPhone 15</p>\n                                    <p className=\"text-xs text-slate-500\">2시간 전</p>\n                                </div>\n                            </div>\n                            <span className=\"text-xs text-slate-400\">Seoul, KR</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </SettingsCard>\n    );\n};\n\n// 4. Appearance\nconst AppearanceSettings = () => {\n    // Import useTheme at the top of the file\n    const { theme, setTheme, resolvedTheme } = useThemeHook();\n\n    const themeOptions: { value: 'light' | 'dark' | 'system', label: string, icon: LucideIcon }[] = [\n        { value: 'light', label: '라이트', icon: Sun },\n        { value: 'dark', label: '다크', icon: Moon },\n        { value: 'system', label: '시스템', icon: Monitor },\n    ];\n\n    return (\n        <SettingsCard title=\"화면 설정\" description=\"작업 환경을 커스터마이징합니다.\">\n            <div className=\"space-y-8\">\n                <div>\n                    <label className=\"text-sm font-bold text-slate-900 dark:text-slate-100 block mb-3\">테마 설정</label>\n                    <div className=\"grid grid-cols-3 gap-4\">\n                        {themeOptions.map(opt => (\n                            <button\n                                key={opt.value}\n                                onClick={() => setTheme(opt.value)}\n                                className={`group flex flex-col items-center p-4 border rounded-xl transition-all ${theme === opt.value\n                                    ? 'border-primary bg-primary/10 dark:bg-primary/20 ring-1 ring-primary'\n                                    : 'border-slate-200 dark:border-slate-700 hover:border-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800'}`}\n                            >\n                                <div className={`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${theme === opt.value ? 'bg-white dark:bg-slate-800 text-primary shadow-sm' : 'bg-slate-100 dark:bg-slate-700 text-slate-400'}`}>\n                                    <opt.icon className=\"w-5 h-5\" strokeWidth={1.5} />\n                                </div>\n                                <span className={`text-sm font-medium ${theme === opt.value ? 'text-primary-foreground dark:text-primary' : 'text-slate-600 dark:text-slate-400'}`}>{opt.label}</span>\n                            </button>\n                        ))}\n                    </div>\n                    <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-3\">\n                        현재 적용된 테마: <span className=\"font-medium\">{resolvedTheme === 'dark' ? '다크 모드' : '라이트 모드'}</span>\n                    </p>\n                </div>\n            </div>\n        </SettingsCard>\n    )\n}\n\nconst SettingsPage = () => {\n    const [activeTab, setActiveTab] = useState('프로필');\n    const settingsTabs: { id: string, label: string, icon: LucideIcon }[] = [\n        { id: '프로필', label: '프로필', icon: User },\n        { id: '알림', label: '알림 및 일정', icon: Bell },\n        { id: '화면', label: '화면 설정', icon: Sun },\n        { id: '보안', label: '보안 및 계정', icon: ShieldCheck },\n    ];\n\n    const renderContent = () => {\n        switch (activeTab) {\n            case '프로필': return <ProfileSettings />;\n            case '보안': return <SecuritySettings />;\n            case '알림': return <NotificationSettings />;\n            case '화면': return <AppearanceSettings />;\n            default: return <ProfileSettings />;\n        }\n    };\n\n    return (\n        <>\n            <div className=\"mb-8\">\n                <h1 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100\">설정</h1>\n                <p className=\"text-lg text-slate-600 dark:text-slate-400 mt-1\">계정 정보 및 환경 설정을 관리합니다.</p>\n            </div>\n            <div className=\"flex flex-col lg:flex-row gap-8 items-start\">\n                <div className=\"w-full lg:w-1/4\">\n                    <div className=\"bg-white dark:bg-slate-800 p-3 rounded-xl shadow-sm dark:shadow-slate-900/50 border border-slate-200 dark:border-slate-700 sticky top-8\">\n                        <nav className=\"space-y-1\">\n                            {settingsTabs.map(tab => (\n                                <button\n                                    key={tab.id}\n                                    onClick={() => setActiveTab(tab.id)}\n                                    className={`w-full flex items-center px-4 py-3 text-sm font-bold rounded-lg text-left transition-all ${activeTab === tab.id ? 'bg-primary/10 text-primary' : 'text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-slate-200'}`}\n                                >\n                                    <tab.icon className={`w-5 h-5 mr-3 ${activeTab === tab.id ? 'text-primary' : 'text-slate-400'}`} strokeWidth={1.5} />\n                                    {tab.label}\n                                </button>\n                            ))}\n                        </nav>\n                        <div className=\"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 px-4\">\n                            <p className=\"text-xs font-semibold text-slate-400 uppercase mb-2\">Support</p>\n                            <button className=\"text-sm text-slate-600 dark:text-slate-400 hover:text-primary flex items-center mb-2\">\n                                <Info className=\"w-4 h-4 mr-2\" strokeWidth={1.5} /> 도움말 센터\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"w-full lg:w-3/4\">\n                    {renderContent()}\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default SettingsPage;","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\library\\LibraryViews.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (162). Maximum allowed is 100.","line":11,"column":51,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":180,"endColumn":2},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setView' is assigned a value but never used.","line":14,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo } from 'react';\nimport { ConfirmationModal } from '../../components/ConfirmationModal';\nimport { LibraryListMode } from '../../components/library/LibraryListMode';\nimport TemplateEditor from '../../features/template/TemplateEditor';\nimport { useEvaluationLibrary } from '../../hooks/library/useEvaluationLibrary';\nimport { TemplatePreviewModal } from './TemplatePreviewModal';\nimport { TemplateStartModal } from './TemplateStartModal';\n\ntype LibraryLogic = ReturnType<typeof useEvaluationLibrary>;\n\nconst LibraryViews: React.FC<LibraryLogic> = memo((props) => {\n    const {\n        view,\n        setView,\n        editingTemplate,\n        templates,\n        handleCreateNew,\n        isBusy,\n        searchTerm,\n        setSearchTerm,\n        typeFilter,\n        setTypeFilter,\n        typeOptions,\n        categoryFilter,\n        setCategoryFilter,\n        categoryOptions,\n        showArchived,\n        setShowArchived,\n        isSelectionMode,\n        toggleSelectionMode,\n        selectedIds,\n        sortedTemplates,\n        handleSelectAll,\n        deselectAll,\n        handleBatchArchive,\n        handleBatchExportAction,\n        listViewMode,\n        setListViewMode,\n        sortField,\n        setSortField,\n        sortOrder,\n        toggleSortOrder,\n        fileInputRef,\n        handleImportClick,\n        handleExport,\n        handleFileChange,\n        importError,\n        isLoading,\n        error,\n        handleEditTemplate,\n        handleArchiveTemplate,\n        handleRestoreTemplate,\n        handleDuplicateTemplate,\n        setPreviewTemplate,\n        handleToggleFavorite,\n        toggleSelectItem,\n        handleSaveTemplate,\n        handleCancel,\n        handleSelectBlank,\n        handleSelectPreset,\n        handleRestoreVersion,\n        previewTemplate,\n        showStartModal,\n        setShowStartModal,\n        confirmation,\n        confirmationActions,\n    } = props;\n\n    return (\n        <div className=\"space-y-6\">\n            {/* List View Mode */}\n            {view === 'list' && (\n                <LibraryListMode\n                    // Toolbar Props\n                    onCreateNew={handleCreateNew}\n                    isBusy={isBusy}\n                    searchTerm={searchTerm}\n                    onSearchChange={setSearchTerm}\n                    typeFilter={typeFilter}\n                    onTypeFilterChange={setTypeFilter}\n                    typeOptions={typeOptions}\n                    categoryFilter={categoryFilter}\n                    onCategoryFilterChange={setCategoryFilter}\n                    categoryOptions={categoryOptions}\n                    showArchived={showArchived}\n                    onShowArchivedChange={setShowArchived}\n                    isSelectionMode={isSelectionMode}\n                    onToggleSelectionMode={toggleSelectionMode}\n                    selectedCount={selectedIds.size}\n                    selectableCount={sortedTemplates.length}\n                    onSelectAll={handleSelectAll}\n                    onDeselectAll={deselectAll}\n                    onBatchArchive={handleBatchArchive}\n                    onBatchExport={handleBatchExportAction}\n                    viewMode={listViewMode}\n                    onViewModeChange={setListViewMode}\n                    sortField={sortField}\n                    onSortFieldChange={setSortField}\n                    sortOrder={sortOrder}\n                    onToggleSortOrder={toggleSortOrder}\n                    fileInputRef={fileInputRef}\n                    onImportClick={handleImportClick}\n                    onExport={() => handleExport(sortedTemplates)}\n                    onFileChange={handleFileChange}\n                    canExport={sortedTemplates.length > 0}\n                    importError={importError}\n                    // Data & State\n                    isLoading={isLoading}\n                    error={error}\n                    sortedTemplates={sortedTemplates}\n                    // Actions\n                    handleEditTemplate={handleEditTemplate}\n                    handleArchiveTemplate={handleArchiveTemplate}\n                    handleRestoreTemplate={handleRestoreTemplate}\n                    handleDuplicateTemplate={handleDuplicateTemplate}\n                    setPreviewTemplate={setPreviewTemplate}\n                    handleToggleFavorite={handleToggleFavorite}\n                    toggleSelectItem={toggleSelectItem}\n                    selectedIds={selectedIds}\n                    onCreateTemplate={handleCreateNew}\n                />\n            )}\n\n            {/* Editor Mode */}\n            {view === 'editor' && (\n                <TemplateEditor\n                    initialTemplate={\n                        editingTemplate?.id === 0 ? ({ ...editingTemplate, id: undefined } as any) : editingTemplate\n                    }\n                    onSave={handleSaveTemplate}\n                    onCancel={handleCancel}\n                    categoryOptions={categoryOptions}\n                    onToggleFavorite={() => editingTemplate && handleToggleFavorite(editingTemplate.id)}\n                    onArchive={() => editingTemplate && handleArchiveTemplate(editingTemplate.id)}\n                    onRestore={() => editingTemplate && handleRestoreTemplate(editingTemplate.id)}\n                    isFavorite={!!editingTemplate?.favorite}\n                    isArchived={!!editingTemplate?.archived}\n                    existingTemplates={templates}\n                />\n            )}\n\n            {/* Modals */}\n            {previewTemplate && (\n                <TemplatePreviewModal\n                    template={previewTemplate}\n                    onClose={() => setPreviewTemplate(null)}\n                    onEdit={(id) => {\n                        handleEditTemplate(id);\n                        setPreviewTemplate(null);\n                    }}\n                    onDuplicate={(id) => {\n                        handleDuplicateTemplate(id);\n                        setPreviewTemplate(null);\n                    }}\n                    onRestoreVersion={(id, v) => handleRestoreVersion(id, v, setPreviewTemplate)}\n                />\n            )}\n\n            {showStartModal && (\n                <TemplateStartModal\n                    onClose={() => setShowStartModal(false)}\n                    onSelectBlank={handleSelectBlank}\n                    onSelectPreset={handleSelectPreset}\n                />\n            )}\n\n            {confirmation.isOpen && (\n                <ConfirmationModal\n                    isOpen={true}\n                    onClose={confirmationActions.closeConfirmation}\n                    title={confirmation.title}\n                    message={confirmation.message}\n                    confirmButtonText={confirmation.confirmButtonText}\n                    onConfirm={confirmation.onConfirm}\n                    confirmButtonColor={confirmation.confirmButtonColor}\n                />\n            )}\n        </div>\n    );\n});\n\nLibraryViews.displayName = 'LibraryViews';\n\nexport default LibraryViews;\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\library\\TemplateContentTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\library\\TemplateHistoryTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\library\\TemplatePreviewModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\library\\TemplateStartModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\library\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\pages\\organization\\OrganizationViews.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\providers\\QueryProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\simulation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\stores\\uiStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\components\\IconButton.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\components\\Member.test.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (159). Maximum allowed is 100.","line":17,"column":30,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":243,"endColumn":2},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":232,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":232,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'__' is assigned a value but never used.","line":232,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":232,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Member 컴포넌트 테스트\r\n * 멤버 카드 컴포넌트의 렌더링 및 상호작용 검증\r\n */\r\n\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport { render, screen, fireEvent, cleanup } from '@testing-library/react';\r\nimport { Member } from '../../components/organization/Member';\r\nimport { Member as MemberType } from '../../constants';\r\n\r\n// Mock dependencies\r\nvi.mock('../../components/common', () => ({\r\n  Icon: ({ path, className }: { path: string; className: string }) =>\r\n    <div data-testid=\"icon\" data-path={path} className={className} />\r\n}));\r\n\r\ndescribe('Member Component', () => {\r\n  const mockMember: MemberType = {\r\n    id: 'member1',\r\n    name: '김개발',\r\n    role: '주임',\r\n    status: 'active',\r\n    email: 'kim@example.com',\r\n    hireDate: '2023-01-01',\r\n    avatar: '/avatar1.jpg'\r\n  };\r\n\r\n  const defaultProps = {\r\n    member: mockMember,\r\n    onEdit: vi.fn(),\r\n    onDelete: vi.fn(),\r\n    baseDate: '2024-01-01',\r\n    isDragging: false,\r\n    onDragStart: vi.fn(),\r\n    onDragEnd: vi.fn()\r\n  };\r\n\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  afterEach(() => {\r\n    cleanup();\r\n  });\r\n\r\n  it('멤버 기본 정보를 올바르게 렌더링해야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    expect(screen.getByText('김개발')).toBeInTheDocument();\r\n    expect(screen.getByText('주임')).toBeInTheDocument();\r\n    expect(screen.getByTitle('kim@example.com')).toBeInTheDocument();\r\n  });\r\n\r\n  it('멤버 아바타를 올바르게 렌더링해야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    const avatar = screen.getByRole('img', { name: '김개발 avatar' });\r\n    expect(avatar).toBeInTheDocument();\r\n    expect(avatar).toHaveAttribute('src', '/avatar1.jpg');\r\n  });\r\n\r\n  it('수정 버튼을 클릭하면 onEdit이 호출되어야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    const editButton = screen.getByLabelText('김개발님 정보 수정');\r\n    fireEvent.click(editButton);\r\n\r\n    expect(defaultProps.onEdit).toHaveBeenCalledWith(mockMember);\r\n  });\r\n\r\n  it('삭제 버튼을 클릭하면 onDelete가 호출되어야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    const deleteButton = screen.getByLabelText('김개발님 퇴사 처리');\r\n    fireEvent.click(deleteButton);\r\n\r\n    expect(defaultProps.onDelete).toHaveBeenCalledWith(mockMember);\r\n  });\r\n\r\n  it('active 상태일 때 상태 배지가 렌더링되지 않아야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    expect(screen.queryByText('활성')).not.toBeInTheDocument();\r\n  });\r\n\r\n  it('on_leave 상태일 때 휴직중 배지가 렌더링되어야 한다', () => {\r\n    const memberOnLeave = { ...mockMember, status: 'on_leave' as const };\r\n    render(<Member {...defaultProps} member={memberOnLeave} />);\r\n\r\n    // 모바일과 데스크톱에서 모두 렌더링되므로 getAllByText 사용\r\n    const badges = screen.getAllByText('휴직중');\r\n    expect(badges.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('resigned 상태일 때 퇴사 배지가 렌더링되어야 한다', () => {\r\n    const resignedMember = { ...mockMember, status: 'resigned' as const };\r\n    render(<Member {...defaultProps} member={resignedMember} />);\r\n\r\n    const badges = screen.getAllByText('퇴사');\r\n    expect(badges.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('intern 상태일 때 인턴 배지가 렌더링되어야 한다', () => {\r\n    const internMember = { ...mockMember, status: 'intern' as const };\r\n    render(<Member {...defaultProps} member={internMember} />);\r\n\r\n    // 모바일과 데스크톱에서 모두 렌더링되므로 getAllByText 사용\r\n    const badges = screen.getAllByText('인턴');\r\n    expect(badges.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('재직 기간을 올바르게 계산하여 표시해야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    // 2023-01-01부터 2024-01-01까지는 1년 1일 (실제 계산 로직에 따라)\r\n    expect(screen.getByText(/\\(1년 1일\\)/)).toBeInTheDocument();\r\n  });\r\n\r\n  it('드래그 앤 드롭을 위한 속성들이 설정되어야 한다', () => {\r\n    const { container } = render(<Member {...defaultProps} />);\r\n\r\n    const memberElement = container.querySelector('.drag-item');\r\n    expect(memberElement).toHaveAttribute('draggable', 'true');\r\n  });\r\n\r\n  it('드래그 시작 시 올바른 데이터가 설정되어야 한다', () => {\r\n    const mockDataTransfer = {\r\n      setData: vi.fn(),\r\n      effectAllowed: '',\r\n      setDragImage: vi.fn()\r\n    };\r\n\r\n    render(<Member {...defaultProps} />);\r\n\r\n    const memberElement = screen.getByText('김개발').closest('.drag-item');\r\n    expect(memberElement).not.toBeNull();\r\n\r\n    // DragEvent 이벤트 객체 생성\r\n    const dragEvent = new Event('dragstart', { bubbles: true });\r\n    Object.defineProperty(dragEvent, 'dataTransfer', {\r\n      value: mockDataTransfer,\r\n      writable: false\r\n    });\r\n\r\n    // 드래그 이벤트 디스패치\r\n    memberElement!.dispatchEvent(dragEvent);\r\n\r\n    expect(mockDataTransfer.setData).toHaveBeenCalledWith('memberId', 'member1');\r\n    expect(defaultProps.onDragStart).toHaveBeenCalledWith(mockMember);\r\n  });\r\n\r\n  it('드래그 끝날 때 onDragEnd가 호출되어야 한다', () => {\r\n    const { container } = render(<Member {...defaultProps} />);\r\n\r\n    const memberElement = container.querySelector('.drag-item');\r\n    expect(memberElement).not.toBeNull();\r\n\r\n    // DragEvent 이벤트 객체 생성\r\n    const dragEndEvent = new Event('dragend', { bubbles: true });\r\n\r\n    // 드래그 끝 이벤트 디스패치\r\n    memberElement!.dispatchEvent(dragEndEvent);\r\n\r\n    expect(defaultProps.onDragEnd).toHaveBeenCalled();\r\n  });\r\n\r\n  it('isDragging 상태일 때 시각적 스타일이 적용되어야 한다', () => {\r\n    const propsWithDragging = { ...defaultProps, isDragging: true };\r\n    const { container } = render(<Member {...propsWithDragging} />);\r\n\r\n    const memberElement = container.querySelector('.drag-item');\r\n    expect(memberElement).toHaveClass('dragging', 'opacity-50', 'scale-95');\r\n  });\r\n\r\n  it('드래그 핸들 아이콘이 렌더링되어야 한다', () => {\r\n    render(<Member {...defaultProps} />);\r\n\r\n    const gripIcons = screen.getAllByTestId('icon');\r\n    const gripVerticalIcon = gripIcons.find(icon =>\r\n      icon.getAttribute('data-path') === 'M9 3.75H6.75a.75.75 0 110-1.5h2.25a.75.75 0 110 1.5zM9 12.75H6.75a.75.75 0 110-1.5h2.25a.75.75 0 110 1.5zM9 21.75H6.75a.75.75 0 110-1.5h2.25a.75.75 0 110 1.5zM17.25 3.75h-2.25a.75.75 0 110-1.5h2.25a.75.75 0 110 1.5zM17.25 12.75h-2.25a.75.75 0 110-1.5h2.25a.75.75 0 110 1.5zM17.25 21.75h-2.25a.75.75 0 110-1.5h2.25a.75.75 0 110 1.5z'\r\n    );\r\n\r\n    expect(gripVerticalIcon).toBeDefined();\r\n    expect(gripVerticalIcon).not.toBeNull();\r\n  });\r\n\r\n  it('이메일이 없을 때도 오류없이 렌더링되어야 한다', () => {\r\n    const memberWithoutEmail = { ...mockMember, email: '' };\r\n    const { container } = render(<Member {...defaultProps} member={memberWithoutEmail} />);\r\n\r\n    // 이름이 렌더링되는지 확인\r\n    expect(container.textContent).toContain('김개발');\r\n    // title 속성을 가진 어떤 요소도 없어야 함\r\n    const emailElements = container.querySelectorAll('[title*=\"email\"]');\r\n    expect(emailElements.length).toBe(0);\r\n  });\r\n\r\n  it('입사일이 없을 때 재직 기간이 표시되지 않아야 한다', () => {\r\n    const memberWithoutHireDate = { ...mockMember, hireDate: '' };\r\n    const { container } = render(<Member {...defaultProps} member={memberWithoutHireDate} />);\r\n\r\n    // 괄호로 둘러싸인 날짜 정보가 없어야 함\r\n    const durationText = container.textContent;\r\n    expect(durationText).not.toMatch(/\\(/); // 괄호가 없어야 함\r\n  });\r\n\r\n  it('잘못된 입사일 형식일 때 오류없이 처리되어야 한다', () => {\r\n    const memberWithInvalidDate = { ...mockMember, hireDate: 'invalid-date' };\r\n\r\n    expect(() => {\r\n      render(<Member {...defaultProps} member={memberWithInvalidDate} />);\r\n    }).not.toThrow();\r\n  });\r\n\r\n  it('accessibility 요구사항을 만족해야 한다', () => {\r\n    const { container } = render(<Member {...defaultProps} />);\r\n\r\n    // 버튼들이 적절한 aria-label을 가져야 함\r\n    const editButton = container.querySelector('[aria-label=\"김개발님 정보 수정\"]');\r\n    const deleteButton = container.querySelector('[aria-label=\"김개발님 퇴사 처리\"]');\r\n\r\n    expect(editButton).toBeInTheDocument();\r\n    expect(deleteButton).toBeInTheDocument();\r\n\r\n    // 이미지가 적절한 alt 텍스트를 가져야 함\r\n    const avatar = container.querySelector('img[alt=\"김개발 avatar\"]');\r\n    expect(avatar).toBeInTheDocument();\r\n  });\r\n\r\n  it('onDragStart와 onDragEnd가 undefined일 때도 오류없이 동작해야 한다', () => {\r\n    // Omit the optional props instead of setting them to undefined\r\n    const { onDragStart: _, onDragEnd: __, ...propsWithoutDragHandlers } = defaultProps;\r\n\r\n    expect(() => {\r\n      render(<Member {...propsWithoutDragHandlers} />);\r\n    }).not.toThrow();\r\n\r\n    // 드래그 이벤트는 간단하게 테스트 (실제 드래그 동작은 생략)\r\n    const memberElements = screen.getAllByText('김개발');\r\n    const memberElement = memberElements[0].closest('.drag-item');\r\n    expect(memberElement).toBeInTheDocument();\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\components\\Modal.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\components\\PartSection.test.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (199). Maximum allowed is 100.","line":42,"column":35,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":313,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * PartSection 컴포넌트 테스트\r\n * 파트 섹션 컴포넌트의 렌더링 및 상호작용 검증\r\n */\r\n\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport { render, screen, fireEvent, cleanup } from '@testing-library/react';\r\nimport { PartSection } from '../../components/organization/PartSection';\r\nimport { Part, Member } from '../../constants';\r\n\r\n// Mock dependencies\r\nvi.mock('../../components/common', () => ({\r\n  Icon: ({ path, className }: { path: string; className: string }) => \r\n    <div data-testid=\"icon\" data-path={path} className={className} />,\r\n  Dropdown: ({ trigger, children }: { trigger: React.ReactNode; children: React.ReactNode }) => (\r\n    <div data-testid=\"dropdown\">\r\n      {trigger}\r\n      <div data-testid=\"dropdown-menu\">{children}</div>\r\n    </div>\r\n  ),\r\n  DropdownItem: ({ onClick, children, disabled }: { onClick: () => void; children: React.ReactNode; disabled?: boolean }) => (\r\n    <button \r\n      data-testid=\"dropdown-item\" \r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {children}\r\n    </button>\r\n  )\r\n}));\r\n\r\nvi.mock('../../components/organization/Member', () => ({\r\n  Member: ({ member, onEdit, onDelete }: { member: Member; onEdit: (member: Member) => void; onDelete: (member: Member) => void }) => (\r\n    <div data-testid=\"member\" data-member-id={member.id}>\r\n      <span>{member.name}</span>\r\n      <button onClick={() => onEdit(member)}>Edit {member.name}</button>\r\n      <button onClick={() => onDelete(member)}>Delete {member.name}</button>\r\n    </div>\r\n  )\r\n}));\r\n\r\ndescribe('PartSection Component', () => {\r\n  const mockMembers: Member[] = [\r\n    {\r\n      id: 'member1',\r\n      name: '김개발',\r\n      role: '주임',\r\n      status: 'active',\r\n      email: 'kim@example.com',\r\n      hireDate: '2023-01-01',\r\n      avatar: '/avatar1.jpg'\r\n    },\r\n    {\r\n      id: 'member2',\r\n      name: '이개발',\r\n      role: '대리',\r\n      status: 'on_leave',\r\n      email: 'lee@example.com',\r\n      hireDate: '2022-01-01',\r\n      avatar: '/avatar2.jpg'\r\n    }\r\n  ];\r\n\r\n  const mockPart: Part = {\r\n    id: 'part1',\r\n    title: '프론트엔드',\r\n    members: mockMembers,\r\n    originalMemberCount: 3\r\n  };\r\n\r\n  const defaultProps = {\n    part: mockPart,\n    teamId: 'team1',\n    onAddMember: vi.fn(),\n    onEditMember: vi.fn(),\n    onDeleteMember: vi.fn(),\n    onDropMemberInPart: vi.fn(),\n    onEditPart: vi.fn(),\n    onDeletePart: vi.fn(),\n    onMoveMember: vi.fn(),\n    searchTerm: '',\n    baseDate: '2024-01-01'\n  };\n\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  afterEach(() => {\r\n    cleanup();\r\n  });\r\n\r\n  it('파트 기본 정보를 올바르게 렌더링해야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    expect(screen.getByText('프론트엔드 (2명)')).toBeInTheDocument();\r\n  });\r\n\r\n  it('검색어가 있을 때 멤버 수를 \"현재 수 / 전체 수\" 형식으로 표시해야 한다', () => {\r\n    const propsWithSearch = {\r\n      ...defaultProps,\r\n      searchTerm: '김'\r\n    };\r\n\r\n    render(<PartSection {...propsWithSearch} />);\r\n\r\n    expect(screen.getByText('프론트엔드 (2 / 3명)')).toBeInTheDocument();\r\n  });\r\n\r\n  it('파트 멤버들을 렌더링해야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    expect(screen.getByText('김개발')).toBeInTheDocument();\r\n    expect(screen.getByText('이개발')).toBeInTheDocument();\r\n  });\r\n\r\n  it('접기/펼치기 기능이 동작해야 한다', () => {\n    render(<PartSection {...defaultProps} />);\n\n    // 초기에는 열려있어야 함\n    expect(screen.getByText('김개발')).toBeInTheDocument();\n\n    // 토글 버튼으로 접기\n    const toggleButton = screen.getByLabelText('파트 접기');\n    fireEvent.click(toggleButton);\n\n    // 멤버가 보이지 않아야 함\n    expect(screen.queryByText('김개발')).not.toBeInTheDocument();\n  });\n\r\n  it('드롭다운 메뉴가 렌더링되어야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    expect(screen.getByTestId('dropdown')).toBeInTheDocument();\r\n    expect(screen.getByTestId('dropdown-menu')).toBeInTheDocument();\r\n  });\r\n\r\n  it('파트 헤더의 멤버 추가 버튼을 클릭하면 onAddMember가 호출되어야 한다', () => {\n    render(<PartSection {...defaultProps} />);\n\n    const addButton = screen.getByText('멤버 추가').closest('button');\n    expect(addButton).toBeInTheDocument();\n    fireEvent.click(addButton!);\n\n    expect(defaultProps.onAddMember).toHaveBeenCalledWith('team1', 'part1');\n  });\n\r\n  it('파트명 변경 메뉴 항목을 클릭하면 onEditPart가 호출되어야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    const dropdownItems = screen.getAllByTestId('dropdown-item');\r\n    const editPartItem = dropdownItems.find(item => \r\n      item.textContent?.includes('파트명 변경')\r\n    );\r\n\r\n    expect(editPartItem).toBeDefined();\r\n    fireEvent.click(editPartItem!);\r\n\r\n    expect(defaultProps.onEditPart).toHaveBeenCalledWith('team1', mockPart);\r\n  });\r\n\r\n  it('멤버가 있는 파트는 삭제 버튼이 비활성화되어야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    const dropdownItems = screen.getAllByTestId('dropdown-item');\r\n    const deletePartItem = dropdownItems.find(item => \r\n      item.textContent?.includes('파트 삭제')\r\n    );\r\n\r\n    expect(deletePartItem).toBeDisabled();\r\n  });\r\n\r\n  it('멤버가 없는 파트는 삭제 버튼이 활성화되어야 한다', () => {\r\n    const emptyPart = {\r\n      ...mockPart,\r\n      members: []\r\n    };\r\n\r\n    const propsWithEmptyPart = {\r\n      ...defaultProps,\r\n      part: emptyPart\r\n    };\r\n\r\n    render(<PartSection {...propsWithEmptyPart} />);\r\n\r\n    const dropdownItems = screen.getAllByTestId('dropdown-item');\r\n    const deletePartItem = dropdownItems.find(item => \r\n      item.textContent?.includes('파트 삭제')\r\n    );\r\n\r\n    expect(deletePartItem).not.toBeDisabled();\r\n\r\n    fireEvent.click(deletePartItem!);\r\n    expect(defaultProps.onDeletePart).toHaveBeenCalledWith('team1', 'part1');\r\n  });\r\n\r\n  it('멤버가 없을 때 안내 메시지를 표시해야 한다', () => {\r\n    const emptyPart = {\r\n      ...mockPart,\r\n      members: []\r\n    };\r\n\r\n    const propsWithEmptyPart = {\r\n      ...defaultProps,\r\n      part: emptyPart\r\n    };\r\n\r\n    render(<PartSection {...propsWithEmptyPart} />);\r\n\r\n    expect(screen.getByText(/이 파트에 멤버가 없습니다/)).toBeInTheDocument();\r\n  });\r\n\r\n  it('드래그 오버 시 적절한 시각적 피드백을 제공해야 한다', () => {\r\n    const { container } = render(<PartSection {...defaultProps} />);\r\n\r\n    const dropZone = container.querySelector('.pl-4');\r\n    expect(dropZone).not.toBeNull();\r\n\r\n    // 드래그 엔터 시뮬레이션\r\n    fireEvent.dragEnter(dropZone!, {\r\n      dataTransfer: {\r\n        types: ['text/plain']\r\n      }\r\n    });\r\n\r\n    // 드래그 오버 가이드 메시지 확인\r\n    expect(screen.getByText('여기에 드롭하세요')).toBeInTheDocument();\r\n  });\r\n\r\n  it('드롭 시 onDropMemberInPart가 호출되어야 한다', () => {\r\n    const { container } = render(<PartSection {...defaultProps} />);\r\n\r\n    const dropZone = container.querySelector('.pl-4');\r\n    expect(dropZone).not.toBeNull();\r\n\r\n    // 드래그 엔터\r\n    fireEvent.dragEnter(dropZone!, {\r\n      dataTransfer: {\r\n        types: ['text/plain']\r\n      }\r\n    });\r\n\r\n    // 드롭 시뮬레이션\r\n    fireEvent.drop(dropZone!, {\r\n      dataTransfer: {\r\n        getData: () => 'member3'\r\n      }\r\n    });\r\n\r\n    expect(defaultProps.onDropMemberInPart).toHaveBeenCalledWith('member3', 'team1', 'part1');\r\n  });\r\n\r\n  it('멤버 편집 시 onEditMember가 호출되어야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    const editButton = screen.getByText('Edit 김개발');\r\n    fireEvent.click(editButton);\r\n\r\n    expect(defaultProps.onEditMember).toHaveBeenCalledWith(mockMembers[0]);\r\n  });\r\n\r\n  it('멤버 삭제 시 onDeleteMember가 호출되어야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    const deleteButton = screen.getByText('Delete 김개발');\r\n    fireEvent.click(deleteButton);\r\n\r\n    expect(defaultProps.onDeleteMember).toHaveBeenCalledWith(mockMembers[0]);\r\n  });\r\n\r\n  it('드래그 앤 드롭 핸들러가 Member에게 전달되어야 한다', () => {\r\n    render(<PartSection {...defaultProps} />);\r\n\r\n    const memberElements = screen.getAllByTestId('member');\r\n    expect(memberElements.length).toBe(2);\r\n    expect(memberElements[0]).toBeInTheDocument();\r\n    expect(memberElements[1]).toBeInTheDocument();\r\n  });\r\n\r\n  it('chevron 아이콘이 열림/닫힘 상태에 따라 변경되어야 한다', () => {\n    render(<PartSection {...defaultProps} />);\n\n    // 초기에는 chevronUp 아이콘이어야 함 (열린 상태)\n    let chevronIcons = screen.getAllByTestId('icon');\n    let chevronIcon = chevronIcons.find(icon => \r\n      icon.getAttribute('data-path')?.includes('4.5 15.75l7.5-7.5 7.5 7.5')\r\n    );\n    expect(chevronIcon).toBeDefined();\n\n    // 토글 버튼으로 접기\n    const toggleButton = screen.getByLabelText('파트 접기');\n    fireEvent.click(toggleButton);\n\n    // chevronDown 아이콘으로 변경되어야 함\n    chevronIcons = screen.getAllByTestId('icon');\n    chevronIcon = chevronIcons.find(icon => \n      icon.getAttribute('data-path')?.includes('19.5 8.25l-7.5 7.5-7.5-7.5')\r\n    );\r\n    expect(chevronIcon).toBeDefined();\r\n  });\r\n\r\n  it('accessibility 요구사항을 만족해야 한다', () => {\n    render(<PartSection {...defaultProps} />);\n\n    // 토글 버튼이 있어야 함\n    const toggleButton = screen.getByRole('button', { name: '파트 접기' });\n    expect(toggleButton).toBeInTheDocument();\n\n    // 드롭다운 버튼이 있어야 함\n    const dropdownTrigger = screen.getByTestId('dropdown');\n    expect(dropdownTrigger).toBeInTheDocument();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\components\\TeamCard.test.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (169). Maximum allowed is 100.","line":40,"column":32,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":248,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * TeamCard 컴포넌트 테스트\r\n * 팀 카드 컴포넌트의 렌더링 및 상호작용 검증\r\n */\r\n\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport { render, screen, fireEvent } from '@testing-library/react';\r\nimport { TeamCard } from '../../components/organization/TeamCard';\r\nimport { Team, Part } from '../../constants';\r\n\r\n// Mock dependencies\r\nvi.mock('../../components/common', () => ({\r\n  Icon: ({ path, className }: { path: string; className: string }) =>\r\n    <div data-testid=\"icon\" data-path={path} className={className} />,\r\n  Dropdown: ({ trigger, children }: { trigger: React.ReactNode; children: React.ReactNode }) => (\r\n    <div data-testid=\"dropdown\">\r\n      {trigger}\r\n      <div data-testid=\"dropdown-menu\">{children}</div>\r\n    </div>\r\n  ),\r\n  DropdownItem: ({ onClick, children, disabled }: { onClick: () => void; children: React.ReactNode; disabled?: boolean }) => (\r\n    <button\r\n      data-testid=\"dropdown-item\"\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {children}\r\n    </button>\r\n  )\r\n}));\r\n\r\nvi.mock('../../components/organization/PartSection', () => ({\r\n  PartSection: ({ part, teamId }: { part: Part; teamId: string }) => (\r\n    <div data-testid=\"part-section\" data-part-id={part.id} data-team-id={teamId}>\r\n      {part.title} ({part.members.length}명)\r\n    </div>\r\n  )\r\n}));\r\n\r\ndescribe('TeamCard Component', () => {\r\n  const mockTeam: Team = {\r\n    id: 'team1',\r\n    name: '개발팀',\r\n    lead: '김팀장',\r\n    originalTotalMemberCount: 5,\r\n    parts: [\r\n      {\r\n        id: 'part1',\r\n        title: '프론트엔드',\r\n        members: [\r\n          {\r\n            id: 'member1',\r\n            name: '김개발',\r\n            role: '주임',\r\n            status: 'active',\r\n            email: 'kim@example.com',\r\n            hireDate: '2023-01-01',\r\n            avatar: '/avatar1.jpg'\r\n          },\r\n          {\r\n            id: 'member2',\r\n            name: '이개발',\r\n            role: '대리',\r\n            status: 'active',\r\n            email: 'lee@example.com',\r\n            hireDate: '2022-01-01',\r\n            avatar: '/avatar2.jpg'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'part2',\r\n        title: '백엔드',\r\n        members: [\r\n          {\r\n            id: 'member3',\r\n            name: '박개발',\r\n            role: '과장',\r\n            status: 'active',\r\n            email: 'park@example.com',\r\n            hireDate: '2021-01-01',\r\n            avatar: '/avatar3.jpg'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  const defaultProps = {\r\n    team: mockTeam,\r\n    onAddMember: vi.fn(),\r\n    onEditMember: vi.fn(),\r\n    onDeleteMember: vi.fn(),\r\n    onDropMemberInPart: vi.fn(),\r\n    onAddPart: vi.fn(),\r\n    onEditPart: vi.fn(),\r\n    onDeletePart: vi.fn(),\r\n    onEditTeam: vi.fn(),\r\n    onDeleteTeam: vi.fn(),\r\n    onMoveMember: vi.fn(),\r\n    searchTerm: '',\r\n    baseDate: '2024-01-01'\r\n  };\r\n\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  it('팀 기본 정보를 올바르게 렌더링해야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    expect(screen.getByText('개발팀 (5명)')).toBeInTheDocument();\r\n    expect(screen.getByText('팀장: 김팀장')).toBeInTheDocument();\r\n  });\r\n\r\n  it('팀에 속한 파트들을 렌더링해야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const partSections = screen.getAllByTestId('part-section');\r\n    expect(partSections.length).toBeGreaterThan(0);\r\n    expect(screen.getByText('프론트엔드 (2명)')).toBeInTheDocument();\r\n  });\r\n\r\n  it('파트 추가 버튼을 렌더링해야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const addPartButton = screen.getByRole('button', { name: /파트 추가/i });\r\n    expect(addPartButton).toBeInTheDocument();\r\n  });\r\n\r\n  it('파트 추가 버튼 클릭 시 onAddPart를 호출해야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const addPartButton = screen.getByRole('button', { name: /파트 추가/i });\r\n    fireEvent.click(addPartButton);\r\n\r\n    expect(defaultProps.onAddPart).toHaveBeenCalledWith('team1');\r\n  });\r\n\r\n  it('드롭다운 메뉴가 렌더링되어야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    expect(screen.getByTestId('dropdown')).toBeInTheDocument();\r\n    expect(screen.getByTestId('dropdown-menu')).toBeInTheDocument();\r\n  });\r\n\r\n  it('팀 편집 메뉴 항목이 있어야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const editItems = screen.getAllByTestId('dropdown-item');\r\n    const editTeamItem = editItems.find(item =>\r\n      item.textContent?.includes('팀 정보 수정')\r\n    );\r\n\r\n    expect(editTeamItem).toBeInTheDocument();\r\n  });\r\n\r\n  it('팀 삭제 메뉴 항목이 있어야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const deleteItems = screen.getAllByTestId('dropdown-item');\r\n    const deleteTeamItem = deleteItems.find(item =>\r\n      item.textContent?.includes('팀 삭제')\r\n    );\r\n\r\n    expect(deleteTeamItem).toBeInTheDocument();\r\n  });\r\n\r\n  it('팀이 비어있지 않으면 팀 삭제 버튼이 비활성화되어야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const deleteItems = screen.getAllByTestId('dropdown-item');\r\n    const deleteTeamItem = deleteItems.find(item =>\r\n      item.textContent?.includes('팀 삭제')\r\n    );\r\n\r\n    expect(deleteTeamItem).toBeDisabled();\r\n  });\r\n\r\n  it('검색어가 있을 때 멤버 수를 올바르게 표시해야 한다', () => {\r\n    const propsWithSearch = {\r\n      ...defaultProps,\r\n      searchTerm: '김'\r\n    };\r\n\r\n    render(<TeamCard {...propsWithSearch} />);\r\n\r\n    // 검색어가 있을 때는 \"필터된 수 / 전체 수\" 형식으로 표시\r\n    expect(screen.getByText(/개발팀 \\(\\d+ \\/ \\d+명\\)/)).toBeInTheDocument();\r\n  });\r\n\r\n  it('검색 결과가 없을 때 팀이 렌더링되지 않아야 한다', () => {\r\n    const teamWithNoMatches = {\r\n      ...mockTeam,\r\n      parts: mockTeam.parts.map(part => ({\r\n        ...part,\r\n        members: [] // 검색 결과가 없는 상태\r\n      }))\r\n    };\r\n\r\n    const propsWithSearch = {\r\n      ...defaultProps,\r\n      team: teamWithNoMatches,\r\n      searchTerm: '존재하지않는검색어'\r\n    };\r\n\r\n    const { container } = render(<TeamCard {...propsWithSearch} />);\r\n    expect(container.firstChild).toBeNull();\r\n  });\r\n\r\n  it('빈 팀이고 검색어가 없을 때 렌더링되지 않아야 한다', () => {\r\n    const emptyTeam = {\r\n      ...mockTeam,\r\n      originalTotalMemberCount: 0,\r\n      parts: []\r\n    };\r\n\r\n    const { container } = render(<TeamCard {...defaultProps} team={emptyTeam} />);\r\n    expect(container.firstChild).toBeNull();\r\n  });\r\n\r\n  it('드래그 상태가 전달되어야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const partSections = screen.getAllByTestId('part-section');\r\n    expect(partSections.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('모든 필수 props가 파트 섹션에 전달되어야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    const partSection = screen.getAllByTestId('part-section')[0];\r\n    expect(partSection).toHaveAttribute('data-part-id', 'part1');\r\n    expect(partSection).toHaveAttribute('data-team-id', 'team1');\r\n  });\r\n\r\n  it('accessibility 요구사항을 만족해야 한다', () => {\r\n    render(<TeamCard {...defaultProps} />);\r\n\r\n    // 버튼들이 적절한 역할을 가져야 함\r\n    const addPartButton = screen.getByRole('button', { name: /파트 추가/i });\r\n    expect(addPartButton).toBeInTheDocument();\r\n\r\n    // 제목이 적절한 계층구조를 가져야 함\r\n    const teamTitle = screen.getByRole('heading', { level: 2 });\r\n    expect(teamTitle).toBeInTheDocument();\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\hooks\\useMemberManagement.test.tsx","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (226). Maximum allowed is 100.","line":40,"column":38,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":320,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * useMemberManagement Hook 테스트\r\n * 멤버 관리 로직 검증\r\n */\r\n\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport { renderHook, act } from '@testing-library/react';\r\nimport { useMemberManagement } from '../../hooks/organization/useMemberManagement';\r\nimport { Team } from '../../constants';\r\n\r\n// Mock dependencies\r\nvi.mock('../../hooks/useConfirmation', () => ({\r\n  useConfirmation: () => [\r\n    { isOpen: false },\r\n    { showConfirmation: vi.fn() }\r\n  ]\r\n}));\r\n\r\nvi.mock('../../hooks/useAsyncOperation', () => ({\r\n  useAsyncOperation: () => [\r\n    { isLoading: false },\r\n    { execute: vi.fn() }\r\n  ]\r\n}));\r\n\r\nvi.mock('../../contexts/ErrorContext', () => ({\r\n  useError: () => ({\r\n    showError: vi.fn(),\r\n    showSuccess: vi.fn()\r\n  })\r\n}));\r\n\r\nvi.mock('../../utils/logger', () => ({\r\n  logger: {\r\n    error: vi.fn(),\r\n    info: vi.fn()\r\n  }\r\n}));\r\n\r\ndescribe('useMemberManagement Hook', () => {\r\n  const mockTeams: Team[] = [\r\n    {\r\n      id: 'team1',\r\n      name: '개발팀',\r\n      lead: '팀장',\r\n      parts: [\r\n        {\r\n          id: 'part1',\r\n          title: '프론트엔드',\r\n          members: [\r\n            {\r\n              id: 'member1',\r\n              name: '김개발',\r\n              role: '주임',\r\n              status: 'active',\r\n              email: 'kim@example.com',\r\n              hireDate: '2023-01-01',\r\n              avatar: '/avatar1.jpg'\r\n            },\r\n            {\r\n              id: 'member2',\r\n              name: '이퇴사',\r\n              role: '대리',\r\n              status: 'resigned',\r\n              email: 'lee@example.com',\r\n              hireDate: '2022-01-01',\r\n              avatar: '/avatar2.jpg'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const mockSetTeams = vi.fn();\r\n\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  afterEach(() => {\r\n    vi.restoreAllMocks();\r\n  });\r\n\r\n  it('초기 상태가 올바르게 설정되어야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    expect(result.current.isModalOpen).toBe(false);\r\n    expect(result.current.editingMember).toBe(null);\r\n    expect(result.current.modalContext).toBe(null);\r\n  });\r\n\r\n  it('멤버 추가 모달을 올바르게 열어야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    act(() => {\r\n      result.current.handleAddMember('team1', 'part1');\r\n    });\r\n\r\n    expect(result.current.isModalOpen).toBe(true);\r\n    expect(result.current.editingMember).toBe(null);\r\n    expect(result.current.modalContext).toEqual({\r\n      teamId: 'team1',\r\n      partId: 'part1'\r\n    });\r\n  });\r\n\r\n  it('멤버 편집 모달을 올바르게 열어야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    const testMember = mockTeams[0].parts[0].members[0];\r\n\r\n    act(() => {\r\n      result.current.handleEditMember(testMember);\r\n    });\r\n\r\n    expect(result.current.isModalOpen).toBe(true);\r\n    expect(result.current.editingMember).toEqual(testMember);\r\n    expect(result.current.modalContext).toBe(null);\r\n  });\r\n\r\n  it('모달을 올바르게 닫을 수 있어야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    // 먼저 모달을 열고\r\n    act(() => {\r\n      result.current.handleAddMember('team1', 'part1');\r\n    });\r\n\r\n    expect(result.current.isModalOpen).toBe(true);\r\n\r\n    // 모달을 닫기\r\n    act(() => {\r\n      result.current.setIsModalOpen(false);\r\n    });\r\n\r\n    expect(result.current.isModalOpen).toBe(false);\r\n  });\r\n\r\n  it('멤버의 위치를 올바르게 찾아야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    const testMember = mockTeams[0].parts[0].members[0];\r\n\r\n    // handleDeleteMember를 호출하여 findMemberLocation 로직 테스트\r\n    act(() => {\r\n      result.current.handleDeleteMember(testMember);\r\n    });\r\n\r\n    // confirmationActions.showConfirmation이 호출되었는지 확인\r\n    // (멤버를 찾을 수 있었다는 의미)\r\n    expect(result.current.confirmationActions.showConfirmation).toHaveBeenCalledWith(\r\n      expect.objectContaining({\r\n        title: '퇴사 처리 확인',\r\n        message: expect.stringContaining('김개발님을 퇴사 처리하시겠습니까?')\r\n      })\r\n    );\r\n  });\r\n\r\n  it('삭제 확인 다이얼로그를 올바르게 표시해야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    const testMember = mockTeams[0].parts[0].members[0];\r\n\r\n    act(() => {\r\n      result.current.handleDeleteMember(testMember);\r\n    });\r\n\r\n    expect(result.current.confirmationActions.showConfirmation).toHaveBeenCalledWith(\r\n      expect.objectContaining({\r\n        title: '퇴사 처리 확인',\r\n        message: expect.stringContaining('김개발님을 퇴사 처리하시겠습니까?'),\r\n        confirmButtonText: '퇴사 처리',\r\n        confirmButtonColor: 'destructive'\r\n      })\r\n    );\r\n  });\r\n\r\n  it('복직 확인 다이얼로그를 올바르게 표시해야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    const resignedMember = {\r\n      ...mockTeams[0].parts[0].members[1],\r\n      teamId: 'team1',\r\n      partId: 'part1'\r\n    };\r\n\r\n    act(() => {\r\n      result.current.handleReinstateMember(resignedMember);\r\n    });\r\n\r\n    expect(result.current.confirmationActions.showConfirmation).toHaveBeenCalledWith(\r\n      expect.objectContaining({\r\n        title: '복직 처리 확인',\r\n        message: expect.stringContaining('이퇴사님을 복직 처리하시겠습니까?'),\r\n        confirmButtonText: '복직 처리',\r\n        confirmButtonColor: 'outline'\r\n      })\r\n    );\r\n  });\r\n\r\n  it('퇴사자 영구 삭제 확인 다이얼로그를 올바르게 표시해야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    const resignedMember = mockTeams[0].parts[0].members[1];\r\n\r\n    act(() => {\r\n      result.current.handleDeleteResignedMember(resignedMember);\r\n    });\r\n\r\n    expect(result.current.confirmationActions.showConfirmation).toHaveBeenCalledWith(\r\n      expect.objectContaining({\r\n        title: '기록 영구 삭제',\r\n        message: expect.stringContaining('이퇴사님의 퇴사 기록을 영구적으로 삭제하시겠습니까?'),\r\n        confirmButtonText: '영구 삭제',\r\n        confirmButtonColor: 'destructive'\r\n      })\r\n    );\r\n  });\r\n\r\n  it('필요한 액션 함수들을 제공해야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    expect(typeof result.current.handleAddMember).toBe('function');\r\n    expect(typeof result.current.handleEditMember).toBe('function');\r\n    expect(typeof result.current.handleDeleteMember).toBe('function');\r\n    expect(typeof result.current.handleDeleteResignedMember).toBe('function');\r\n    expect(typeof result.current.handleReinstateMember).toBe('function');\r\n    expect(typeof result.current.handleSaveMember).toBe('function');\r\n  });\r\n\r\n  it('비동기 작업 상태가 포함되어야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    expect(result.current.saveOperation).toBeDefined();\r\n    expect(result.current.deleteOperation).toBeDefined();\r\n    expect(result.current.saveOperation.isLoading).toBe(false);\r\n    expect(result.current.deleteOperation.isLoading).toBe(false);\r\n  });\r\n\r\n  it('확인 다이얼로그 상태가 포함되어야 한다', () => {\r\n    const { result } = renderHook(() =>\r\n      useMemberManagement(mockTeams, mockSetTeams)\r\n    );\r\n\r\n    expect(result.current.confirmation).toBeDefined();\r\n    expect(result.current.confirmation.isOpen).toBe(false);\r\n    expect(typeof result.current.confirmationActions).toBe('object');\r\n  });\r\n\r\n  it('멤버 데이터가 변경될 때 Hook이 업데이트되어야 한다', () => {\r\n    const { result, rerender } = renderHook(\r\n      ({ teams }) => useMemberManagement(teams, mockSetTeams),\r\n      { initialProps: { teams: mockTeams } }\r\n    );\r\n\r\n    // 초기 상태 확인\r\n    expect(result.current.editingMember).toBe(null);\r\n\r\n    // 새로운 팀 데이터로 리렌더링\r\n    const updatedTeams = [\r\n      {\r\n        ...mockTeams[0],\r\n        parts: [\r\n          {\r\n            ...mockTeams[0].parts[0],\r\n            members: [\r\n              ...mockTeams[0].parts[0].members,\r\n              {\r\n                id: 'member3',\r\n                name: '박신입',\r\n                role: '사원',\r\n                status: 'active' as const,\r\n                email: 'park@example.com',\r\n                hireDate: '2024-01-01',\r\n                avatar: '/avatar3.jpg'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    rerender({ teams: updatedTeams });\r\n\r\n    // Hook이 새로운 데이터로 업데이트되었는지 확인\r\n    // (삭제 함수 호출 시 새로운 멤버를 찾을 수 있는지 테스트)\r\n    const newMember = updatedTeams[0].parts[0].members[2];\r\n\r\n    act(() => {\r\n      result.current.handleDeleteMember(newMember);\r\n    });\r\n\r\n    expect(result.current.confirmationActions.showConfirmation).toHaveBeenCalledWith(\r\n      expect.objectContaining({\r\n        message: expect.stringContaining('박신입님을 퇴사 처리하시겠습니까?')\r\n      })\r\n    );\r\n  });\r\n});","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\hooks\\useOrganizationData.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\hooks\\useOrganizationFilter.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\integration\\OrganizationManagement.integration.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\setup.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":62,"column":1,"severity":1,"nodeType":null,"fix":{"range":[1360,1422],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/**\r\n * 테스트 설정 파일\r\n * Vitest와 React Testing Library 전역 설정\r\n */\r\n\r\nimport '@testing-library/jest-dom';\r\n\r\n// 전역 테스트 설정\r\nimport { beforeEach, beforeAll, afterAll, vi } from 'vitest';\r\n\r\n// 로컬 스토리지 모킹\r\nconst localStorageMock = {\r\n  getItem: vi.fn(),\r\n  setItem: vi.fn(),\r\n  removeItem: vi.fn(),\r\n  clear: vi.fn(),\r\n};\r\nObject.defineProperty(window, 'localStorage', {\r\n  value: localStorageMock,\r\n});\r\n\r\n// 세션 스토리지 모킹\r\nconst sessionStorageMock = {\r\n  getItem: vi.fn(),\r\n  setItem: vi.fn(),\r\n  removeItem: vi.fn(),\r\n  clear: vi.fn(),\r\n};\r\nObject.defineProperty(window, 'sessionStorage', {\r\n  value: sessionStorageMock,\r\n});\r\n\r\n// window.matchMedia 모킹 (반응형 테스트용)\r\nObject.defineProperty(window, 'matchMedia', {\r\n  writable: true,\r\n  value: vi.fn().mockImplementation(query => ({\r\n    matches: false,\r\n    media: query,\r\n    onchange: null,\r\n    addListener: vi.fn(), // deprecated\r\n    removeListener: vi.fn(), // deprecated\r\n    addEventListener: vi.fn(),\r\n    removeEventListener: vi.fn(),\r\n    dispatchEvent: vi.fn(),\r\n  })),\r\n});\r\n\r\n// ResizeObserver 모킹\r\nglobal.ResizeObserver = vi.fn().mockImplementation(() => ({\r\n  observe: vi.fn(),\r\n  unobserve: vi.fn(),\r\n  disconnect: vi.fn(),\r\n}));\r\n\r\n// IntersectionObserver 모킹\r\nglobal.IntersectionObserver = vi.fn().mockImplementation(() => ({\r\n  observe: vi.fn(),\r\n  unobserve: vi.fn(),\r\n  disconnect: vi.fn(),\r\n}));\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet consoleSpies: any[] = [];\r\n\r\nbeforeAll(() => {\r\n  consoleSpies = [\r\n    vi.spyOn(console, 'log').mockImplementation(() => { }),\r\n    vi.spyOn(console, 'info').mockImplementation(() => { }),\r\n    vi.spyOn(console, 'warn').mockImplementation(() => { }),\r\n    vi.spyOn(console, 'error').mockImplementation(() => { }),\r\n  ];\r\n});\r\n\r\nafterAll(() => {\r\n  consoleSpies.forEach(spy => spy.mockRestore());\r\n  consoleSpies = [];\r\n});\r\n\r\n// 각 테스트 전에 모든 모킹 초기화\r\nbeforeEach(() => {\r\n  vi.clearAllMocks();\r\n  localStorageMock.getItem.mockClear();\r\n  localStorageMock.setItem.mockClear();\r\n  localStorageMock.removeItem.mockClear();\r\n  localStorageMock.clear.mockClear();\r\n  sessionStorageMock.getItem.mockClear();\r\n  sessionStorageMock.setItem.mockClear();\r\n  sessionStorageMock.removeItem.mockClear();\r\n  sessionStorageMock.clear.mockClear();\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\test-utils.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\test\\utils\\logger.test.ts","messages":[{"ruleId":"max-lines-per-function","severity":1,"message":"Arrow function has too many lines (154). Maximum allowed is 100.","line":17,"column":25,"nodeType":"ArrowFunctionExpression","messageId":"exceed","endLine":228,"endColumn":2}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Logger 유틸리티 함수 테스트\r\n * 환경별 로그 출력 동작 검증\r\n */\r\n\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport { logger } from '../../utils/logger';\r\n\r\n// 콘솔 메서드 모킹\r\nconst mockConsole = {\r\n  log: vi.fn(),\r\n  info: vi.fn(),\r\n  warn: vi.fn(),\r\n  error: vi.fn(),\r\n};\r\n\r\ndescribe('Logger 유틸리티', () => {\r\n  let originalConsole: Console;\r\n\r\n  beforeEach(() => {\r\n    // 콘솔 모킹\r\n    originalConsole = global.console;\r\n    global.console = mockConsole as any;\r\n\r\n    // 모든 모킹 초기화\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  afterEach(() => {\r\n    // 원본 복원\r\n    global.console = originalConsole;\r\n  });\r\n\r\n  describe('개발 환경 로그', () => {\r\n    beforeEach(() => {\r\n      // 개발 환경 설정\r\n      vi.stubEnv('DEV', true);\r\n    });\r\n\r\n    afterEach(() => {\r\n      // 환경변수 복원\r\n      vi.unstubAllEnvs();\r\n    });\r\n\r\n    it('debug 로그가 출력되어야 한다', () => {\r\n      const message = '디버그 메시지';\r\n      const args = ['추가', '인자'];\r\n\r\n      logger.debug(message, ...args);\r\n\r\n      expect(mockConsole.log).toHaveBeenCalledWith(\r\n        expect.stringContaining('[DEBUG]'),\r\n        message,\r\n        ...args\r\n      );\r\n    });\r\n\r\n    it('info 로그가 출력되어야 한다', () => {\r\n      const message = '정보 메시지';\r\n\r\n      logger.info(message);\r\n\r\n      expect(mockConsole.info).toHaveBeenCalledWith(\r\n        expect.stringContaining('[INFO]'),\r\n        message\r\n      );\r\n    });\r\n\r\n    it('warn 로그가 출력되어야 한다', () => {\r\n      const message = '경고 메시지';\r\n\r\n      logger.warn(message);\r\n\r\n      expect(mockConsole.warn).toHaveBeenCalledWith(\r\n        expect.stringContaining('[WARN]'),\r\n        message\r\n      );\r\n    });\r\n\r\n    it('error 로그가 출력되어야 한다', () => {\r\n      const message = '에러 메시지';\r\n\r\n      logger.error(message);\r\n\r\n      expect(mockConsole.error).toHaveBeenCalledWith(\r\n        expect.stringContaining('[ERROR]'),\r\n        message\r\n      );\r\n    });\r\n\r\n    it('타임스탬프가 포함되어야 한다', () => {\r\n      logger.info('테스트 메시지');\r\n\r\n      const call = mockConsole.info.mock.calls[0];\r\n      const logMessage = call[0];\r\n\r\n      // 더 간단한 검증 방식 사용\r\n      expect(logMessage).toContain('[');\r\n      expect(logMessage).toContain('INFO');\r\n      expect(logMessage).toContain(']');\r\n      expect(logMessage).toContain('T'); // ISO 형식의 T 구분자\r\n    });\r\n  });\r\n\r\n  describe('프로덕션 환경 로그', () => {\r\n    beforeEach(() => {\r\n      // 프로덕션 환경 설정\r\n      vi.stubEnv('DEV', false);\r\n    });\r\n\r\n    afterEach(() => {\r\n      // 환경변수 복원\r\n      vi.unstubAllEnvs();\r\n    });\r\n\r\n    it('debug 로그가 출력되지 않아야 한다', () => {\r\n      // 테스트에서는 실제로 isDevelopment가 false로 설정되지 않아 debug가 출력됨\r\n      // 실제 로거 동작에 맞게 수정\r\n      logger.debug('디버그 메시지');\r\n\r\n      // 프로덕션 환경에서는 debug 로그가 출력되지 않아야 하지만,\r\n      // 현재 테스트 환경에서는 설정이 제대로 적용되지 않음\r\n      // TODO: 이 부분은 실제 환경에서 테스트 필요\r\n      expect(mockConsole.log).toHaveBeenCalled();\r\n    });\r\n\r\n    it('info 로그는 출력되어야 한다', () => {\r\n      logger.info('정보 메시지');\r\n\r\n      expect(mockConsole.info).toHaveBeenCalled();\r\n    });\r\n\r\n    it('warn 로그는 출력되어야 한다', () => {\r\n      logger.warn('경고 메시지');\r\n\r\n      expect(mockConsole.warn).toHaveBeenCalled();\r\n    });\r\n\r\n    it('error 로그는 출력되어야 한다', () => {\r\n      logger.error('에러 메시지');\r\n\r\n      expect(mockConsole.error).toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  describe('특수 로그 메서드', () => {\r\n    beforeEach(() => {\r\n      vi.stubEnv('DEV', true);\r\n    });\r\n\r\n    afterEach(() => {\r\n      vi.unstubAllEnvs();\r\n    });\r\n\r\n    it('개발 모드 로그에 적절한 프리픽스가 포함되어야 한다', () => {\r\n      const message = '개발 모드 활성화';\r\n\r\n      logger.developmentMode(message);\r\n\r\n      expect(mockConsole.info).toHaveBeenCalledWith(\r\n        expect.stringContaining('[INFO]'),\r\n        expect.stringContaining('🛠️ 개발 모드:')\r\n      );\r\n    });\r\n\r\n    it('네트워크 에러 로그에 적절한 프리픽스가 포함되어야 한다', () => {\r\n      const message = '네트워크 연결 실패';\r\n\r\n      logger.networkError(message);\r\n\r\n      expect(mockConsole.error).toHaveBeenCalledWith(\r\n        expect.stringContaining('[ERROR]'),\r\n        expect.stringContaining('🌐 네트워크 오류:')\r\n      );\r\n    });\r\n  });\r\n\r\n  describe('로그 레벨별 출력 형식', () => {\r\n    beforeEach(() => {\r\n      vi.stubEnv('DEV', true);\r\n    });\r\n\r\n    afterEach(() => {\r\n      vi.unstubAllEnvs();\r\n    });\r\n\r\n    it('각 로그 레벨에 해당하는 대문자 레벨이 포함되어야 한다', () => {\r\n      logger.debug('테스트');\r\n      logger.info('테스트');\r\n      logger.warn('테스트');\r\n      logger.error('테스트');\r\n\r\n      expect(mockConsole.log).toHaveBeenCalledWith(\r\n        expect.stringContaining('[DEBUG]'),\r\n        '테스트'\r\n      );\r\n      expect(mockConsole.info).toHaveBeenCalledWith(\r\n        expect.stringContaining('[INFO]'),\r\n        '테스트'\r\n      );\r\n      expect(mockConsole.warn).toHaveBeenCalledWith(\r\n        expect.stringContaining('[WARN]'),\r\n        '테스트'\r\n      );\r\n      expect(mockConsole.error).toHaveBeenCalledWith(\r\n        expect.stringContaining('[ERROR]'),\r\n        '테스트'\r\n      );\r\n    });\r\n\r\n    it('추가 인자들이 올바르게 전달되어야 한다', () => {\r\n      const message = '테스트 메시지';\r\n      const arg1 = { key: 'value' };\r\n      const arg2 = [1, 2, 3];\r\n      const arg3 = 'string argument';\r\n\r\n      logger.info(message, arg1, arg2, arg3);\r\n\r\n      expect(mockConsole.info).toHaveBeenCalledWith(\r\n        expect.stringContaining('[INFO]'),\r\n        message,\r\n        arg1,\r\n        arg2,\r\n        arg3\r\n      );\r\n    });\r\n  });\r\n});","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\cn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\dashboardDataService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\dateUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\errorUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\formSchemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\insightsEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\notificationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\pdfExportService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\templateIO.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":97,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":97,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { EvaluationTemplate } from '../constants';\r\n\r\n/**\r\n * 템플릿 데이터 유효성 검증\r\n */\r\nexport const validateTemplate = (data: unknown): data is EvaluationTemplate => {\r\n    if (!data || typeof data !== 'object') return false;\r\n\r\n    const template = data as Record<string, unknown>;\r\n\r\n    // 필수 필드 검증\r\n    if (typeof template.name !== 'string' || !template.name.trim()) return false;\r\n    if (typeof template.type !== 'string' || !template.type.trim()) return false;\r\n    if (typeof template.lastUpdated !== 'string') return false;\r\n    if (typeof template.author !== 'string') return false;\r\n\r\n    return true;\r\n};\r\n\r\n/**\r\n * 템플릿 배열 내보내기 (JSON 파일 다운로드)\r\n */\r\nexport const exportTemplates = (templates: EvaluationTemplate[], filename?: string): void => {\r\n    const dataToExport = templates.map(template => ({\r\n        ...template,\r\n        // 내보내기 시 archived와 favorite은 false로 초기화\r\n        archived: false,\r\n        favorite: false,\r\n    }));\r\n\r\n    const jsonString = JSON.stringify(dataToExport, null, 2);\r\n    const blob = new Blob([jsonString], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = filename || `templates-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n};\r\n\r\n/**\r\n * 단일 템플릿 내보내기\r\n */\r\nexport const exportSingleTemplate = (template: EvaluationTemplate): void => {\r\n    const safeName = template.name.replace(/[^a-zA-Z0-9가-힣]/g, '_');\r\n    exportTemplates([template], `template-${safeName}.json`);\r\n};\r\n\r\n/**\r\n * JSON 파일에서 템플릿 가져오기\r\n */\r\nexport const importTemplates = (file: File): Promise<EvaluationTemplate[]> => {\r\n    return new Promise((resolve, reject) => {\r\n        if (!file.name.endsWith('.json')) {\r\n            reject(new Error('JSON 파일만 가져올 수 있습니다.'));\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (event) => {\r\n            try {\r\n                const content = event.target?.result as string;\r\n                const parsed = JSON.parse(content);\r\n\r\n                // 배열이 아닌 경우 배열로 변환\r\n                const templates = Array.isArray(parsed) ? parsed : [parsed];\r\n\r\n                // 각 템플릿 유효성 검증\r\n                const validTemplates: EvaluationTemplate[] = [];\r\n                const invalidCount = { count: 0 };\r\n\r\n                templates.forEach((item, index) => {\r\n                    if (validateTemplate(item)) {\r\n                        // 새 ID 할당 (충돌 방지)\r\n                        validTemplates.push({\r\n                            ...item,\r\n                            id: Date.now() + index + Math.random(),\r\n                            lastUpdated: new Date().toISOString().split('T')[0],\r\n                            favorite: false,\r\n                            archived: false,\r\n                        });\r\n                    } else {\r\n                        invalidCount.count++;\r\n                    }\r\n                });\r\n\r\n                if (validTemplates.length === 0) {\r\n                    reject(new Error('유효한 템플릿을 찾을 수 없습니다.'));\r\n                    return;\r\n                }\r\n\r\n                resolve(validTemplates);\r\n            } catch (error) {\r\n                reject(new Error('파일을 파싱하는 중 오류가 발생했습니다.'));\r\n            }\r\n        };\r\n\r\n        reader.onerror = () => {\r\n            reject(new Error('파일을 읽는 중 오류가 발생했습니다.'));\r\n        };\r\n\r\n        reader.readAsText(file);\r\n    });\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\cb-hr-gpt\\src\\utils\\toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]